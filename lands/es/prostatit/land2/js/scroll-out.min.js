var ScrollOut=function(){"use strict";function e(e,t,n){return e<t?t:n<e?n:e}function t(e){return+(0<e)-+(e<0)}var n,r={};function i(e){return"-"+e[0].toLowerCase()}function o(e){return r[e]||(r[e]=e.replace(/([A-Z])/g,i))}function l(e,t){return e&&0!==e.length?e.nodeName?[e]:[].slice.call(e[0].nodeName?e:(t||document.documentElement).querySelectorAll(e)):[]}function c(e,t){for(var n in t)n.indexOf("_")&&e.setAttribute("data-"+o(n),t[n])}var s=[];function f(){s.slice().forEach((function(e){return e()})),n=s.length?requestAnimationFrame(f):0}function a(e){return s.push(e),n||f(),function(){!(s=s.filter((function(t){return t!==e}))).length&&n&&(n=0,cancelAnimationFrame(n))}}function u(){}return function(n){var r,i,s,f=(n=n||{}).onChange||u,d=n.onHidden||u,v=n.onShown||u,h=n.onScroll||u,g=n.cssProps?(r=n.cssProps,function(e,t){for(var n in t)n.indexOf("_")&&(!0===r||r[n])&&e.style.setProperty("--"+o(n),(i=t[n],Math.round(1e4*i)/1e4));var i}):u,m=n.scrollingElement,p=m?l(m)[0]:window,w=m?l(m)[0]:document.documentElement,X=!1,Y={},b=[],D=a(P);function E(){b=l(n.targets||"[data-scroll]",l(n.scope||w)[0]).map((function(e){return{element:e}}))}function L(){var r=w.clientWidth,o=w.clientHeight,l=t(-i+(i=w.scrollLeft||window.pageXOffset)),c=t(-s+(s=w.scrollTop||window.pageYOffset)),f=w.scrollLeft/(w.scrollWidth-r||1),u=w.scrollTop/(w.scrollHeight-o||1);X=X||Y.scrollDirX!==l||Y.scrollDirY!==c||Y.scrollPercentX!==f||Y.scrollPercentY!==u,Y.scrollDirX=l,Y.scrollDirY=c,Y.scrollPercentX=f,Y.scrollPercentY=u;for(var d=!1,v=0;v<b.length;v++){for(var h=b[v],g=h.element,m=g,E=0,L=0;E+=m.offsetLeft,L+=m.offsetTop,(m=m.offsetParent)&&m!==p;);var _=g.clientHeight||g.offsetHeight||0,H=g.clientWidth||g.offsetWidth||0,W=(e(E+H,i,i+r)-e(E,i,i+r))/H,x=(e(L+_,s,s+o)-e(L,s,s+o))/_,A=1===W?0:t(E-i),O=1===x?0:t(L-s),C=e((i-(H/2+E-r/2))/(r/2),-1,1),S=e((s-(_/2+L-o/2))/(o/2),-1,1),y=+(n.offset?n.offset<=s:(n.threshold||0)<W*x),T=h.visible!==y;(h._changed||T||h.visibleX!==W||h.visibleY!==x||h.index!==v||h.elementHeight!==_||h.elementWidth!==H||h.offsetX!==E||h.offsetY!==L||h.intersectX!=h.intersectX||h.intersectY!=h.intersectY||h.viewportX!==C||h.viewportY!==S)&&(d=!0,h._changed=!0,h._visibleChanged=T,h.visible=y,h.elementHeight=_,h.elementWidth=H,h.index=v,h.offsetX=E,h.offsetY=L,h.visibleX=W,h.visibleY=x,h.intersectX=A,h.intersectY=O,h.viewportX=C,h.viewportY=S,h.visible=y)}D||!X&&!d||(D=a(P))}function P(){_(),X&&(X=!1,c(w,{scrollDirX:Y.scrollDirX,scrollDirY:Y.scrollDirY}),g(w,Y),h(w,Y,b));for(var e=b.length-1;-1<e;e--){var t=b[e],r=t.element,i=t.visible;t._changed&&(t._changed=!1,g(r,t)),t._visibleChanged&&(c(r,{scroll:i?"in":"out"}),f(r,t,w),(i?v:d)(r,t,w)),i&&n.once&&b.splice(e,1)}}function _(){D&&(D(),D=void 0)}return E(),L(),window.addEventListener("resize",L),p.addEventListener("scroll",L),{index:E,update:L,teardown:function(){_(),window.removeEventListener("resize",L),p.removeEventListener("scroll",L)}}}}();