!function(k,p,b){function n(r,j){var e=null;return function(){var a=this,i=arguments;null===e&&(e=setTimeout(function(){r.apply(a,i),e=null},j))}}var c,l=(c={},function(s){if(c[s]!==b){return c[s]}var u=document.createElement("div").style,v=s.charAt(0).toUpperCase()+s.slice(1),r=(s+" "+["webkit","moz","ms","o"].join(v+" ")+v).split(" ");for(var j in r){if(r[j] in u){return c[s]=r[j]}}return c[s]=!1}),o="http://www.w3.org/2000/svg",q=k(p),m=l("transform"),h={itemContainer:"ul",itemSelector:"li",start:"center",fadeIn:400,loop:!1,autoplay:!1,pauseOnHover:!0,style:"coverflow",spacing:-0.6,click:!0,keyboard:!0,scrollwheel:!0,touch:!0,nav:!1,buttons:!1,buttonPrev:"Previous",buttonNext:"Next",onItemSwitch:!1},f={main:"flipster",active:"flipster--active",container:"flipster__container",nav:"flipster__nav",navChild:"flipster__nav__child",navItem:"flipster__nav__item",navLink:"flipster__nav__link",navCurrent:"flipster__nav__item--current",navCategory:"flipster__nav__item--category",navCategoryLink:"flipster__nav__link--category",button:"flipster__button",buttonPrev:"flipster__button--prev",buttonNext:"flipster__button--next",item:"flipster__item",itemCurrent:"flipster__item--current",itemPast:"flipster__item--past",itemFuture:"flipster__item--future",itemContent:"flipster__item__content"},d=new RegExp("\\b("+f.itemCurrent+"|"+f.itemPast+"|"+f.itemFuture+")(.*?)(\\s|$)","g"),g=new RegExp("\\s\\s+","g");k.fn.flipster=function(i){if("string"==typeof i){var j=Array.prototype.slice.call(arguments,1);return this.each(function(){var e=k(this).data("methods");return e[i]?e[i].apply(this,j):this})}var a=k.extend({},h,i);return this.each(function(){var F,S,I,L,J,G,N,V,E,D=k(this),K=[],Q=0,U=!1,T=!1;function P(s){return s=s||"next",k('<button class="'+f.button+" "+("next"===s?f.buttonNext:f.buttonPrev)+'" role="button" />').html((u="next"===(r=s)?a.buttonNext:a.buttonPrev,"custom"===a.buttons?u:'<svg viewBox="0 0 13 20" xmlns="'+o+'" aria-labelledby="title"><title>'+u+'</title><polyline points="10,3 3,10 10,17"'+("next"===r?' transform="rotate(180 6.5,10)"':"")+"/></svg>")).on("click",function(e){z(s),e.preventDefault()});var r,u}function M(){D.css("transition",""),S.css("transition",""),J.css("transition","")}function R(r){var s,u;r&&(D.css("transition","none"),S.css("transition","none"),J.css("transition","none")),I=S.width(),S.height((u=0,J.each(function(){s=k(this).height(),u<s&&(u=s)}),u)),I?(L&&(clearInterval(L),L=!1),J.each(function(w){var x,y,v=k(this);v.attr("class",function(C,Y){return Y&&Y.replace(d,"").replace(g," ")}),x=v.outerWidth(),0!==a.spacing&&v.css("margin-right",x*a.spacing+"px"),y=v.position().left,K[w]=-1*(y+x/2-I/2),w===J.length-1&&(X(),r&&setTimeout(M,1))})):L=L||setInterval(function(){R(r)},500)}function X(){var t,u,s,r=J.length;J.each(function(e){t=k(this),u=" ",s=e===Q?(u+=f.itemCurrent,r+1):e<Q?(u+=f.itemPast+" "+f.itemPast+"-"+(Q-e),r-(Q-e)):(u+=f.itemFuture+" "+f.itemFuture+"-"+(e-Q),r-(e-Q)),t.css("z-index",s).attr("class",function(v,w){return w&&w.replace(d,"").replace(g," ")+u})}),0<=Q&&(I&&K[Q]!==b||R(!0),m?S.css("transform","translateX("+K[Q]+"px)"):S.css({left:K[Q]+"px"})),function(){if(a.nav){var e=G.data("flip-category");V.removeClass(f.navCurrent),E.filter(function(){return k(this).data("index")===Q||e&&k(this).data("category")===e}).parent().addClass(f.navCurrent)}}()}function z(r){var s=Q;if(!(J.length<=1)){return"prev"===r?0<Q?Q--:a.loop&&(Q=J.length-1):"next"===r?Q<J.length-1?Q++:a.loop&&(Q=0):"number"==typeof r?Q=r:r!==b&&(Q=J.index(r),a.loop&&s!=Q&&(s==J.length-1&&Q!=J.length-2&&(Q=0),0==s&&1!=Q&&(Q=J.length-1))),G=J.eq(Q),Q!==s&&a.onItemSwitch&&a.onItemSwitch.call(D,J[Q],J[s]),X(),D}}function W(e){return a.autoplay=e||a.autoplay,clearInterval(U),U=setInterval(function(){var r=Q;z("next"),r!==Q||a.loop||clearInterval(U)},a.autoplay),D}function A(){return clearInterval(U),U=0,D}function B(e){return A(),a.autoplay&&e&&(U=-1),D}function H(){R(!0),D.hide().css("visibility","").addClass(f.active).fadeIn(a.fadeIn)}function O(){var e;if(S=D.find(a.itemContainer).addClass(f.container),!((J=S.find(a.itemSelector)).length<=1)){return J.addClass(f.item).each(function(){var r=k(this);r.children("."+f.itemContent).length||r.wrapInner('<div class="'+f.itemContent+'" />')}),a.click&&J.on("click.flipster touchend.flipster",function(r){T||(k(this).hasClass(f.itemCurrent)||r.preventDefault(),z(this))}),a.buttons&&1<J.length&&(D.find("."+f.button).remove(),D.append(P("prev"),P("next"))),e={},!a.nav||J.length<=1||(N&&N.remove(),N=k('<ul class="'+f.nav+'" role="navigation" />'),E=k(""),J.each(function(w){var C=k(this),Y=C.data("flip-category"),v=C.data("flip-title")||C.attr("title")||w,u=k('<a href="#" class="'+f.navLink+'">'+v+"</a>").data("index",w);if(E=E.add(u),Y){if(!e[Y]){var y=k('<li class="'+f.navItem+" "+f.navCategory+'">'),x=k('<a href="#" class="'+f.navLink+" "+f.navCategoryLink+'" data-flip-category="'+Y+'">'+Y+"</a>").data("category",Y).data("index",w);e[Y]=k('<ul class="'+f.navChild+'" />'),E=E.add(x),y.append(x,e[Y]).appendTo(N)}e[Y].append(u)}else{N.append(u)}u.wrap('<li class="'+f.navItem+'">')}),N.on("click","a",function(r){var s=k(this).data("index");0<=s&&(z(s),r.preventDefault())}),"after"===a.nav?D.append(N):D.prepend(N),V=N.find("."+f.navItem)),0<=Q&&z(Q),D}}F={jump:z,next:function(){return z("next")},prev:function(){return z("prev")},play:W,stop:A,pause:B,index:O},D.data("methods",F),D.hasClass(f.active)||function(){var ac;if(D.css("visibility","hidden"),O(),J.length<=1){D.css("visibility","")}else{ac=!!a.style&&"flipster--"+a.style.split(" ").join(" flipster--"),D.addClass([f.main,m?"flipster--transform":" flipster--no-transform",ac,a.click?"flipster--click":""].join(" ")),a.start&&(Q="center"===a.start?Math.floor(J.length/2):a.start),z(Q);var Y,x,C,aa,v,ad,w,y,Z=D.find("img");if(Z.length){var ab=0;Z.on("load",function(){++ab>=Z.length&&H()}),setTimeout(H,750)}else{H()}q.on("resize.flipster",n(R,400)),a.autoplay&&W(),a.pauseOnHover&&S.on("mouseenter.flipster",function(){U?B(!0):A()}).on("mouseleave.flipster",function(){-1===U&&W()}),Y=D,a.keyboard&&(Y[0].tabIndex=0,Y.on("keydown.flipster",n(function(r){var s=r.which;37!==s&&39!==s||(z(37===s?"prev":"next"),r.preventDefault())},250))),function(af){if(a.scrollwheel){var ai,ak,ae=!1,u=0,ah=0,ag=0,aj=/mozilla/.test(navigator.userAgent.toLowerCase())&&!/webkit/.test(navigator.userAgent.toLowerCase());af.on("mousewheel.flipster wheel.flipster",function(){ae=!0}).on("mousewheel.flipster wheel.flipster",n(function(e){clearTimeout(ah),ah=setTimeout(function(){ag=u=0},300),e=e.originalEvent,ag+=e.wheelDelta||-1*(e.deltaY+e.deltaX),Math.abs(ag)<25&&!aj||(u++,ak!==(ai=0<ag?"prev":"next")&&(u=0),ak=ai,(u<6||u%3==0)&&z(ai),ag=0)},50)),af.on("mousewheel.flipster wheel.flipster",function(e){ae&&(e.preventDefault(),ae=!1)})}}(S),x=S,a.touch&&x.on({"touchstart.flipster":function(e){e=e.originalEvent,C=e.touches?e.touches[0].clientX:e.clientX,aa=e.touches?e.touches[0].clientY:e.clientY},"touchmove.flipster":function(e){e=e.originalEvent,v=e.touches?e.touches[0].clientX:e.clientX,ad=e.touches?e.touches[0].clientY:e.clientY,y=v-C,w=ad-aa,30<Math.abs(y)&&Math.abs(w)<100&&e.preventDefault()},"touchend.flipster touchcancel.flipster ":function(){y=v-C,w=ad-aa,30<Math.abs(y)&&Math.abs(w)<100&&z(0<y?"prev":"next")}})}}()})}}(jQuery,window);