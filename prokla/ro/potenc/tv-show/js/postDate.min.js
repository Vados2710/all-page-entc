document.addEventListener("DOMContentLoaded",function(){
// Вивід дати (+ час).
// Arguments: dateFormat (string), language (string), abbreviated (bool). Default: 'dd.mm.yyyy', 'ru', false
postDate()});var d=new Date;document.querySelector(".year").innerHTML=d.getFullYear().toString();function postDate(sa){
// Додаємо клас "date-N", де N - кількість "відмотаних" днів.
// Наприклад, span class="date-0"></span> - мотає 0 днів назад (сьогодні).
// Наприклад, span class="date-5"></span> - мотає 5 днів назад.
// Вивід дати (+ години + хвилини), додаємо клас "time". Наприклад, <span class="date-1 time"></span>. 
// Виводить у форматі на зразок "14.02.2018 14:22"
// Працює як в порядку зростання, так і в порядку спадання (міняємо флажок нижче)
sa=sa||"dd.mm.yyyy";for(var msInDay=864e5,counterLength=90,// Максимальна кількість вімотаних днів. Змінюємо за необхідності.
localDate=new Date,counter=0;counter<counterLength;counter++){var dateClass="date-"+counter,nodeList=document.getElementsByClassName(dateClass),date=new Date(localDate.getTime()-counter*msInDay),timeCounter=0,timeArray=time(nodeList/*, true*/);// Розкоментувати, якщо необхідне сортування в порядку спадання.
timeArray=timeFormat(timeArray);for(var i=0;i<nodeList.length;i++){var data=nodeList[i].dataset;if(data.format){nodeList[i].innerHTML=format(date,data.format);
// format: особливий формать для окремої дати. Додаємo як data-format="фомарт". 
/// Формати дивитись в switch нижче. dd - числом, day - прописом.
// Наприклад, <span class="date-1" data-format="dd month yyyy"></span> 
// мотає на 1 день назад і виводить цей span у вигляді "14 Лютого 2018".
}else{
// Загальний формат виводу дати змінювати ТУТ!
nodeList[i].innerHTML=format(date,sa);// Default: dd.mm.yyyy 
}if(/\btime\b/.test(nodeList[i].className)){nodeList[i].innerHTML+=" "+timeArray[timeCounter];// Рядок для формату виводу часу.
timeCounter++}}}
// <span clas="date-N"></span> - мотає час назад на N днів. Наприклад, <span className="date-5"></span>
// <span clas="dateN"></span> - мотає час вперед на N днів. Наприклад, <span className="date5"></span>
for(counter=0;counter<counterLength;counter++){for(dateClass="date"+counter,nodeList=document.getElementsByClassName(dateClass),date=new Date(localDate.getTime()+counter*msInDay),timeCounter=0,i=0;i<nodeList.length;i++){data=nodeList[i].dataset;if(data.format){nodeList[i].innerHTML=format(date,data.format)}else{nodeList[i].innerHTML=format(date/*, "dd month yyyy"*/)}}}function time(nodeList,reverse){for(var timeArray=[],timeStatement=false,i=0;i<nodeList.length;i++){if(nodeList[i].className.match(/\btime\b/)){if(nodeList[i].className.match(/\bdate-0\b/)){timeStatement=true}timeArray.push(timeRandom(timeStatement))}}if(reverse){timeArray.sort(function(a,b){return b-a})}else{timeArray.sort(function(a,b){return a-b})}return timeArray}function timeRandom(statement){if(statement){var date=new Date,timeLimit=60*date.getHours()+date.getMinutes();return Math.round(0+Math.random()*timeLimit)}return Math.round(0+1440*Math.random())}function timeFormat(timearray){for(var array=[],i=0;i<timearray.length;i++){var htemp=Math.floor(timearray[i]/60),mtemp=timearray[i]%60,hours=htemp<10?"0"+htemp:htemp,minutes=mtemp<10?"0"+mtemp:mtemp;array.push(hours+":"+minutes)}return array}function format(date,formatstring){var innerDate="",day=date.getDate(),year=date.getFullYear(),month=date.getMonth()+1,fo=formatstring||true;switch(fo){case"mm.dd.yyyy":innerDate+=month<10?"0"+month:month;innerDate+=".";innerDate+=day<10?"0"+day:day;innerDate+="."+year;return innerDate;case"dd/mm/yyyy":innerDate+=day<10?"0"+day:day;innerDate+="/";innerDate+=month<10?"0"+month:month;innerDate+="/"+year;return innerDate;case"dd-mm-yyyy":innerDate+=day<10?"0"+day:day;innerDate+="-";innerDate+=month<10?"0"+month:month;innerDate+="-"+year;return innerDate;case"yyyy.mm.dd":innerDate+=year;innerDate+=".";innerDate+=month<10?"0"+month:month;innerDate+=".";innerDate+=day<10?"0"+day:day;return innerDate;default:innerDate+=day<10?"0"+day:day;innerDate+=".";innerDate+=month<10?"0"+month:month;innerDate+="."+year;return innerDate}}}
