function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(e){var t,n,r;"function"==typeof define&&define.amd&&("undefined"!=typeof requirejs&&(t=requirejs,n="[history"+(new Date).getTime()+"]",r=t.onError,e.toString=function(){return n},t.onError=function(e){-1===e.message.indexOf(n)&&r.call(t,e)}),define([],e)),"object"!==("undefined"==typeof exports?"undefined":_typeof(exports))||"undefined"==typeof module?e():module.exports=e()}((function(){var e=!0,t=null,n=!1;function r(e,t){var n=d.history!==E;n&&(d.history=E),e.apply(E,t),n&&(d.history=_)}function o(){}function i(n,r,o){n==t||""===n||r?(n=r?n:S.href,w&&!o||(n=n.replace(/^[^#]*/,"")||"#",n=S.protocol.replace(/:.*$|$/,":")+"//"+S.host+V.basepath+n.replace(RegExp("^#[/]?(?:"+V.type+")?"),""))):(r=i(),a=g.getElementsByTagName("base")[0],!o&&a&&a.getAttribute("href")&&(a.href=a.href,r=i(a.href,t,e)),o=r.e,a=r.h,n=/^(?:\w+\:)?\/\//.test(n=""+n)?0===n.indexOf("/")?a+n:n:a+"//"+r.g+(0===n.indexOf("/")?n:0===n.indexOf("?")?o+n:0===n.indexOf("#")?o+r.f+n:o.replace(/[^\/]+$/g,"")+n)),N.href=n;r=(n=/(?:([a-zA-Z0-9\-]+\:))?(?:\/\/(?:[^@]*@)?([^\/:\?#]+)(?::([0-9]+))?)?([^\?#]*)(?:(\?[^#]+)|\?)?(?:(#.*))?/.exec(N.href))[2]+(n[3]?":"+n[3]:""),o=n[4]||"/";var a=n[5]||"",c="#"!==n[6]&&n[6]||"",f=o+a+c,s=o.replace(RegExp("^"+V.basepath,"i"),V.type)+a;return{a:n[1]+"//"+r+f,h:n[1],g:r,i:n[2],k:n[3]||"",e:o,f:a,b:c,c:f,j:s,d:s+c}}function a(r,i,a,c){var f=0;a||(a={set:o},f=1);var s=!a.set,u=!a.get,p={configurable:e,set:function(){s=1},get:function(){u=1}};try{j(r,i,p),r[i]=r[i],j(r,i,a)}catch(c){}if(!(s&&u||(r.__defineGetter__&&(r.__defineGetter__(i,p.get),r.__defineSetter__(i,p.set),r[i]=r[i],a.get&&r.__defineGetter__(i,a.get),a.set&&r.__defineSetter__(i,a.set)),s&&u))){if(f)return n;if(r===d){try{var l=r[i];r[i]=t}catch(c){}if("execScript"in d)d.execScript("Public "+i,"VBScript"),d.execScript("var "+i+";","JavaScript");else try{j(r,i,{value:o})}catch(c){"onpopstate"===i&&(R("popstate",a=function(){T("popstate",a,n);var e=r.onpopstate;r.onpopstate=t,setTimeout((function(){r.onpopstate=e}),1)},n),D=0)}r[i]=l}else try{try{var h,y=b.create(r);for(h in j(b.getPrototypeOf(y)===r?y:r,i,a),r)"function"==typeof r[h]&&(y[h]=r[h].bind(r));try{c.call(y,y,r)}catch(c){}r=y}catch(c){j(r.constructor.prototype,i,a)}}catch(c){return n}}return r}function c(n,r){var i=(""+("string"==typeof n?n:n.type)).replace(/^on/,""),c=q[i];if(c){if((r="string"==typeof n?r:n).target==t)for(var f=["target","currentTarget","srcElement","type"];n=f.pop();)r=a(r,n,{get:"type"===n?function(){return i}:function(){return d}});D&&(("popstate"===i?d.onpopstate:d.onhashchange)||o).call(d,r);f=0;for(var s=c.length;f<s;f++)c[f].call(d,r);return e}return B(n,r)}function f(){var e=g.createEvent?g.createEvent("Event"):g.createEventObject();e.initEvent?e.initEvent("popstate",n,n):e.type="popstate",e.state=_.state,c(e)}function s(e,t,r,o){w?$=S.href:(0===U&&(U=2),(t=i(t,2===U&&-1!==(""+t).indexOf("#"))).c!==i().c&&($=o,r?S.replace("#"+t.d):S.hash=t.d)),!P&&e&&(G[S.href]=e),M=n}function u(t){var n,r=$;$=S.href,r&&(J!==S.href&&f(),t=t||d.event,r=i(r,e),n=i(),t.oldURL||(t.oldURL=r.a,t.newURL=n.a),r.b!==n.b&&c(t))}function p(t){setTimeout((function(){R("popstate",(function(e){J=S.href,P||(e=a(e,"state",{get:function(){return _.state}})),c(e)}),n)}),0),!w&&t!==e&&"location"in _&&(h(C.hash),M&&(M=n,f()))}function l(e){var t;e:{for(t=(e=e||d.event).target||e.srcElement;t;){if("A"===t.nodeName)break e;t=t.parentNode}t=void 0}var r="defaultPrevented"in e?e.defaultPrevented:e.returnValue===n;t&&"A"===t.nodeName&&!r&&(r=i(),t=i(t.getAttribute("href",2)),r.a.split("#").shift()===t.a.split("#").shift()&&t.b&&(r.b!==t.b&&(C.hash=t.b),h(t.b),e.preventDefault?e.preventDefault():e.returnValue=n))}function h(e){var t=g.getElementById(e=(e||"").replace(/^#/,""));t&&t.id===e&&"A"===t.nodeName&&(e=t.getBoundingClientRect(),d.scrollTo(v.scrollLeft||0,e.top+(v.scrollTop||0)-(v.clientTop||0)))}var d=("object"===("undefined"==typeof window?"undefined":_typeof(window))?window:this)||{};if(!d.history||"emulate"in d.history)return d.history;var y,g=d.document,v=g.documentElement,b=d.Object,m=d.JSON,S=d.location,E=d.history,_=E,x=E.pushState,O=E.replaceState,w=-1===(L=d.navigator.userAgent).indexOf("Android 2.")&&-1===L.indexOf("Android 4.0")||-1===L.indexOf("Mobile Safari")||-1!==L.indexOf("Chrome")||-1!==L.indexOf("Windows Phone")?!!x:n,P="state"in E,j=b.defineProperty,C=a({},"t")?{}:g.createElement("a"),A="",I=d.addEventListener?"addEventListener":(A="on","attachEvent"),F=d.removeEventListener?"removeEventListener":"detachEvent",L=d.dispatchEvent?"dispatchEvent":"fireEvent",R=d[I],T=d[F],B=d[L],V={basepath:"/",redirect:0,type:"/",init:0},k="__historyAPI__",N=g.createElement("a"),$=S.href,J="",D=1,M=n,U=0,G={},q={},z=g.title,H={onhashchange:t,onpopstate:t},W={setup:function(e,n,r){V.basepath=(""+(e==t?V.basepath:e)).replace(/(?:^|\/)[^\/]*$/,"/"),V.type=n==t?V.type:n,V.redirect=r==t?V.redirect:!!r},redirect:function(r,o){var a;_.setup(o,r),o=V.basepath,d.top==d.self&&(a=i(t,n,e).c,r=S.pathname+S.search,w?(r=r.replace(/([^\/])$/,"$1/"),a!=o&&RegExp("^"+o+"$","i").test(r)&&S.replace(a)):r!=o&&(r=r.replace(/([^\/])\?/,"$1/?"),RegExp("^"+o,"i").test(r)&&S.replace(o+"#"+r.replace(RegExp("^"+o,"i"),V.type)+S.hash)))},pushState:function(e,n,o){var i=g.title;z!=t&&(g.title=z),x&&r(x,arguments),s(e,o),g.title=i,z=n},replaceState:function(n,o,i){var a=g.title;z!=t&&(g.title=z),delete G[S.href],O&&r(O,arguments),s(n,i,e),g.title=a,z=o},location:{set:function(e){0===U&&(U=1),d.location=e},get:function(){return 0===U&&(U=1),C}},state:{get:function(){return"object"===_typeof(G[S.href])?m.parse(m.stringify(G[S.href])):void 0!==G[S.href]?G[S.href]:t}}},Z={assign:function(e){w||0!==(""+e).indexOf("#")?S.assign(e):s(t,e)},reload:function(e){S.reload(e)},replace:function(n){w||0!==(""+n).indexOf("#")?S.replace(n):s(t,n,e)},toString:function(){return this.href},origin:{get:function(){return void 0!==y?y:S.origin||S.protocol+"//"+S.hostname+(S.port?":"+S.port:"")},set:function(e){y=e}},href:w?t:{get:function(){return i().a}},protocol:t,host:t,hostname:t,port:t,pathname:w?t:{get:function(){return i().e}},search:w?t:{get:function(){return i().f}},hash:w?t:{set:function(e){s(t,(""+e).replace(/^(#|)/,"#"),n,$)},get:function(){return i().b}}};return function(){var r,o,c,f,h=g.getElementsByTagName("script");function y(e){var t,n,r=[],o="VBHistoryClass"+(new Date).getTime()+f++,i=["Class "+o];for(t in e)e.hasOwnProperty(t)&&((n=e[t])&&(n.get||n.set)?(n.get&&i.push("Public "+("_"===t?"Default ":"")+"Property Get ["+t+"]","Call VBCVal([(accessors)].["+t+"].get.call(me),["+t+"])","End Property"),n.set&&i.push("Public Property Let ["+t+"](val)",n="Call [(accessors)].["+t+"].set.call(me,val)\nEnd Property","Public Property Set ["+t+"](val)",n)):(r.push(t),i.push("Public ["+t+"]")));for(i.push("Private [(accessors)]","Private Sub Class_Initialize()","Set [(accessors)]="+o+"FactoryJS()","End Sub","End Class","Function "+o+"Factory()","Set "+o+"Factory=New "+o,"End Function"),d.execScript(i.join("\n"),"VBScript"),d[o+"FactoryJS"]=function(){return e},o=d[o+"Factory"](),i=0;i<r.length;i++)o[r[i]]=e[r[i]];return o}function x(e){var t=/[\\"\u0000-\u001f\u007f-\u009f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,n={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};return t.test(e)?'"'+e.replace(t,(function(e){return e in n?n[e]:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)}))+'"':'"'+e+'"'}(-1!==(h=(h[h.length-1]||{}).src||"").indexOf("?")?h.split("?").pop():"").replace(/(\w+)(?:=([^&]*))?/g,(function(e,t,n){V[t]=(n||"").replace(/^(0|false)$/,"")})),!(f=d.execScript&&(d.execScript("var documentMsie/*@cc_on =1@*/;","JavaScript"),d.documentMsie))||g.documentMode&&7<g.documentMode||(r=a,o=i().a,(c=g.createElement("iframe")).src="javascript:true;",c=v.firstChild.appendChild(c).contentWindow,d.execScript("Public history\nFunction VBCVal(o,r) If IsObject(o) Then Set r=o Else r=o End If End Function","VBScript"),C={_:{get:Z.toString}},_={back:E.back,forward:E.forward,go:E.go,emulate:t,_:{get:function(){return"[object History]"}}},m={parse:function(e){try{return new Function("","return "+e)()}catch(e){return t}},stringify:function(e){var t=_typeof(e).charCodeAt(2);if(114===t)e=x(e);else if(109===t)e=isFinite(e)?""+e:"null";else if(111===t||108===t)e=""+e;else if(106===t)if(e){var n=(t="[object Array]"===b.prototype.toString.call(e))?"[":"{";if(t)for(var r=0;r<e.length;r++)n+=(0==r?"":",")+m.stringify(e[r]);else for(r in e)e.hasOwnProperty(r)&&(n+=(1==n.length?"":",")+x(r)+":"+m.stringify(e[r]));e=n+(t?"]":"}")}else e="null";else e="void 0";return e}},s=function(e,t,r,a,f){var u=c.document;0===U&&(U=2),t=i(t,2===U&&-1!==(""+t).indexOf("#")),M=n,t.c!==i().c||f?($=a,r?c.lfirst?(history.back(),s(e,t.a,0,a,1)):S.replace("#"+t.d):t.a==o&&!f||(c.lfirst?f&&(f=0,e=G[S.href]):(c.lfirst=1,s(e,o,0,a,1)),u.open(),u.write('<script>lfirst=1;parent.location.hash="'+t.d.replace(/"/g,'\\"')+'";<\/script>'),u.close()),!f&&e&&(G[S.href]=e)):e&&(G[S.href]=e)},a=function(e,t,n,o){return r.apply(this,arguments)||(e===C?C[t]=n:e===_?(_[t]=n,"state"===t&&(C=y(C),d.history=_=y(_),d.execScript("var history = window.history;","JavaScript"))):e[t]=n.get&&n.get()),e},setInterval((function(){var e,t=i().a;t!=o&&((e=g.createEventObject()).oldURL=o,e.newURL=o=t,e.type="hashchange",u(e))}),100),d.JSON=m),R(A+"hashchange",u,n);var O=[Z,C,H,d,W,_];P&&delete W.state;for(var j=0;j<O.length;j+=2)for(var F in O[j])if(O[j].hasOwnProperty(F))if("object"!==_typeof(O[j][F]))O[j+1][F]=O[j][F];else{if(h=function(e,t,n){return e=e===Z?S:e,(n=n||{}).set=n.set||function(n){e[t]=n},n.get=n.get||function(){return e[t]},n}(O[j],F,O[j][F]),!a(O[j+1],F,h,(function(e,t){t===_&&(d.history=_=O[j+1]=e)})))return T(A+"hashchange",u,n),n;O[j+1]===d&&(q[F]=q[F.substr(2)]=[])}return _.setup(),V.redirect&&_.redirect(),V.init&&(U=1),!P&&m&&function(){var e;try{(e=d.sessionStorage).setItem(k+"t","1"),e.removeItem(k+"t")}catch(t){e={getItem:function(e){return 1<(e=g.cookie.split(e+"=")).length&&e.pop().split(";").shift()||"null"},setItem:function(e){var t={};(t[S.href]=_.state)&&(g.cookie=e+"="+m.stringify(t))}}}try{G=m.parse(e.getItem(k))||{}}catch(e){G={}}R(A+"unload",(function(){e.setItem(k,m.stringify(G))}),n)}(),w||g[I](A+"click",l,n),"complete"===g.readyState?p(e):(w||i().c===V.basepath||(M=e),R(A+"load",p,n)),e}()?(_.emulate=!w,d[I]=function(e,t,n){e in q?q[e].push(t):3<arguments.length?R(e,t,n,arguments[3]):R(e,t,n)},d[F]=function(e,t,n){var r=q[e];if(r){for(e=r.length;e--;)if(r[e]===t){r.splice(e,1);break}}else T(e,t,n)},d[L]=c,_):void 0}));