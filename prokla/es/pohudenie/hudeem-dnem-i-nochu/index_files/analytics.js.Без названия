!function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=3)}([function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){}return e.getTimestamp=function(){return Math.floor((new Date).getTime()/1e3)},e}();t.Timestamp=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),o=function(){function e(e){this.adi=e.adi,this.adref=e.adref,this.adp=e.adp,this.created_at=n.Timestamp.getTimestamp()}return e.prototype.getSessionFields=function(){return["_url","adi","adref","adp"]},e.prototype.getDataForReceiver=function(e){var t=(this.adref||"").split("-",2),r=t[0]||"",o=t[1]||"";return e.cookie_id=this.adi,e.ref=r,e.ad_ref=o,e.algo_id=null,e.path_id=this.adp,e.created_at=n.Timestamp.getTimestamp(),e.user_resolution=window.screen.width+"x"+window.screen.height,e},e}();t.Session=o},function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(11)),n(r(12))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(4);Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(e){var t=this;if(!document.documentElement.contains(t))return null;do{if(t.matches(e))return t;t=t.parentElement||t.parentNode}while(null!==t&&1===t.nodeType);return null}),void 0===window.xtroInitialized&&((new n.Kernel).boot(window),window.xtroInitialized=!0)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(5),o=r(15),i=r(2),s=r(29),a=function(){function e(){}return e.prototype.boot=function(t){var r=new i.HttpService,a=new n.SessionDataSourceValidator,c=new n.SessionFactory(a),u=new n.SessionSourceAdxtro(r,c),l=new n.SessionSourceUrl(c,t),f=new n.SessionSourceCookie(c),d=new n.SessionService(l,f,u),h=new s.GtmDataLayerService,p=new o.ActionRouter(t,d,u,r,h,new i.QueryParamService),g=new o.ActionQueue,v=t.IntredoAnalyticsObject;t[v]=t[v]||[];var y=t[v].q=t[v].q||[];y.push=function(t){var r=e.getActionAndArguments(t),n=r.action,o=r.args,i=p.createAction(n,o);return g.queueNextAction(i),1},y.forEach((function(t){var r=e.getActionAndArguments(t),n=r.action,o=r.args,i=p.createAction(n,o);g.queueNextAction(i)}))},e.getActionAndArguments=function(e){var t=Array.from(e);return{action:t.shift(),args:t}},e}();t.Kernel=a},function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(1)),n(r(6)),n(r(7)),n(r(8)),n(r(10)),n(r(13)),n(r(14))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){}return e.prototype.check=function(e){return"string"==typeof e.adi&&("string"==typeof e.adref&&("string"==typeof e.adp||"number"==typeof e.adp))},e}();t.SessionDataSourceValidator=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(1),o=function(){function e(e){this.validator=e}return e.prototype.createSession=function(e){return this.validator.check(e)?new n.Session(e):null},e}();t.SessionFactory=o},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{c(n.next(e))}catch(e){i(e)}}function a(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var r,n,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,n=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(9),s=r(1),a=function(){function e(e,t,r){this.sessionUrlReader=e,this.userDataSerializer=t,this.sessionAdxtroSource=r}return e.prototype.load=function(e){return n(this,void 0,void 0,(function(){var t,r,n,s;return o(this,(function(o){switch(o.label){case 0:return t=this.sessionUrlReader.read(),r=i.get("adserver_data"),n=null,r&&(n=this.userDataSerializer.unserialize(r)),n?t&&t.adref&&t.adref!==n.adref?(this.createSessionFromData(t),console.log("Created Session from URL - URL adref is different than Cookie's",this.session),[2,this.session]):(this.session=n,i.set("adserver_data",this.userDataSerializer.serialize(this.session),{expires:30}),console.log("Created Session from Cookie - URL adref is same as Cookie or not present at all",this.session),[2,this.session]):[3,1];case 1:return t&&t.adref?(this.createSessionFromData(t),console.log("Created Session from URL - Cookie missing",this.session),[2,this.session]):[3,2];case 2:return e?(s=this,[4,this.sessionAdxtroSource.getPageData()]):[3,4];case 3:return s.session=o.sent(),i.set("adserver_data",this.userDataSerializer.serialize(this.session),{expires:30}),console.log("Created Session direct Adxtro call - both URL and Cookie data missing",this.session),[2,this.session];case 4:throw new Error("Session not initialized");case 5:return[2]}}))}))},e.prototype.createSessionFromData=function(e){this.session=new s.Session(e),i.set("adserver_data",this.userDataSerializer.serialize(this.session),{expires:30})},e.prototype.getSession=function(){if(!this.session)throw new Error("Session object was not initialized. Did you forget to call xtro('create', APIKEY)?");return this.session},e}();t.SessionService=a},function(e,t,r){var n,o;
/*!
 * JavaScript Cookie v2.2.1
 * https://github.com/js-cookie/js-cookie
 *
 * Copyright 2006, 2015 Klaus Hartl & Fagner Brack
 * Released under the MIT license
 */!function(i){if(void 0===(o="function"==typeof(n=i)?n.call(t,r,t,e):n)||(e.exports=o),!0,e.exports=i(),!!0){var s=window.Cookies,a=window.Cookies=i();a.noConflict=function(){return window.Cookies=s,a}}}((function(){function e(){for(var e=0,t={};e<arguments.length;e++){var r=arguments[e];for(var n in r)t[n]=r[n]}return t}function t(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function r(n){function o(){}function i(t,r,i){if("undefined"!=typeof document){"number"==typeof(i=e({path:"/"},o.defaults,i)).expires&&(i.expires=new Date(1*new Date+864e5*i.expires)),i.expires=i.expires?i.expires.toUTCString():"";try{var s=JSON.stringify(r);/^[\{\[]/.test(s)&&(r=s)}catch(e){}r=n.write?n.write(r,t):encodeURIComponent(String(r)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var a="";for(var c in i)i[c]&&(a+="; "+c,!0!==i[c]&&(a+="="+i[c].split(";")[0]));return document.cookie=t+"="+r+a}}function s(e,r){if("undefined"!=typeof document){for(var o={},i=document.cookie?document.cookie.split("; "):[],s=0;s<i.length;s++){var a=i[s].split("="),c=a.slice(1).join("=");r||'"'!==c.charAt(0)||(c=c.slice(1,-1));try{var u=t(a[0]);if(c=(n.read||n)(c,u)||t(c),r)try{c=JSON.parse(c)}catch(e){}if(o[u]=c,e===u)break}catch(e){}}return e?o[e]:o}}return o.set=i,o.get=function(e){return s(e,!1)},o.getJSON=function(e){return s(e,!0)},o.remove=function(t,r){i(t,"",e(r,{expires:-1}))},o.defaults={},o.withConverter=r,o}((function(){}))}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(2),o=function(){function e(e,t){this.httpService=e,this.sessionFactory=t,this.adxtroUrl="www.adxtro.com"}return e.prototype.setAdxtroUrl=function(e){this.adxtroUrl=e},e.prototype.getPageData=function(){var e=this;return new Promise((function(t,r){var o="https://"+e.adxtroUrl+"/r//?gcm=&_page_url="+n.HttpService.removeTrailingSlash(window.location.href)+"&jsonp=data";e.httpService.xhr(o,(function(n){var o=n.slice(5,-2);try{var i=JSON.parse(o);t(e.sessionFactory.createSession(i))}catch(e){console.error("Invalid session response from Adxtro:"+e),r(e)}}))}))},e}();t.SessionSourceAdxtro=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){}return e.prototype.setApiKey=function(e){return this.apikey=e,this},e.prototype.getApiKey=function(){return this.apikey},e.removeTrailingSlash=function(e){return e.replace(/\/$/,"").replace(/\/\?/,"?")},e.prototype.xhr=function(e,t){var r=new XMLHttpRequest;return r.onreadystatechange=function(){4==this.readyState&&t(this.responseText)},r.open("GET",e,!0),document.referrer&&r.setRequestHeader("X-REFERER",document.referrer),r.send(),r},e.prototype.crossDomainPost=function(e,t){var r=this;return new Promise((function(n,o){r.apikey||o(new Error("Api Key not present. Did you call xtro('create', -API-KEY-)?"));var i=new XMLHttpRequest;i.onreadystatechange=function(){4==this.readyState&&(200==this.status||201==this.status?n(this.responseText):o(this.responseText))},i.open("POST",e,!0),i.setRequestHeader("Content-type","application/json"),i.send(JSON.stringify(t))}))},e}();t.HttpService=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){}return e.prototype.getParams=function(e){return e?(/^[?#]/.test(e)?e.slice(1):e).split("&").reduce((function(e,t){var r=t.split("="),n=r[0],o=r[1];return e[n]=o?decodeURIComponent(o.replace(/\+/g," ")):"",e}),{}):{}},e}();t.QueryParamService=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e){this.sessionFactory=e}return e.prototype.serialize=function(e){var t={adi:e.adi,adref:e.adref,adp:e.adp};return JSON.stringify(t)},e.prototype.unserialize=function(e){try{var t=JSON.parse(e);return null===t?null:this.sessionFactory.createSession(t)}catch(e){return console.warn("Invalid data string in cookie container"),null}},e}();t.SessionSourceCookie=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){this.sessionFactory=e,this.window=t}return e.prototype.read=function(){var e={};if(this.window.location.search){for(var t=this.window.location.search.substring(1).split("&"),r=0;r<t.length;r++){var n=t[r].split("=");void 0===e[n[0]]?e[n[0]]=decodeURIComponent(n[1]):"string"==typeof e[n[0]]?e[n[0]]=[e[n[0]],decodeURIComponent(n[1])]:e[n[0]].push(decodeURIComponent(n[1]))}return this.sessionFactory.createSession(e)}return null},e}();t.SessionSourceUrl=n},function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(16)),n(r(19))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(17),o=function(){function e(){this.queue=n.default(1)}return e.prototype.queueNextAction=function(e){return this.queue((function(){return e.execute()}))},e}();t.ActionQueue=o},function(e,t,r){"use strict";const n=r(18),o=e=>{if(!Number.isInteger(e)&&e!==1/0||!(e>0))return Promise.reject(new TypeError("Expected `concurrency` to be a number from 1 and up"));const t=[];let r=0;const o=()=>{r--,t.length>0&&t.shift()()},i=(e,t,...i)=>{r++;const s=n(e,...i);t(s),s.then(o,o)},s=(n,...o)=>new Promise(s=>((n,o,...s)=>{r<e?i(n,o,...s):t.push(i.bind(null,n,o,...s))})(n,s,...o));return Object.defineProperties(s,{activeCount:{get:()=>r},pendingCount:{get:()=>t.length},clearQueue:{value:()=>{t.length=0}}}),s};e.exports=o,e.exports.default=o},function(e,t,r){"use strict";const n=(e,...t)=>new Promise(r=>{r(e(...t))});e.exports=n,e.exports.default=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(20),o=function(){function e(e,t,r,n,o,i){this.window=e,this.sessionService=t,this.sessionSourceAdxtro=r,this.httpService=n,this.gtmDataLayerService=o,this.windowParamService=i}return e.prototype.createAction=function(e,t){switch(e){case"create":return new n.CreateAction(t,this.httpService,this.sessionService,this.sessionSourceAdxtro,this.gtmDataLayerService,this.windowParamService,this.window);case"form":return new n.FormAction(t,this.httpService,this.sessionService);case"order":return new n.OrderAction(t,this.httpService,this.sessionService,this.gtmDataLayerService);case"update_order":return new n.UpdateOrderAction(t,this.httpService,this.sessionService);default:throw new Error("Invalid Router type")}},e}();t.ActionRouter=o},function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(21)),n(r(26)),n(r(27)),n(r(28))},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{c(n.next(e))}catch(e){i(e)}}function a(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var r,n,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,n=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(22)("xtro:attach"),s=function(){function e(e,t,r,n,o,s,a){var c;if(this.args=e,this.httpService=t,this.sessionService=r,this.sessionSourceAdxtro=n,this.gtmDataLayerService=o,this.windowParamService=s,this.window=a,this.httpService.setApiKey(this.args[0]),"string"==typeof this.args[1]?(c={enable_gtm:!0,handler_class:this.args[1]||"cta",domain:this.window.location.hostname,xtro_url:"xtro24.com",enable_gets:!0,get_values:{},enable_router_fallback:!0,adrouter_url:"xtroglobal.com"},i("Passing string as third creation parameter is deprecated. Use configuration object instead.")):c={enable_gtm:void 0===this.args[1].enable_gtm||this.args[1].enable_gtm,handler_class:void 0===this.args[1].handler_class?"cta":this.args[1].handler_class,domain:this.args[1].domain||this.window.location.hostname,xtro_url:this.args[1].xtro_url||"xtro24.com",enable_gets:void 0===this.args[1].enable_gets||this.args[1].enable_gets,get_values:this.args[1].get_values||{},enable_router_fallback:void 0===this.args[1].enable_router_fallback||this.args[1].enable_router_fallback,adrouter_url:void 0===this.args[1].adrouter_url?"xtroglobal.com":this.args[1].adrouter_url},this.params=this.windowParamService.getParams(this.window.location.search),c.enable_gets)for(var u in this.params)this.params.hasOwnProperty(u)&&(c.get_values.hasOwnProperty(u)||(c.get_values[u]=this.params[u]));try{this.params.adr&&(c.adrouter_url=atob(this.params.adr))}catch(e){}this.config=c}return e.prototype.execute=function(){return n(this,void 0,void 0,(function(){var e,t,r,n,s=this;return o(this,(function(o){switch(o.label){case 0:return this.sessionSourceAdxtro.setAdxtroUrl(this.config.adrouter_url),void 0!==this.params.sub_id&&this.window.document.querySelectorAll("a[href]").forEach((function(e){var t=e.getAttribute("href"),r=t.search("#"),n=-1!==r?t.slice(r):"";if(-1!==r&&(t=t.slice(0,r)),-1!==t.search(/adxtro\.com|xtroglobal\.com|xtroadtr\.com|bckrouter\.com/)){var o=-1===t.search(/\?/)?"?":"&";t=t.concat(o,"sub_id=",s.params.sub_id,n),e.setAttribute("href",t)}})),e="https://"+this.config.adrouter_url+"/r/continue",void 0!==this.params.sub_id&&(e=e.concat("?","sub_id=",this.params.sub_id)),this.window.document.querySelectorAll("a."+this.config.handler_class).forEach((function(t){return t.setAttribute("href",e)})),void 0!==this.params.trx?[3,2]:[4,this.sessionService.load(this.config.enable_router_fallback)];case 1:return o.sent(),this.config.handler_class&&this.attachClickHandlers(this.config.handler_class),this.config.enable_gtm&&(t=this.sessionService.getSession(),this.insertAdTredoGTMTag(t.adref,this.gtmDataLayerService.getGtmDataLayer())),[3,3];case 2:return r=this.config.get_values.trx,n="__trx_"+Math.random().toString(36).replace(".",""),[2,new Promise((function(e){s.window[n]=function(t){if(s.sessionService.createSessionFromData(t),i("Created session via pixel"),s.config.handler_class&&s.attachClickHandlers(s.config.handler_class),s.config.enable_gtm){var r=s.sessionService.getSession();s.insertAdTredoGTMTag(r.adref,s.gtmDataLayerService.getGtmDataLayer())}e()};var t=s.window.document.createElement("script");if(t.src="https://"+s.config.adrouter_url+"/r/"+r+"?jsonp="+n,s.config.enable_gets)for(var o in s.config.get_values)s.config.get_values.hasOwnProperty(o)&&"trx"!==o&&(t.src+="&"+o+"="+encodeURIComponent(s.config.get_values[o]));s.window.document.body.appendChild(t)}))];case 3:return[2]}}))}))},e.prototype.attachClickHandlers=function(e){var t=this,r=this.window.document.body||window.document.body;r&&void 0===r.dataset.xtroAttached&&(r.addEventListener("click",(function(r){var n=r.target;if(!n.classList.contains(e)&&!n.closest("."+e))return!0;i("Found class "+e+" in one clicked elements");try{if(!t.sessionService.getSession().adref)return i("Adxtro Session missing adref hash information. Aborting."),!0}catch(e){return i("Adxtro Session not loaded when CTA is clicked. Aborting."),!0}i("Preventing default action");var o="https://"+t.config.adrouter_url+"/r/continue"+(void 0!==t.params.sub_id?"?sub_id="+t.params.sub_id:"");return i("New location: "+o),t.window.location.href=o,r.preventDefault(),!1})),r.dataset.xtroAttached="true")},e.prototype.insertAdTredoGTMTag=function(e,t){var r=this.window.document.getElementsByTagName("script")[0];t.addReflink(e),t.setGetValues(this.config.get_values);var n=this.window;n.dataLayer,n.dataLayer=[t],void 0===n.dataLayer_xtro?n.dataLayer_xtro=[t]:n.dataLayer_xtro.push(t);var o=this.window.document.createElement("script");o.src="//"+this.config.xtro_url+"/gtm?domain="+this.config.domain+"&page="+n.location.pathname+"&ref="+e,r.parentNode.insertBefore(o,r)},e}();t.CreateAction=s},function(e,t,r){(function(n){t.log=function(...e){return"object"==typeof console&&console.log&&console.log(...e)},t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const r="color: "+this.color;t.splice(1,0,r,"color: inherit");let n=0,o=0;t[0].replace(/%[a-zA-Z%]/g,e=>{"%%"!==e&&(n++,"%c"===e&&(o=n))}),t.splice(o,0,r)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(e){}},t.load=function(){let e;try{e=t.storage.getItem("debug")}catch(e){}!e&&void 0!==n&&"env"in n&&(e=n.env.DEBUG);return e},t.useColors=function(){if("undefined"!=typeof window&&window.process&&("renderer"===window.process.type||window.process.__nwjs))return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage=function(){try{return localStorage}catch(e){}}(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.exports=r(24)(t);const{formatters:o}=e.exports;o.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}}).call(this,r(23))},function(e,t){var r,n,o=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(e){if(r===setTimeout)return setTimeout(e,0);if((r===i||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:i}catch(e){r=i}try{n="function"==typeof clearTimeout?clearTimeout:s}catch(e){n=s}}();var c,u=[],l=!1,f=-1;function d(){l&&c&&(l=!1,c.length?u=c.concat(u):f=-1,u.length&&h())}function h(){if(!l){var e=a(d);l=!0;for(var t=u.length;t;){for(c=u,u=[];++f<t;)c&&c[f].run();f=-1,t=u.length}c=null,l=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===s||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function g(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];u.push(new p(e,t)),1!==u.length||l||a(h)},p.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=g,o.addListener=g,o.once=g,o.off=g,o.removeListener=g,o.removeAllListeners=g,o.emit=g,o.prependListener=g,o.prependOnceListener=g,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(e,t,r){e.exports=function(e){function t(e){let t=0;for(let r=0;r<e.length;r++)t=(t<<5)-t+e.charCodeAt(r),t|=0;return n.colors[Math.abs(t)%n.colors.length]}function n(e){let r;function s(...e){if(!s.enabled)return;const t=s,o=Number(new Date),i=o-(r||o);t.diff=i,t.prev=r,t.curr=o,r=o,e[0]=n.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");let a=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,(r,o)=>{if("%%"===r)return r;a++;const i=n.formatters[o];if("function"==typeof i){const n=e[a];r=i.call(t,n),e.splice(a,1),a--}return r}),n.formatArgs.call(t,e),(t.log||n.log).apply(t,e)}return s.namespace=e,s.enabled=n.enabled(e),s.useColors=n.useColors(),s.color=t(e),s.destroy=o,s.extend=i,"function"==typeof n.init&&n.init(s),n.instances.push(s),s}function o(){const e=n.instances.indexOf(this);return-1!==e&&(n.instances.splice(e,1),!0)}function i(e,t){const r=n(this.namespace+(void 0===t?":":t)+e);return r.log=this.log,r}function s(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return n.debug=n,n.default=n,n.coerce=function(e){if(e instanceof Error)return e.stack||e.message;return e},n.disable=function(){const e=[...n.names.map(s),...n.skips.map(s).map(e=>"-"+e)].join(",");return n.enable(""),e},n.enable=function(e){let t;n.save(e),n.names=[],n.skips=[];const r=("string"==typeof e?e:"").split(/[\s,]+/),o=r.length;for(t=0;t<o;t++)r[t]&&("-"===(e=r[t].replace(/\*/g,".*?"))[0]?n.skips.push(new RegExp("^"+e.substr(1)+"$")):n.names.push(new RegExp("^"+e+"$")));for(t=0;t<n.instances.length;t++){const e=n.instances[t];e.enabled=n.enabled(e.namespace)}},n.enabled=function(e){if("*"===e[e.length-1])return!0;let t,r;for(t=0,r=n.skips.length;t<r;t++)if(n.skips[t].test(e))return!1;for(t=0,r=n.names.length;t<r;t++)if(n.names[t].test(e))return!0;return!1},n.humanize=r(25),Object.keys(e).forEach(t=>{n[t]=e[t]}),n.instances=[],n.names=[],n.skips=[],n.formatters={},n.selectColor=t,n.enable(n.load()),n}},function(e,t){var r=1e3,n=6e4,o=60*n,i=24*o;function s(e,t,r,n){var o=t>=1.5*r;return Math.round(e/r)+" "+n+(o?"s":"")}e.exports=function(e,t){t=t||{};var a=typeof e;if("string"===a&&e.length>0)return function(e){if((e=String(e)).length>100)return;var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(!t)return;var s=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*s;case"weeks":case"week":case"w":return 6048e5*s;case"days":case"day":case"d":return s*i;case"hours":case"hour":case"hrs":case"hr":case"h":return s*o;case"minutes":case"minute":case"mins":case"min":case"m":return s*n;case"seconds":case"second":case"secs":case"sec":case"s":return s*r;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return s;default:return}}(e);if("number"===a&&isFinite(e))return t.long?function(e){var t=Math.abs(e);if(t>=i)return s(e,t,i,"day");if(t>=o)return s(e,t,o,"hour");if(t>=n)return s(e,t,n,"minute");if(t>=r)return s(e,t,r,"second");return e+" ms"}(e):function(e){var t=Math.abs(e);if(t>=i)return Math.round(e/i)+"d";if(t>=o)return Math.round(e/o)+"h";if(t>=n)return Math.round(e/n)+"m";if(t>=r)return Math.round(e/r)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{c(n.next(e))}catch(e){i(e)}}function a(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var r,n,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,n=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(0),s=function(){function e(e,t,r){this.args=e,this.httpService=t,this.sessionService=r}return e.prototype.execute=function(){return n(this,void 0,void 0,(function(){var e,t;return o(this,(function(r){switch(r.label){case 0:return e=this.sessionService.getSession(),(t=e.getDataForReceiver(this.args[0]||{})).type="form_hit",t.shop_id=this.httpService.getApiKey(),t.apikey=this.httpService.getApiKey(),[4,this.httpService.crossDomainPost("https://api.adtredo.ch/api/add_trackpoints?t="+i.Timestamp.getTimestamp(),[t])];case 1:return r.sent(),[2]}}))}))},e}();t.FormAction=s},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{c(n.next(e))}catch(e){i(e)}}function a(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var r,n,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,n=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(0),s=function(){function e(e,t,r,n){if(this.args=e,this.httpService=t,this.sessionService=r,this.gtmDataLayerService=n,!this.args[0])throw new Error("Missing required options argument");if(!this.args[0].order_no)throw new Error('Missing required "order_no" option');if(!this.args[0].cost)throw new Error('Missing required "cost" option');this.data={order_no:this.args[0].order_no,cost:this.args[0].cost},this.args[0].upsell_cost&&(this.data.upsell_cost=this.args[0].upsell_cost),this.args[0].extra_cost&&(this.data.extra_cost=this.args[0].extra_cost),this.args[0].currency&&(this.data.currency=this.args[0].currency),this.args[0].country_iso&&(this.data.country_iso=this.args[0].country_iso),this.args[0].language_iso&&(this.data.language_iso=this.args[0].language_iso)}return e.prototype.execute=function(){return n(this,void 0,void 0,(function(){var e,t;return o(this,(function(r){return e=this.sessionService.getSession(),(t=e.getDataForReceiver(this.args[0]||{})).order_no=this.data.order_no,t.shop_id=this.httpService.getApiKey(),t.apikey=this.httpService.getApiKey(),this.gtmDataLayerService.getGtmDataLayer().setOrderNo(this.data.order_no).setAmount(this.data.cost).setCountryIso(this.data.country_iso).setLanguageIso(this.data.language_iso).setCurrency(this.data.currency),[2,this.httpService.crossDomainPost("https://api.adtredo.ch/api/add_orders?t="+i.Timestamp.getTimestamp(),[t])]}))}))},e}();t.OrderAction=s},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{c(n.next(e))}catch(e){i(e)}}function a(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var r,n,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,n=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(0),s=function(){function e(e,t,r){this.args=e,this.httpService=t,this.sessionService=r}return e.prototype.execute=function(){return n(this,void 0,void 0,(function(){var e,t;return o(this,(function(r){return e=this.sessionService.getSession(),(t=e.getDataForReceiver(this.args[0]||{})).shop_id=this.httpService.getApiKey(),t.apikey=this.httpService.getApiKey(),t.updated_at=i.Timestamp.getTimestamp(),[2,this.httpService.crossDomainPost("https://api.adtredo.ch/api/add_updated_order?t="+i.Timestamp.getTimestamp(),t)]}))}))},e}();t.UpdateOrderAction=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(30),o=function(){function e(){}return e.prototype.getGtmDataLayer=function(){return this.instance||(this.instance=new n.GtmDataLayer),this.instance},e}();t.GtmDataLayerService=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){this.GET={}}return e.prototype.addReflink=function(e){return this.Reflinks=e,this},e.prototype.setOrderNo=function(e){return this.Order_No=e,this},e.prototype.setGetValues=function(e){return this.GET=e,this},e.prototype.setAmount=function(e){return this.Amount=e,this},e.prototype.setCurrency=function(e){return this.Currency=e,this},e.prototype.setCountryIso=function(e){return this.Country_ISO=e,this},e.prototype.setLanguageIso=function(e){return this.Language_ISO=e,this},e}();t.GtmDataLayer=n}]);
//# sourceMappingURL=analytics.js.map