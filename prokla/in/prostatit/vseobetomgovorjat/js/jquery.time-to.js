(function(a){if(typeof define==="function"&&define.amd){define(["jquery"],a)}else{if(typeof exports==="object"){module.exports=a(require("jquery"))}else{a(jQuery)}}}(function(c){var g=86400;var e=3600;var d={callback:null,step:null,stepCount:1,captionSize:0,countdown:true,countdownAlertLimit:10,displayCaptions:false,displayDays:0,displayHours:true,fontFamily:"Verdana, sans-serif",fontSize:0,lang:"en",languages:{},seconds:0,start:true,theme:"white",width:25,height:30,gap:11,vals:[0,0,0,0,0,0,0,0,0],limits:[9,9,9,2,9,5,9,5,9],iSec:8,iHour:4,tickTimeout:1000,intervalId:null,tickCount:0};var a={start:function(i){var j;if(i){f.call(this,i);j=setTimeout(b.bind(this),1000);this.data("ttStartTime",c.now());this.data("intervalId",j)}},stop:function(){var i=this.data();if(i.intervalId){clearTimeout(i.intervalId);this.data("intervalId",null)}return i},reset:function(j){var k=a.stop.call(this);var i=typeof j==="undefined"?k.seconds:j;this.find("div").css({backgroundPosition:"left center"});this.find("ul").parent().removeClass("timeTo-alert");f.call(this,i,true)}};var h={en:{days:"days",hours:"hours",min:"minutes",sec:"seconds"},ru:{days:"дней",hours:"часов",min:"минут",sec:"секунд"},ua:{days:"днiв",hours:"годин",min:"хвилин",sec:"секунд"},de:{days:"Tag",hours:"Uhr",min:"Minuten",sec:"Secunden"},fr:{days:"jours",hours:"heures",min:"minutes",sec:"secondes"},es:{days:"días",hours:"horas",min:"minutos",sec:"segundos"},sp:{days:"días",hours:"horas",min:"minutos",sec:"segundos"},it:{days:"giorni",hours:"ore",min:"minuti",sec:"secondi"},nl:{days:"dagen",hours:"uren",min:"minuten",sec:"seconden"},no:{days:"dager",hours:"timer",min:"minutter",sec:"sekunder"},pt:{days:"dias",hours:"horas",min:"minutos",sec:"segundos"},tr:{days:"gün",hours:"saat",min:"dakika",sec:"saniye"},pl:{days:"dni",hours:"godziny",min:"minuty",sec:"secundy"}};if(typeof c.support.transition==="undefined"){c.support.transition=(function(){var j=document.body||document.documentElement;var k=j.style;var i=k.transition!==undefined||k.WebkitTransition!==undefined||k.MozTransition!==undefined||k.MsTransition!==undefined||k.OTransition!==undefined;return i}())}c.fn.timeTo=function(){var w={};var k=Date.now();var o,v,p,i,n,s,r,q,l,u;for(o=0;o<arguments.length;o+=1){v=arguments[o];if(o===0&&typeof v==="string"){i=v}else{if(typeof v==="object"){if(typeof v.getTime==="function"){w.timeTo=v}else{w=c.extend(w,v)}}else{if(typeof v==="function"){w.callback=v}else{p=parseInt(v,10);if(!isNaN(p)){w.seconds=p}}}}}if(w.timeTo){if(w.timeTo.getTime){n=w.timeTo.getTime()}else{if(typeof w.timeTo==="number"){n=w.timeTo}}if(n>k){w.seconds=Math.floor((n-k)/1000)}else{w.seconds=0}}else{if(w.time||!w.seconds){n=w.time;if(!n){n=new Date(k)}if(typeof n==="object"&&n.getTime){w.seconds=(n.getDate()*g)+(n.getHours()*e)+(n.getMinutes()*60)+n.getSeconds();w.countdown=false}else{if(typeof n==="string"){r=n.split(":");q=0;l=1;while(r.length){u=r.pop();q+=u*l;l*=60}w.seconds=q;w.countdown=false}}}}if(w.countdown!==false&&w.seconds>g&&typeof w.displayDays==="undefined"){s=Math.floor(w.seconds/g);w.displayDays=(s<10&&1)||(s<100&&2)||3}else{if(w.displayDays===true){w.displayDays=3}else{if(w.displayDays){w.displayDays=w.displayDays>0?Math.floor(w.displayDays):3}}}return this.each(function(){var A=c(this);var R=A.data();var m,t,N,D,L,y,E,O,K,J,M,P,G,C,H,j,z,x,I,Q,F,B;if(R.intervalId){clearInterval(R.intervalId);R.intervalId=null}if(!R.vals){if(R.opt){t=R.options}else{t=w}m=Object.keys(d).reduce(function(T,S){if(Array.isArray(d[S])){T[S]=d[S].slice(0)}else{T[S]=d[S]}return T},{});R=c.extend(m,t);R.options=t;R.height=Math.round((R.fontSize*100)/93)||R.height;R.width=Math.round((R.fontSize*0.8)+(R.height*0.13))||R.width;R.displayHours=!!(R.displayDays||R.displayHours);D={fontFamily:R.fontFamily};if(R.fontSize>0){D.fontSize=R.fontSize+"px"}L=R.languages[R.lang]||h[R.lang];A.addClass("timer-cd").addClass("timer-cd-"+R.theme).css(D);y=Math.round(R.height/10);E='<ul style="left:'+y+"px; top:-"+R.height+'px"><li>0</li><li>0</li></ul></div>';O=R.fontSize?' style="width:'+R.width+"px; height:"+R.height+'px;"':' style=""';K='<div class="t-first"'+O+">"+E;J="<div"+O+">"+E;M="<span>:</span>";P=Math.round((R.width*2)+3);G=R.captionSize||(R.fontSize&&Math.round(R.fontSize*0.43));C=G?"font-size:"+G+"px;":"";H=G?' style="'+C+'"':"";j=(R.displayCaptions?(R.displayHours?'<figure style="max-width:'+P+'px">$1<figcaption'+H+">"+L.hours+"</figcaption></figure>"+M:"")+'<figure style="max-width:'+P+'px">$1<figcaption'+H+">"+L.min+"</figcaption></figure>"+M+'<figure style="max-width:'+P+'px">$1<figcaption'+H+">"+L.sec+"</figcaption></figure>":(R.displayHours?"$1"+M:"")+"$1"+M+"$1").replace(/\$1/g,K+J);if(R.displayDays>0){z=Math.round(R.fontSize*0.4||d.gap);x=K;for(N=R.displayDays-1;N>0;N-=1){x+=N===1?J.replace('">',"margin-right:"+z+'px">'):J}if(R.displayDays===1){x=x.replace('">',"margin-right:"+z+'px">')}j=(R.displayCaptions?'<figure style="width:'+((R.width*R.displayDays)+z+4)+'px">$1<figcaption style="'+C+"padding-right:"+z+'px">'+L.days+"</figcaption></figure>":"$1").replace(/\$1/,x)+j}A.html(j)}else{if(i!=="reset"){c.extend(R,w)}}I=A.find("div");if(I.length<R.vals.length){Q=R.vals.length-I.length;F=R.vals;B=R.limits;R.vals=[];R.limits=[];for(N=0;N<I.length;N+=1){R.vals[N]=F[Q+N];R.limits[N]=B[Q+N]}R.iSec=R.vals.length-1;R.iHour=R.vals.length-5}R.sec=R.seconds;A.data(R);if(i&&a[i]){a[i].call(A,R.seconds)}else{if(R.start){a.start.call(A,R.seconds)}else{f.call(A,R.seconds)}}})};function f(s,k){var q=this.data();var v=this.find("ul");var t=false;var x,l,w,n,r,u,p,o,m;if(!q.vals||v.length===0){return}if(!s){s=q.seconds}if(q.intervalId){t=true;clearTimeout(q.intervalId)}x=Math.floor(s/g);l=x*g;w=Math.floor((s-l)/e);l+=w*e;n=Math.floor((s-l)/60);l+=n*60;r=s-l;u=(x<100?"0"+(x<10?"0":""):"")+x+(w<10?"0":"")+w+(n<10?"0":"")+n+(r<10?"0":"")+r;for(p=q.vals.length-1,o=u.length-1;p>=0;p-=1,o-=1){m=parseInt(u.substr(o,1),10);q.vals[p]=m;v.eq(p).children().html(m)}if(t||k){q.ttStartTime=Date.now();q.intervalId=setTimeout(b.bind(this),1000);this.data("intervalId",q.intervalId)}}function b(q){var p=this;var r=this.find("ul");var l=this.data();var j,m,o,k,s,i;if(!l.vals||r.length===0){if(l.intervalId){clearTimeout(l.intervalId);this.data("intervalId",null)}if(l.callback){l.callback()}return}if(typeof q==="undefined"){q=l.iSec}this.data("tickCount",l.tickCount+1);j=l.vals[q];m=r.eq(q);o=m.children();k=l.countdown?-1:1;o.eq(1).html(j);j+=k;if(typeof l.step==="function"&&l.tickCount%l.stepCount===0){this.data("tickCount",0);l.step()}if(q===l.iSec){s=l.tickTimeout;i=Date.now()-l.ttStartTime;l.sec+=k;s+=(Math.abs(l.seconds-l.sec)*s)-i;l.intervalId=setTimeout(b.bind(this),s)}if(j<0||j>l.limits[q]){if(j<0){j=l.limits[q];if(q===l.iHour&&l.displayDays>0&&l.vals[q-1]===0){j=3}}else{j=0}if(q>0){b.call(this,q-1)}}else{if(!l.countdown&&q===l.iHour&&l.displayDays>0&&l.vals[q-1]===2&&l.vals[q]===3){j=0;b.call(this,q-1)}}o.eq(0).html(j);if(c.support.transition){m.addClass("transition");m.css({top:0});setTimeout(function(){m.removeClass("transition");o.eq(1).html(j);m.css({top:"-"+l.height+"px"});if(k>0||q!==l.iSec){return}if(l.sec===l.countdownAlertLimit){r.parent().addClass("timeTo-alert")}if(l.sec===0){r.parent().removeClass("timeTo-alert");if(l.intervalId){clearTimeout(l.intervalId);p.data("intervalId",null)}if(typeof l.callback==="function"){l.callback()}}},410)}else{m.stop().animate({top:0},400,q!==l.iSec?null:function(){o.eq(1).html(j);m.css({top:"-"+l.height+"px"});if(k>0||q!==l.iSec){return}if(l.sec===l.countdownAlertLimit){r.parent().addClass("timeTo-alert")}else{if(l.sec===0){r.parent().removeClass("timeTo-alert");if(l.intervalId){clearTimeout(l.intervalId);p.data("intervalId",null)}if(typeof l.callback==="function"){l.callback()}}}})}l.vals[q]=j}return c}));