const months=['януари','февруари','март','април','май','юни','юли','август','септември','октомври','ноември','декември'],monthMin = ['','','','','','','','','','','',''],days = ['неделя','понеделник','вторник','сряда','четвъртък','петък','събота'],daysMin = ['','','','','','',''],seasons = ['зима','пролет','лято','есен'];function postDate(daysName, daysMinName, monthsName, monthsMinName, seasonsName) {const _counterLength = 60;for (let counter = 0; counter < _counterLength; counter++) {innerDate(counter, 'date-');innerDate(counter, 'date')} function innerDate(counter, dateType) {let newCounter;dateType === 'date-' ? newCounter = -counter : newCounter = counter; const _msInDay = 86400000, _localDate = new Date(Date.now() + (newCounter * _msInDay)), _day = _localDate.getDate(), _month = _localDate.getMonth() + 1, _year = _localDate.getFullYear(); const dayDefault = addZero(_day), monthDefault = addZero(_month), defaultDate = dayDefault + '.' + monthDefault + '.' + _year; const dateClass = dateType + counter, nodeList = document.querySelectorAll('.' + dateClass); for (let i = 0; i < nodeList.length; i++) {const dateFormat = nodeList[i].dataset.format;dateFormat !== undefined && dateFormat !== ''? nodeList[i].innerHTML = String(changeFormat(dayDefault, _month, _year, dateFormat, newCounter)): nodeList[i].innerHTML = defaultDate} } function changeFormat(_day, _month, _year, format, counter) { let innerFormat = format; const testFormat = ["dd","mm","yyyy","monthFull","year"], dateFormat = { dd: _day, mm: addZero(_month), yyyy: _year, monthFull: getMonthName(_month, monthsName, false), year: getYearWithCounter(_year, counter), }; for (let i = 0; i < testFormat.length; i++) { let string = testFormat[i]; let regExp = new RegExp(string); innerFormat = innerFormat.replace(regExp, dateFormat[string]); } return innerFormat.split(' ').join(' ') } function getMonthName(_month, monthsName, bigFirstLetter, counter) { const monthCounter = !!counter ? counter : 0; let month; _month + monthCounter > 12 ? month = monthCounter - (12 - _month) : month = _month + monthCounter; _month + monthCounter <= 0 ? month = 12 + monthCounter + 1 : month = _month + monthCounter; return changeFirstLetter(bigFirstLetter, monthsName[month - 1]) } function getYearWithCounter(year, counter) {return year + counter} function addZero(numb){return numb<10?'0'+numb:numb} function changeFirstLetter(isBig,str){return isBig&&str&&str.length>0?str[0].toUpperCase()+str.slice(1):str} }if (document.body.classList.contains('ev-date')) {document.addEventListener("DOMContentLoaded", function () {postDate(days, daysMin, months, monthMin, seasons)});}

!function(t){"object"==typeof module&&"object"==typeof module.exports?module.exports=function(e){t(e,window,document)}:t(jQuery,window,document)}(function(t,e,n,o){var s;Number.isFinite=Number.isFinite||function(t){return"number"==typeof t&&isFinite(t)};var i=function(t){return this._options={},this.targetElement=t,this};i.start=function(t,e){return function(t,e){e=e||{},t._options.elementContainer=e.elementContainer||"div";var n=e.classNames||{};t._options.classNameSeconds=n.seconds||"jst-seconds",t._options.classNameMinutes=n.minutes||"jst-minutes",t._options.classNameHours=n.hours||"jst-hours",t._options.classNameClearDiv=n.clearDiv||"jst-clearDiv",t._options.classNameTimeout=n.timeout||"jst-timeout"}(s=new i(e),t),s.start(t)},i.prototype.start=function(e){var o=this,i=function(t){var e=n.createElement(o._options.elementContainer);e.className=o._options.classNameSeconds;var s=n.createElement(o._options.elementContainer);s.className=o._options.classNameMinutes;var i=n.createElement(o._options.elementContainer);i.className=o._options.classNameHours;var r=n.createElement(o._options.elementContainer);return r.className=o._options.classNameClearDiv,t.append(i).append(s).append(e).append(r)};this.targetElement.each(function(n,o){var r=this,a=t(o),u=a.attr("class");return a.on("complete",function(){clearInterval(a.intervalId)}),a.on("complete",function(){a.onComplete(a)}),a.on("complete",function(){a.addClass(r._options.classNameTimeout)}),a.on("complete",function(){e&&!0===e.loop&&s.resetTimer(a,e,u)}),a.on("pause",function(){clearInterval(a.intervalId),a.paused=!0}),a.on("resume",function(){a.paused=!1;const t=a.data("timeLeft"),e=a.onComplete;r.startCountdown(a,{secondsLeft:t,onComplete:e})}),i(a),this.startCountdown(a,e)}.bind(this))},i.prototype.resetTimer=function(t,e,n){var o=0;e.loopInterval&&(o=1e3*parseInt(e.loopInterval,10)),setTimeout(function(){t.trigger("reset"),t.attr("class",n+" loop"),s.startCountdown(t,e)},o)},i.prototype.fetchSecondsLeft=function(t){var e=t.data("seconds-left"),n=t.data("minutes-left");if(Number.isFinite(e))return parseInt(e,10);if(Number.isFinite(n))return 60*parseFloat(n);throw"Missing time data"},i.prototype.startCountdown=function(t,e){e=e||{};var n=null,o=function(){return clearInterval(n),this.clearTimer(t)}.bind(this);t.onComplete=e.onComplete||o,t.allowPause=e.allowPause||!1,t.allowPause&&t.on("click",function(){t.paused?t.trigger("resume"):t.trigger("pause")});var s=e.secondsLeft||this.fetchSecondsLeft(t),i=e.refreshRate||1e3,r=s+this.currentTime(),a=r-this.currentTime();this.setFinalValue(this.formatTimeLeft(a),t),n=setInterval(function(){(a=r-this.currentTime())<0&&(a=0),t.data("timeLeft",a),this.setFinalValue(this.formatTimeLeft(a),t)}.bind(this),i),t.intervalId=n},i.prototype.clearTimer=function(t){t.find(".jst-seconds").text("00"),t.find(".jst-minutes").text("00:"),t.find(".jst-hours").text("00:")},i.prototype.currentTime=function(){return Math.round((new Date).getTime()/1e3)},i.prototype.formatTimeLeft=function(t){var e=function(t,e){return(t+="").length>=(e=e||2)?t:Array(e-t.length+1).join(0)+t},n=Math.floor(t/3600);t-=3600*n;var o=Math.floor(t/60);t-=60*o;var s=parseInt(t%60,10);return 0==+n&&0==+o&&0==+s?[]:[e(n),e(o),e(s)]},i.prototype.setFinalValue=function(t,e){if(0===t.length)return this.clearTimer(e),e.trigger("complete"),!1;e.find("."+this._options.classNameSeconds).text(t.pop()),e.find("."+this._options.classNameMinutes).text(t.pop()+":"),e.find("."+this._options.classNameHours).text(t.pop()+":")},t.fn.startTimer=function(t){return this.TimerObject=i,i.start(t,this),this}});